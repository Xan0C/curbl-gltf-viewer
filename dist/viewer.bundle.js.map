{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../src/cache/cache.ts","webpack:///../src/cache/caches/baseCache.ts","webpack:///../src/cache/caches/index.ts","webpack:///../src/cache/index.ts","webpack:///../src/canvas/Canvas.ts","webpack:///../src/canvas/index.ts","webpack:///../src/components/camera/cameraComponent.ts","webpack:///../src/components/camera/index.ts","webpack:///../src/components/camera/lookAtCameraComponent.ts","webpack:///../src/components/gui/GUIComponent.ts","webpack:///../src/components/gui/index.ts","webpack:///../src/components/index.ts","webpack:///../src/components/light/index.ts","webpack:///../src/components/light/lightComponent.ts","webpack:///../src/components/renderer/index.ts","webpack:///../src/components/renderer/skyboxComponent.ts","webpack:///../src/components/scene/animationComponent.ts","webpack:///../src/components/scene/index.ts","webpack:///../src/components/scene/sceneComponent.ts","webpack:///../src/components/transform/index.ts","webpack:///../src/components/transform/transformComponent.ts","webpack:///../src/events/DomEvents.ts","webpack:///../src/events/EmitSignal.ts","webpack:///../src/events/index.ts","webpack:///../src/gltf/Base64Binary.ts","webpack:///../src/gltf/GLTFAccessorProcessor.ts","webpack:///../src/gltf/GLTFAnimationProcessor.ts","webpack:///../src/gltf/GLTFMaterialProcessor.ts","webpack:///../src/gltf/GLTFMeshProcessor.ts","webpack:///../src/gltf/GLTFModel.ts","webpack:///../src/gltf/GLTFNodeProcessor.ts","webpack:///../src/gltf/GLTFParser.ts","webpack:///../src/gltf/GLTFSceneProcessor.ts","webpack:///../src/gltf/GLTFSkinProcessor.ts","webpack:///../src/gltf/index.ts","webpack:///../src/gltf/model/index.ts","webpack:///../src/index.ts?6f37","webpack:///../src/loader/CubemapLoader.ts","webpack:///../src/loader/GLSLLoader.ts","webpack:///../src/loader/GLTFLoader.ts","webpack:///../src/loader/TextureLoader.ts","webpack:///../src/loader/index.ts","webpack:///../src/material/index.ts","webpack:///../src/material/material.ts","webpack:///../src/material/materialmap.ts","webpack:///../src/material/metallicRoughness.ts","webpack:///../src/math/color.ts","webpack:///../src/math/index.ts","webpack:///../src/math/math.ts","webpack:///../src/scene/animation/animation.ts","webpack:///../src/scene/animation/animationChannel.ts","webpack:///../src/scene/animation/animationSampler.ts","webpack:///../src/scene/animation/index.ts","webpack:///../src/scene/data/accessor.ts","webpack:///../src/scene/data/bufferView.ts","webpack:///../src/scene/data/index.ts","webpack:///../src/scene/index.ts","webpack:///../src/scene/mesh.ts","webpack:///../src/scene/primitive/index.ts","webpack:///../src/scene/primitive/primitive.ts","webpack:///../src/scene/scene.ts","webpack:///../src/scene/sceneNode.ts","webpack:///../src/scene/shader.ts","webpack:///../src/scene/skin/index.ts","webpack:///../src/scene/skin/skin.ts","webpack:///../src/scene/transform.ts","webpack:///../src/shader/SkyboxShader.ts","webpack:///../src/shader/index.ts","webpack:///../src/shader/khronosPbrShader.ts","webpack:///../src/systems/animation/AnimationSystem.ts","webpack:///../src/systems/animation/index.ts","webpack:///../src/systems/camera/CameraSystem.ts","webpack:///../src/systems/camera/LookAtCameraControlSystem.ts","webpack:///../src/systems/camera/index.ts","webpack:///../src/systems/gui/GUISystem.ts","webpack:///../src/systems/gui/index.ts","webpack:///../src/systems/index.ts","webpack:///../src/systems/rendering/ForwardLightPass.ts","webpack:///../src/systems/rendering/ForwardScenePass.ts","webpack:///../src/systems/rendering/ForwardShadingSystem.ts","webpack:///../src/systems/rendering/PrePass.ts","webpack:///../src/systems/rendering/SkyboxPass.ts","webpack:///../src/systems/rendering/index.ts","webpack:///../src/systems/world/index.ts","webpack:///../src/systems/world/worldScene.ts","webpack:///../src/systems/world/worldSystem.ts","webpack:///../src/viewer/Viewer.ts","webpack:///../src/viewer/constants.ts","webpack:///../src/viewer/index.ts","webpack:///../node_modules/curbl-ecs/lib/Component.js","webpack:///../node_modules/curbl-ecs/lib/ECS.js","webpack:///../node_modules/curbl-ecs/lib/ECSBase.js","webpack:///../node_modules/curbl-ecs/lib/Entity.js","webpack:///../node_modules/curbl-ecs/lib/EntityComponentManager.js","webpack:///../node_modules/curbl-ecs/lib/EntityComponentSystem.js","webpack:///../node_modules/curbl-ecs/lib/EntityComponentWorker.js","webpack:///../node_modules/curbl-ecs/lib/EntitySystemManager.js","webpack:///../node_modules/curbl-ecs/lib/Events.js","webpack:///../node_modules/curbl-ecs/lib/InjectorService.js","webpack:///../node_modules/curbl-ecs/lib/System.js","webpack:///../node_modules/curbl-ecs/lib/UUIDGenerator.js","webpack:///../node_modules/curbl-ecs/lib/index.js","webpack:///../node_modules/curbl-ecs/node_modules/eventemitter3/index.js","webpack:///../src/GLBuffer.ts","webpack:///../src/GLCube.ts","webpack:///../src/GLCubemap.ts","webpack:///../src/GLFramebuffer.ts","webpack:///../src/GLQuad.ts","webpack:///../src/GLSphere.ts","webpack:///../src/GLTexture.ts","webpack:///../src/GLUniformBufferObject.ts","webpack:///../src/GLVertexArrayObject.ts","webpack:///../../src/constants/GLConstants.ts","webpack:///../../src/constants/index.ts","webpack:///../../src/gl_util/defaultValue.ts","webpack:///../../src/gl_util/glGet.ts","webpack:///../../src/gl_util/index.ts","webpack:///../../src/gl_util/mapSize.ts","webpack:///../../src/gl_util/mapType.ts","webpack:///../../src/gl_util/webglUtil.ts","webpack:///../src/index.ts","webpack:///../../src/shader/GLAttribute.ts","webpack:///../../src/shader/GLShader.ts","webpack:///../../src/shader/index.ts","webpack:///../../src/shader/programCompiler.ts","webpack:///../../src/shader/uniform.ts","webpack:///../node_modules/curbl-gl-util/node_modules/gl-matrix/esm/common.js","webpack:///../node_modules/curbl-gl-util/node_modules/gl-matrix/esm/index.js","webpack:///../node_modules/curbl-gl-util/node_modules/gl-matrix/esm/mat2.js","webpack:///../node_modules/curbl-gl-util/node_modules/gl-matrix/esm/mat2d.js","webpack:///../node_modules/curbl-gl-util/node_modules/gl-matrix/esm/mat3.js","webpack:///../node_modules/curbl-gl-util/node_modules/gl-matrix/esm/mat4.js","webpack:///../node_modules/curbl-gl-util/node_modules/gl-matrix/esm/quat.js","webpack:///../node_modules/curbl-gl-util/node_modules/gl-matrix/esm/quat2.js","webpack:///../node_modules/curbl-gl-util/node_modules/gl-matrix/esm/vec2.js","webpack:///../node_modules/curbl-gl-util/node_modules/gl-matrix/esm/vec3.js","webpack:///../node_modules/curbl-gl-util/node_modules/gl-matrix/esm/vec4.js","webpack:///../node_modules/curbl-loader/lib/AsyncWorkerQueue.js","webpack:///../node_modules/curbl-loader/lib/EmitSignal.js","webpack:///../node_modules/curbl-loader/lib/Middleware.js","webpack:///../node_modules/curbl-loader/lib/Resource.js","webpack:///../node_modules/curbl-loader/lib/ResourceLoader.js","webpack:///../node_modules/curbl-loader/lib/index.js","webpack:///../node_modules/curbl-loader/node_modules/eventemitter3/index.js","webpack:///../src/dat/color/toString.js","webpack:///../src/dat/utils/common.js","webpack:///../src/dat/color/interpret.js","webpack:///../src/dat/color/math.js","webpack:///../src/dat/color/Color.js","webpack:///../src/dat/controllers/Controller.js","webpack:///../src/dat/dom/dom.js","webpack:///../src/dat/controllers/BooleanController.js","webpack:///../src/dat/controllers/OptionController.js","webpack:///../src/dat/controllers/StringController.js","webpack:///../src/dat/controllers/NumberController.js","webpack:///../src/dat/controllers/NumberControllerBox.js","webpack:///../src/dat/controllers/NumberControllerSlider.js","webpack:///../src/dat/controllers/FunctionController.js","webpack:///../src/dat/controllers/ColorController.js","webpack:///../src/dat/utils/css.js","webpack:///../src/dat/gui/saveDialogue.html.js","webpack:///../src/dat/controllers/ControllerFactory.js","webpack:///../src/dat/utils/requestAnimationFrame.js","webpack:///../src/dat/dom/CenteredDiv.js","webpack:///../src/dat/gui/GUI.js","webpack:///../src/dat/index.js","webpack:///../node_modules/eventemitter3/index.js","webpack:///../node_modules/gl-matrix/esm/common.js","webpack:///../node_modules/gl-matrix/esm/index.js","webpack:///../node_modules/gl-matrix/esm/mat2.js","webpack:///../node_modules/gl-matrix/esm/mat2d.js","webpack:///../node_modules/gl-matrix/esm/mat3.js","webpack:///../node_modules/gl-matrix/esm/mat4.js","webpack:///../node_modules/gl-matrix/esm/quat.js","webpack:///../node_modules/gl-matrix/esm/quat2.js","webpack:///../node_modules/gl-matrix/esm/vec2.js","webpack:///../node_modules/gl-matrix/esm/vec3.js","webpack:///../node_modules/gl-matrix/esm/vec4.js","webpack:///./src/example.ts","webpack:///./src/index.ts","webpack:///./src/scenes/EnvironmentScene.ts","webpack:///./src/scenes/ModelScene.ts"],"names":["Object","defineProperty","exports","value","ECS_1","require","ComponentBitmaskMap","_bitmaskMap","create","prototype","has","component","constructor","name","add","size","get","getCompound","components","bitmask","i","keys","length","enumerable","configurable","set","map","COMPONENT_PROPERTIES","COMPONENT_PROTOTYPE","remove","ECS","noop","COMPONENT_PROPERTY_DECORATOR","id","_id","injectComponent","propKey","undefined","protoKey","InjectorService_1","EntityComponentWorker_1","EntityComponentSystem_1","_instance","WorkerGlobalScope","self","EntityComponentWorker","EntityComponentSystem","setPrototypeOf","obj","proto","fn","__proto__","InjectorService","instance","createEntity","entity","ecm","addEntity","getEntities","_a","_i","arguments","apply","removeEntity","removeAllEntities","hasEntity","removeComponent","addComponent","addSystem","system","componentMask","scm","hasSystem","hasSystemOf","hasOf","removeSystem","removeSystemOf","removeOf","getSystemComponentMaskOf","getComponentMaskOf","removeEntityFromSystem","getSystem","update","a1","a2","a3","a4","a5","a6","a7","a8","a9","callSystemMethod","functionName","addWorker","worker","init","cb","createComponentsFromDecorator","comps","components_1","dec","config","Component","getter","setter","System","_bitmask","componentBitmaskMap","Entity","_components","uuid","systemUpdateMethods","methods","events","EntityComponentManager_1","EntitySystemManager_1","Component_1","EventEmitter","ECSBase","EntityComponentManager","EntitySystemManager","registerEvents","ENTITY_PROPERTIES","getAll","dispose","ENTITY_PROTOTYPE","ENTITY_PROPERTY_DECORATOR","injectEntity","__assign","assign","t","s","n","p","hasOwnProperty","call","Entity_1","UUIDGenerator_1","Events_1","UUIDGenerator","_events","_uuid","componentBitmask","_entities","updateComponentBitmask","silent","silentWorker","emit","ECM_EVENTS","ENTITY_ADDED","ECM_WORKER_EVENTS","updateEntities","entities","ENTITIES_UPDATED","getEntitiesByBitmask","push","ENTITY_REMOVED","COMPONENT_ADDED","comp","COMPONENT_REMOVED","__extends","extendStatics","d","b","Array","__","ECSBase_1","_super","_this","workers","workerBitmasks","on","onEntityAdded","bind","onEntityRemoved","onComponentAdded","onComponentRemoved","ESM_EVENTS","SYSTEM_ADDED","onSystemAdded","onEntitiesUpdated","onEntityAddedToWorker","onEntityRemovedFromWorker","onComponentAddedToWorker","onComponentRemovedFromWorker","onEntitiesUpdatedForWorker","updateEntity","postMessage","message","k","workerEntities","bitmaskMap","sendEventToWorker","sendEventToAllWorkers","injectEntities","injectComponents","delegateWorkerEvents","ev","data","ECS_WORKER_EVENTS","INIT_WORKER","sendInitEvent","target","ESM_WORKER_EVENTS","sendSystemEntitiesToWorker","UPDATE_WORKER","index","indexOf","registerWorker","addEventListener","args","sendEventToMaster","triggerInit","initialized","initcb","addEntitiesForSystem","System_1","_systemUpdateMethods","systems","ids","updateBitmask","injectSystem","setUp","console","warn","SYSTEM_REMOVED","tearDown","splice","getEntitiesOf","entityMap","SYSTEM_EVENTS","system_1","idx","system_2","addEntityToSystem","system_3","updateSystemEntity","method","updateSystemMethods","wrapper","concat","DecoratorInjector","object","getPrototypeOf","SYSTEM_PROPERTIES","fromECS","SYSTEM_PROTOTYPE","SYSTEM_PROPERTY_DECORATOR","updateMethods","replace","Math","random","toString","__export","m","prefix","Events","EE","context","once","addListener","emitter","event","TypeError","listener","evt","_eventsCount","clearEvent","eventNames","names","slice","getOwnPropertySymbols","listeners","handlers","l","ee","listenerCount","len","removeListener","j","removeAllListeners","off","prefixed","module","EPSILON","ARRAY_TYPE","Float32Array","RANDOM","setMatrixArrayType","type","degree","PI","toRadian","a","equals","abs","max","hypot","y","sqrt","out","glMatrix","clone","copy","identity","fromValues","m00","m01","m10","m11","transpose","invert","a0","det","adjoint","determinant","multiply","b0","b1","b2","b3","rotate","rad","sin","c","cos","scale","v","v0","v1","fromRotation","fromScaling","str","frob","LDU","L","D","U","subtract","exactEquals","multiplyScalar","multiplyScalarAndAdd","mul","sub","tx","ty","aa","ab","ac","ad","atx","aty","b4","b5","translate","fromTranslation","fromMat4","m02","m12","m20","m21","m22","a01","a02","a12","a00","a10","a11","a20","a21","a22","b01","b11","b21","b00","b02","b10","b12","b20","b22","x","fromMat2d","fromQuat","q","z","w","x2","y2","z2","xx","yx","yy","zx","zy","zz","wx","wy","wz","normalFromMat4","a03","a13","a23","a30","a31","a32","a33","b03","b04","b05","b06","b07","b08","b09","projection","width","height","b6","b7","b8","m03","m13","m23","m30","m31","m32","m33","axis","rotateX","rotateY","rotateZ","fromXRotation","fromYRotation","fromZRotation","fromRotationTranslation","xy","xz","yz","fromQuat2","translation","bx","by","bz","bw","ax","ay","az","aw","magnitude","getTranslation","mat","getScaling","getRotation","scaling","is1","is2","is3","sm11","sm12","sm13","sm21","sm22","sm23","sm31","sm32","sm33","trace","S","fromRotationTranslationScale","sx","sy","sz","fromRotationTranslationScaleOrigin","o","ox","oy","oz","out0","out1","out2","out4","out5","out6","out8","out9","out10","frustum","left","right","bottom","top","near","far","rl","tb","nf","perspective","fovy","aspect","f","tan","Infinity","perspectiveFromFieldOfView","fov","upTan","upDegrees","downTan","downDegrees","leftTan","leftDegrees","rightTan","rightDegrees","xScale","yScale","ortho","lr","bt","lookAt","eye","center","up","x0","x1","y0","y1","z0","z1","eyex","eyey","eyez","upx","upy","upz","centerx","centery","centerz","targetTo","a14","a15","b9","b13","b14","b15","setAxisAngle","getAxisAngle","out_axis","acos","getAngle","dotproduct","dot","calculateW","exp","r","et","ln","atan2","log","pow","slerp","omega","cosom","sinom","scale0","scale1","u1","u2","u3","sqrt1MinusU1","sqrtU1","invDot","conjugate","fromMat3","fTrace","fRoot","fromEuler","halfToRad","cx","cy","cz","vec4","lerp","squaredLength","sqrLen","normalize","rotationTo","tmpvec3","vec3","xUnitVec3","yUnitVec3","sqlerp","temp1","temp2","setAxes","matr","mat3","view","dq","w1","w2","fromRotationTranslationValues","outer","quat","mat4","getReal","getDual","setReal","setDual","ax1","ay1","az1","aw1","bx1","by1","bz1","ax2","ay2","az2","aw2","rotateByQuatAppend","qx","qy","qz","qw","rotateByQuatPrepend","rotateAroundAxis","axisLength","ax0","ay0","az0","aw0","bw1","bx0","by0","bz0","bw0","mt","sqlen","a_dot_b","divide","ceil","floor","min","round","scaleAndAdd","distance","squaredDistance","negate","inverse","cross","transformMat2","transformMat2d","transformMat3","transformMat4","p0","p1","sinC","cosC","angle","len1","len2","cosine","zero","div","dist","sqrDist","forEach","vec","stride","offset","count","arg","hermite","factorTimes2","factor1","factor2","factor3","factor4","bezier","inverseFactor","inverseFactorTimesTwo","zScale","transformQuat","uvx","uvy","uvz","uuvx","uuvy","uuvz","tempA","tempB","u","A","B","C","E","F","G","H","I","J","v2","v3","v4","s1","s2","ix","iy","iz","iw","_noop","AsyncWorkerQueue","concurrency","paused","processes","tasks","process","finishCb","_loop_1","task","this_1","shift","listenerContext","next","processContext","enqueue","onWorkFinished","completed","dequeue","taskIndex","idle","workerFinished","onQueueFinished","resources","resource","onWorkFinishedContext","abort","stop","pause","resume","EmitSignal","_type","_emitter","dispatch","addOnce","RESOURCE_LOADER_EVENTS","RESOURCE_LOADER_PROPERTIES","onLoad","LOAD_COMPLETE","RESOURCE_LOADER_PROTOTYPE","transform","Middleware","addResourceToQueue","_queueCallback","inject","middleware","url","Resource","_loader","_addResourceToQueue","onResourcesLoaded","key","onResourcesLoadedContext","request","RESOURCE_EVENT","LOAD_TYPE","options","loadType","XHR","responseType","onProgress","PROGRESS","onLoadStart","LOAD_START","onLoadFinished","onError","ERROR","onAbort","ABORT","onTimeout","TIMEOUT","loadXhr","XMLHttpRequest","timeout","open","async","send","loadImage","image","Image","error","crossOrigin","_determineCrossOrigin","src","window","origin","location","loc","tempAnchor","document","createElement","href","samePort","port","protocol","host","hostname","load","IMAGE","HTMLImageElement","LOADER_EVENTS","ResourceLoader","resourceQueue","_preSignal","PRE","_afterSignal","AFTER","onLoadComplete","onComplete","LOADER_FINISHED","_callAfter","addMiddleware","removeMiddleware","_onResourceLoadStart","pre","after","_onLoadComplete","colorFormat","color","g","h","forceCSSHex","ARR_EACH","ARR_SLICE","Common","toCall","itr","func","callNow","callImmediately","setTimeout","isNaN","INTERPRETATIONS","common","test","original","parseInt","parseFloat","result","toReturn","interpret","family","conversion","tmpComponent","ColorMath","hi","delta","hex","componentIndex","Color","colorToString","math","defineRGBComponent","defineHSVComponent","Controller","fnc","newValue","EVENT_MAP","EVENT_MAP_INV","CSS_VALUE_PIXELS","val","match","dom","elem","selectable","vertical","horizontal","params","pars","className","clientX","clientY","bool","newBool","classes","style","getComputedStyle","cssValueToPixels","BooleanController","OptionController","opt","desiredValue","StringController","e","_x","NumberController","_params","numDecimals","_v","minValue","maxValue","stepValue","tenTo","NumberControllerBox","prevY","attempted","diff","roundToDecimal","o1","o2","i2","NumberControllerSlider","step","bgRect","pct","FunctionController","text","ColorController","valueField","fieldRect","mismatch","flip","_flip","vendors","css","doc","indoc","link","injected","head","saveDialogContents","ControllerFactory","initialValue","CenteredDiv","hide","CSS_NAMESPACE","HIDE_KEY_CODE","CLOSE_BUTTON_HEIGHT","DEFAULT_DEFAULT_PRESET_NAME","SUPPORTS_LOCAL_STORAGE","SAVE_DIALOGUE","autoPlaceVirgin","autoPlaceContainer","hideableGuis","GUI","DEFAULT_WIDTH","autoPlace","preset","useLocalStorage","localStorage","getLocalStorageHash","saveToLocalStorage","titleRow","savedGui","JSON","titleRowName","addRow","onClickTitle","root","controller","newGuiParams","parent","gui","li","folder","node","getCurrentPreset","element","nextSibling","box","pc","pb","oldName","wasListening","newController","matchedIndex","controllerMap","presetMap","factoryArgs","container","gears","button","button2","button3","select","explain","localStorageCheckBox","saveLocally","newConstructorTextArea","presetName","prompt","pmouseX","savedValues","useInitialValues","controllerArray","controllers","sampleModels","gltfJson","gltfBin","Example","camera","viewer","scene","Viewer","innerWidth","innerHeight","createSceneSelector","createCamera","world","addScene","EnvironmentScene","ModelScene","shader","start","reloadModelScene","loader","removeScene","CameraComponent","TransformComponent","position","rotation","LookAtCameraComponent","onResize","projMatrix","GUIComponent","properties","prop","propName","items","onChange","onload","preload","CubemapLoader","GLOBAL_TEXTURES","SKYBOX","front","back","DIFFUSE_ENVIRONMENT","premultiplyAlpha","internalFormat","GL_INTERNALFORMAT","SRGB8_ALPHA8","format","RGBA","GL_TYPES","UNSIGNED_BYTE","specular_map","SPECULAR_ENVIRONMENT","TextureLoader","BRDF_LUT","sampler","magFilter","MAG_FILTER","LINEAR","minFilter","MIN_FILTER","wrapS","TEXTURE_WRAP","CLAMP_TO_EDGE","wrapT","lightComponent","LightComponent","lightColor","lightScale","lightRotation","lightPitch","isColor","updateLight","shutdown","WorldScene","GLTFLoader","sceneObj","cache","CACHE_TYPE","SCENE","unload","initializeDefines","meshes","upload","SceneComponent","animations","animationKey","AnimationComponent"],"mappings":"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","file":"viewer.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.ts\");\n","import {IBaseCache} from \"./caches\";\r\n\r\n/**\r\n * With Scene, Node and Mesh cache we can access the Model in different stages\r\n * e.g. Mesh has no animation or Transform,\r\n * e.g. Node has Animation, Transform etc. for one Mesh\r\n * e.g. Scene has all Nodes with all Animations and Transforms\r\n */\r\nexport enum CACHE_TYPE  {\r\n    TEXTURE,\r\n    MESH,\r\n    SCENE,\r\n    ANIMATION,\r\n    MATERIAL,\r\n    SHADER,\r\n    NOOP\r\n}\r\n\r\n/**\r\n * Global Cache\r\n */\r\nexport class Cache {\r\n    private caches:Array<IBaseCache<any>>;\r\n\r\n    constructor(){\r\n        this.caches = [];\r\n    }\r\n\r\n    /**\r\n     * Add a new sub cache\r\n     * @param {CACHE_TYPE} type\r\n     * @param {IBaseCache<T>} cache\r\n     */\r\n    addCache<T>(type:number, cache:IBaseCache<T>):void{\r\n        this.caches[type] = cache;\r\n    }\r\n\r\n    /**\r\n     * Remove a sub cache\r\n     * @param {string|number} type\r\n     */\r\n    removeCache(type:number):void{\r\n        this.caches.splice(type,1);\r\n    }\r\n\r\n    /**\r\n     * get sub cache\r\n     * @param {string|number} type\r\n     * @returns {IBaseCache<T>}\r\n     */\r\n    getCache<T>(type:number):IBaseCache<T>{\r\n        return this.caches[type] as IBaseCache<T>;\r\n    }\r\n\r\n    /**\r\n     * add a value to a cache\r\n     * @param {string|number} type\r\n     * @param {string} key\r\n     * @param data\r\n     */\r\n    public add(type:number, key:string, data:any){\r\n        if(this.caches[type]) {\r\n            this.caches[type].add(key, data);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * get value from cache\r\n     * @param {string|number} type\r\n     * @param {string} key\r\n     * @returns {T}\r\n     */\r\n    public get<T>(type:number, key:string):T{\r\n        if(this.caches[type]){\r\n            return this.caches[type].get(key);\r\n        }\r\n    }\r\n\r\n    public has(type:number, key:string):boolean{\r\n        if(this.caches[type]){\r\n            return !!this.caches[type].get(key);\r\n        }\r\n        return false;\r\n    }\r\n}","import {EmitSignal} from \"../../events/EmitSignal\";\r\nimport * as EventEmitter from \"eventemitter3\";\r\n\r\nexport enum CACHE_EVENTS {\r\n    ADDED = \"ADDED\",\r\n    REMOVED = \"REMOVED\"\r\n}\r\n\r\nexport interface  IBaseCache<T> {\r\n    onAdded:EmitSignal;\r\n    onRemoved:EmitSignal;\r\n    add(key:string,data:T):void;\r\n    addMultiple(elements:Array<T>, mapFunc:(e:T)=>{key:string,data:T});\r\n    remove(key:string):void;\r\n    get(key:string):T;\r\n    getAll():{[x:string]:T};\r\n}\r\n\r\nexport class BaseCache<T> implements IBaseCache<T> {\r\n\r\n    protected cache:{[x:string]:T};\r\n    protected emitter:EventEmitter;\r\n    private _onAdded:EmitSignal<(key:string,data:T)=>void>;\r\n    private _onRemoved:EmitSignal<(key:string,data:T)=>void>;\r\n\r\n    constructor(){\r\n        this.cache = {};\r\n        this.emitter = new EventEmitter();\r\n        this._onAdded = new EmitSignal(this.emitter,CACHE_EVENTS.ADDED);\r\n        this._onRemoved = new EmitSignal(this.emitter,CACHE_EVENTS.REMOVED);\r\n    }\r\n\r\n    get onAdded(): EmitSignal<(key:string,data: T) => void> {\r\n        return this._onAdded;\r\n    }\r\n\r\n    get onRemoved(): EmitSignal<(key:string,data: T) => void> {\r\n        return this._onRemoved;\r\n    }\r\n\r\n    public add(key:string,data:T):void{\r\n        this.cache[key] = data;\r\n        this._onAdded.emit(key,data);\r\n    }\r\n\r\n    public addMultiple(elements:Array<T>,mapFunc: (e: T) => { key: string; data: T }) {\r\n        for(let i=0, element:T; element = elements[i]; i++) {\r\n            const value = mapFunc(element);\r\n            this.add(value.key, value.data);\r\n        }\r\n    }\r\n\r\n    public remove(key:string):void {\r\n        const data = this.cache[key];\r\n        delete this.cache[key];\r\n        this._onRemoved.emit(key,data);\r\n    }\r\n\r\n    public get(key:string):T{\r\n        return this.cache[key];\r\n    }\r\n\r\n    public getAll():{[x:string]:T}{\r\n        return this.cache;\r\n    }\r\n\r\n}","/**\n * @file Automatically generated by barrelsby.\n */\n\nexport * from \"./baseCache\";\n","/**\n * @file Automatically generated by barrelsby.\n */\n\nexport * from \"./cache\";\nexport * from \"./caches/index\";\n","import { WebGLUtil } from \"curbl-gl-util\";\r\n\r\n\r\nexport class Canvas {\r\n    private readonly _defaultWidth:number;\r\n    private readonly _defaultHeight:number;\r\n    private _element:HTMLCanvasElement;\r\n    private _context:WebGL2RenderingContext|WebGL2RenderingContext;\r\n\r\n\r\n    constructor(config:{width:number,height:number}){\r\n        this._defaultWidth = config.width;\r\n        this._defaultHeight = config.height;\r\n        this._element = document.createElement('canvas');\r\n        this._element.id     = \"viewer_canvas\";\r\n        this._element.width  = this._defaultWidth;\r\n        this._element.height = this._defaultHeight;\r\n    }\r\n\r\n    public appendCanvas(parent?:string):void{\r\n        if(!this._element){\r\n            throw \"canvas failed to initialize\";\r\n        }\r\n        if(parent){\r\n            document.getElementById(parent).appendChild(this._element);\r\n        }else{\r\n            document.body.appendChild(this._element);\r\n        }\r\n    }\r\n\r\n    public get context():WebGL2RenderingContext{\r\n        if(!this._context) {\r\n            this._context = WebGLUtil.setupWebGL(this._element,{ antialias: true, stencil: true, alpha: false} ) as WebGL2RenderingContext;\r\n        }\r\n        return this._context;\r\n    }\r\n\r\n    public get element():HTMLCanvasElement {\r\n        return this._element;\r\n    }\r\n\r\n    public set element(value:HTMLCanvasElement) {\r\n        this._element = value;\r\n    }\r\n\r\n    get width():number {\r\n        return this._element.width;\r\n    }\r\n\r\n    get height():number {\r\n        return this._element.height;\r\n    }\r\n}","/**\n * @file Automatically generated by barrelsby.\n */\n\nexport * from \"./Canvas\";\n","import {ECS, IComponent} from \"curbl-ecs\";\r\nimport {mat4} from \"gl-matrix\";\r\n\r\nexport type CameraConfig = {\r\n    viewMatrix?:mat4,\r\n    projMatrix?:mat4,\r\n    fovy?: number,\r\n    aspect?: number,\r\n    near?: number,\r\n    far?: number\r\n};\r\n\r\n@ECS.Component('CameraComponent')\r\nexport class CameraComponent implements IComponent{\r\n\r\n    private _viewMatrix:mat4;\r\n    private _projMatrix:mat4;\r\n\r\n    constructor(config:CameraConfig={\r\n        fovy: 0.785,\r\n        aspect: 16/9,\r\n        near: 0.01,\r\n        far: 100\r\n    }){\r\n       this.init(config);\r\n    }\r\n\r\n    init(config?:CameraConfig):void {\r\n        if(!config.projMatrix) {\r\n            this._viewMatrix = mat4.create();\r\n        }else {\r\n            this._viewMatrix = config.viewMatrix;\r\n        }\r\n        if(!config.projMatrix) {\r\n            this._projMatrix = mat4.create();\r\n            mat4.perspective(this._projMatrix, config.fovy||0.785, config.aspect||(16/9), config.near||0.01, config.far||100);\r\n        }else {\r\n            this._projMatrix = config.projMatrix;\r\n        }\r\n    }\r\n\r\n    remove():void {\r\n        mat4.identity(this._viewMatrix);\r\n        mat4.identity(this._projMatrix);\r\n    }\r\n\r\n    public get viewMatrix():mat4 {\r\n        return this._viewMatrix;\r\n    }\r\n\r\n    public set viewMatrix(value:mat4) {\r\n        this._viewMatrix = value;\r\n    }\r\n\r\n    public get projMatrix():mat4 {\r\n        return this._projMatrix;\r\n    }\r\n\r\n    public set projMatrix(value:mat4) {\r\n        this._projMatrix = value;\r\n    }\r\n}\r\n","/**\n * @file Automatically generated by barrelsby.\n */\n\nexport * from \"./cameraComponent\";\nexport * from \"./lookAtCameraComponent\";\n","import {ECS, IComponent} from \"curbl-ecs\";\r\nimport {vec3} from \"gl-matrix\";\r\n\r\nexport type LookAtCameraConfig = {\r\n    target?:vec3,\r\n    up?:vec3,\r\n    panning?:vec3,\r\n    zoom?:vec3,\r\n};\r\n\r\n@ECS.Component()\r\nexport class LookAtCameraComponent implements IComponent{\r\n\r\n    protected _target:vec3;\r\n    protected _up:vec3;\r\n    protected _panning:vec3;\r\n    protected _zooming:vec3;\r\n    protected _zoomPos:number;\r\n\r\n    constructor(config?:LookAtCameraConfig){\r\n        this.init(config);\r\n    }\r\n\r\n    init(config:LookAtCameraConfig=\r\n             {\r\n                 target: vec3.create(),\r\n                 up: vec3.fromValues(0,1,0),\r\n                 panning: vec3.create(),\r\n                 zoom: vec3.create(),\r\n             }):void {\r\n        this._target = config.target||vec3.create();\r\n        this._up = config.up||vec3.fromValues(0,1,0);\r\n        this._panning = config.panning||vec3.create();\r\n        this._zooming = config.zoom||vec3.create();\r\n        this._zoomPos = 0;\r\n    }\r\n\r\n    remove():void {\r\n    }\r\n\r\n    public get target():vec3 {\r\n        return this._target;\r\n    }\r\n\r\n    public set target(value:vec3) {\r\n        this._target = value;\r\n    }\r\n\r\n    public get up():vec3 {\r\n        return this._up;\r\n    }\r\n\r\n    public set up(value:vec3) {\r\n        this._up = value;\r\n    }\r\n\r\n    public get panning():vec3 {\r\n        return this._panning;\r\n    }\r\n\r\n    public set panning(value:vec3) {\r\n        this._panning = value;\r\n    }\r\n\r\n    public get zooming():vec3 {\r\n        return this._zooming;\r\n    }\r\n\r\n    public set zooming(value:vec3) {\r\n        this._zooming = value;\r\n    }\r\n\r\n    public get zoomPos():number {\r\n        return this._zoomPos;\r\n    }\r\n\r\n    public set zoomPos(value:number) {\r\n        this._zoomPos = value;\r\n    }\r\n}","import {ECS, IComponent} from \"curbl-ecs\";\r\n\r\nexport type GUIComponentConfig = {\r\n    folder?: string;\r\n    properties: Array<{\r\n        isColor?: boolean;\r\n        prop: any;\r\n        propName: string;\r\n        min?: number;\r\n        max?: number;\r\n        items?: Array<string>|{[x:string]:any};\r\n        onChange?: (value) => void;\r\n        onFinishChange?: (value) => void;\r\n    }>\r\n};\r\n\r\n@ECS.Component()\r\nexport class GUIComponent implements IComponent {\r\n\r\n    public config: GUIComponentConfig;\r\n\r\n    constructor(config: GUIComponentConfig) {\r\n        this.init(config);\r\n    }\r\n\r\n    init(config: GUIComponentConfig): void {\r\n        this.config = config;\r\n    }\r\n\r\n    remove(): void {\r\n    }\r\n}","/**\n * @file Automatically generated by barrelsby.\n */\n\nexport * from \"./GUIComponent\";\n","/**\n * @file Automatically generated by barrelsby.\n */\n\nexport * from \"./camera/index\";\nexport * from \"./gui/index\";\nexport * from \"./light/index\";\nexport * from \"./renderer/index\";\nexport * from \"./scene/index\";\nexport * from \"./transform/index\";\n","/**\n * @file Automatically generated by barrelsby.\n */\n\nexport * from \"./lightComponent\";\n","import {ECS, IComponent} from \"curbl-ecs\";\r\nimport {Color} from \"../../math\";\r\nimport {vec3} from \"gl-matrix\";\r\n\r\nexport interface BaseLightConfig  {\r\n    lightColor: [number, number, number]\r\n    lightScale: number,\r\n    lightRotation: number,\r\n    lightPitch: number\r\n}\r\n\r\n@ECS.Component()\r\nexport class LightComponent implements IComponent{\r\n\r\n    private _color:Color;\r\n    private _direction: vec3;\r\n    private _lightColor: [number, number, number];\r\n    private _lightScale: number;\r\n    private _lightRotation: number;\r\n    private _lightPitch: number;\r\n\r\n    constructor(config:BaseLightConfig={\r\n        lightColor: [255, 255, 255],\r\n        lightScale: 1.0,\r\n        lightRotation: 75,\r\n        lightPitch: 40\r\n    }){\r\n        this.init(config);\r\n    }\r\n\r\n    init(config:BaseLightConfig={\r\n        lightColor: [255, 255, 255],\r\n        lightScale: 1.0,\r\n        lightRotation: 75,\r\n        lightPitch: 40\r\n    }){\r\n        this._direction = vec3.create();\r\n        this._color = new Color();\r\n\r\n        this._lightColor = config.lightColor;\r\n        this._lightScale = config.lightScale;\r\n        this._lightRotation = config.lightRotation;\r\n        this._lightPitch = config.lightPitch;\r\n        this.updateLight();\r\n    }\r\n\r\n    remove():void {\r\n    }\r\n\r\n    public updateLight() {\r\n        this._color.r = this._lightScale * this._lightColor[0]/255;\r\n        this._color.g = this._lightScale * this._lightColor[1]/255;\r\n        this._color.b = this._lightScale * this._lightColor[2]/255;\r\n\r\n        const rot = this._lightRotation * Math.PI / 180;\r\n        const pitch = this._lightPitch * Math.PI / 180;\r\n\r\n        vec3.set(\r\n            this._direction,\r\n            Math.sin(rot) * Math.cos(pitch),\r\n            Math.sin(pitch),\r\n            Math.cos(rot) * Math.cos(pitch)\r\n        );\r\n    }\r\n\r\n    get lightColor(): [number, number, number] {\r\n        return this._lightColor;\r\n    }\r\n\r\n    set lightColor(value: [number, number, number]) {\r\n        this._lightColor = value;\r\n    }\r\n\r\n    get lightScale(): number {\r\n        return this._lightScale;\r\n    }\r\n\r\n    set lightScale(value: number) {\r\n        this._lightScale = value;\r\n    }\r\n\r\n    get lightRotation(): number {\r\n        return this._lightRotation;\r\n    }\r\n\r\n    set lightRotation(value: number) {\r\n        this._lightRotation = value;\r\n    }\r\n\r\n    get lightPitch(): number {\r\n        return this._lightPitch;\r\n    }\r\n\r\n    set lightPitch(value: number) {\r\n        this._lightPitch = value;\r\n    }\r\n\r\n    public get color():Color {\r\n        return this._color;\r\n    }\r\n\r\n    public set color(value:Color) {\r\n        this._color = value;\r\n    }\r\n\r\n    get direction(): vec3 {\r\n        return this._direction;\r\n    }\r\n\r\n    set direction(value: vec3) {\r\n        this._direction = value;\r\n    }\r\n}","/**\n * @file Automatically generated by barrelsby.\n */\n\nexport * from \"./skyboxComponent\";\n","import {ECS, IComponent} from \"curbl-ecs\";\r\n\r\nexport type SkyboxComponentConfig = {\r\n    texture?: string;\r\n};\r\n\r\n@ECS.Component()\r\nexport class SkyboxComponent implements IComponent {\r\n\r\n    private _texture: string;\r\n\r\n    constructor(config:SkyboxComponentConfig={}){\r\n        this.init(config);\r\n    }\r\n\r\n    init(config: SkyboxComponentConfig={}): void {\r\n        this._texture = config.texture;\r\n    }\r\n\r\n    remove(): void {\r\n        this._texture = undefined;\r\n    }\r\n\r\n    get texture(): string {\r\n        return this._texture;\r\n    }\r\n\r\n    set texture(value: string) {\r\n        this._texture = value;\r\n    }\r\n}","import {ECS, IComponent} from \"curbl-ecs\";\r\nimport {SceneComponentConfig} from \"./sceneComponent\";\r\n\r\n@ECS.Component()\r\nexport class AnimationComponent implements IComponent {\r\n\r\n    private _key:string;\r\n\r\n    private _startTime:number;\r\n    private _pauseStart: number;\r\n    private _pauseEnd:number;\r\n    private _running:boolean;\r\n    private _paused:boolean;\r\n    private _loop:boolean;\r\n    private _autoStart:boolean;\r\n\r\n    constructor(config:{key:string}){\r\n        this.init(config);\r\n    }\r\n\r\n    init(config:SceneComponentConfig){\r\n        this._key = config.key;\r\n        this._running = false;\r\n        this._paused = false;\r\n        this._startTime = 0;\r\n        this._pauseStart = 0;\r\n        this._pauseEnd = 0;\r\n        this._autoStart = true;\r\n        this._loop = true;\r\n    }\r\n\r\n    remove():void {\r\n    }\r\n\r\n    start() {\r\n        this._running = true;\r\n        this._startTime = performance.now();\r\n    }\r\n\r\n    stop() {\r\n        this._running = false;\r\n    }\r\n\r\n    pause() {\r\n        this.paused = true;\r\n    }\r\n\r\n    resume() {\r\n        this.paused = false;\r\n    }\r\n\r\n    get key(): string {\r\n        return this._key;\r\n    }\r\n\r\n    set key(value: string) {\r\n        this._key = value;\r\n    }\r\n\r\n    get running(): boolean {\r\n        return this._running;\r\n    }\r\n\r\n    get paused(): boolean {\r\n        return this._paused;\r\n    }\r\n\r\n    set paused(value: boolean) {\r\n        if(this._paused === value){\r\n            return;\r\n        }\r\n        if(value === true) {\r\n            this._pauseStart = performance.now();\r\n        }else{\r\n            this._pauseEnd = performance.now();\r\n        }\r\n        this._paused = value;\r\n    }\r\n\r\n    get pauseStart(): number {\r\n        return this._pauseStart;\r\n    }\r\n\r\n    get pauseEnd(): number {\r\n        return this._pauseEnd;\r\n    }\r\n\r\n    get startTime(): number {\r\n        return this._startTime;\r\n    }\r\n\r\n    get loop(): boolean {\r\n        return this._loop;\r\n    }\r\n\r\n    set loop(value: boolean) {\r\n        this._loop = value;\r\n    }\r\n\r\n    get autoStart(): boolean {\r\n        return this._autoStart;\r\n    }\r\n\r\n    set autoStart(value: boolean) {\r\n        this._autoStart = value;\r\n    }\r\n}","/**\n * @file Automatically generated by barrelsby.\n */\n\nexport * from \"./animationComponent\";\nexport * from \"./sceneComponent\";\n","import {ECS, IComponent} from \"curbl-ecs\";\r\n\r\nexport type SceneComponentConfig = {key:string};\r\n\r\n@ECS.Component()\r\nexport class SceneComponent implements IComponent {\r\n    private _key:string;\r\n\r\n    constructor(config:SceneComponentConfig){\r\n        this._key = config.key;\r\n    }\r\n\r\n    init(config:SceneComponentConfig){\r\n        this._key = config.key;\r\n    }\r\n\r\n    remove():void {\r\n    }\r\n\r\n    public get key():string {\r\n        return this._key;\r\n    }\r\n\r\n    public set key(value:string) {\r\n        this._key = value;\r\n    }\r\n}","/**\n * @file Automatically generated by barrelsby.\n */\n\nexport * from \"./transformComponent\";\n","import {ECS, IComponent} from \"curbl-ecs\";\r\nimport {mat4, quat, vec3} from \"gl-matrix\";\r\n\r\nexport type TransformComponentConfig = {\r\n    position:{x:number,y:number,z:number},\r\n    rotation:{x:number,y:number,z:number,w:number},\r\n    scale:{x:number,y:number,z:number}\r\n};\r\n\r\n@ECS.Component()\r\nexport class TransformComponent implements IComponent {\r\n    private _level:number;\r\n    private _parent:TransformComponent;\r\n    private _children:TransformComponent[];\r\n    private _localMatrix:mat4;\r\n    private _rotation:quat;\r\n    private _translation:vec3;\r\n    private _scale:vec3;\r\n    private _dirty:boolean;\r\n\r\n    constructor(config:TransformComponentConfig={\r\n        position: {x:0,y:0,z:0},\r\n        rotation: {x:0,y:0,z:0,w:1},\r\n        scale: {x:1,y:1,z:1}\r\n    }){\r\n        this.init(config);\r\n    }\r\n\r\n    init(config:TransformComponentConfig={\r\n        position: {x:0,y:0,z:0},\r\n        rotation: {x:0,y:0,z:0,w:1},\r\n        scale: {x:1,y:1,z:1}\r\n    }):void{\r\n        //M=T*R*S\r\n        this._localMatrix = mat4.create();\r\n        if(!config){\r\n            config = Object.create(null);\r\n        }\r\n        if(!config.position){\r\n            config.position = {x:0,y:0,z:0}\r\n        }\r\n        if(!config.rotation){\r\n            config.rotation = {x:0,y:0,z:0,w:1};\r\n        }\r\n        if(!config.scale){\r\n            config.scale = {x:1,y:1,z:1};\r\n        }\r\n\r\n        this._rotation = quat.fromValues(config.rotation.x,config.rotation.y,config.rotation.z,config.rotation.w);\r\n        this._translation = vec3.fromValues(config.position.x,config.position.y,config.position.z);\r\n        this._scale = vec3.fromValues(config.scale.x,config.scale.y,config.scale.z);\r\n        this._children = [];\r\n        this._level = 0;\r\n        this._dirty = true;\r\n        this.apply();\r\n    }\r\n\r\n    remove():void{}\r\n\r\n    public addChild(child:TransformComponent):void {\r\n        if(child._parent) {\r\n            child._parent.removeChild(child);\r\n        }\r\n        child._parent = this;\r\n        child._level = this._level+1;\r\n        this._children.push(child);\r\n    }\r\n\r\n    public removeChild(child:TransformComponent):void {\r\n        const index = this._children.indexOf(child);\r\n        if (index > -1) {\r\n            child._level = 0;\r\n            child._parent = undefined;\r\n            this._children.splice(index, 1);\r\n        }\r\n    }\r\n\r\n    private apply():mat4{\r\n        if(this._dirty) {\r\n            mat4.fromRotationTranslationScale(\r\n                this._localMatrix,\r\n                this._rotation,\r\n                this._translation,\r\n                this._scale\r\n            );\r\n            this._dirty = false;\r\n        }\r\n        return this._localMatrix;\r\n    }\r\n\r\n    public get globalMatrix():mat4 {\r\n        if(!this._parent){\r\n            return this.apply();\r\n        }else{\r\n            //TODO: check if this is right or do we need to calculcate the parent globalMatrix?\r\n            return mat4.multiply(\r\n                mat4.create(),\r\n                this._parent.localMatrix,\r\n                this._localMatrix\r\n            );\r\n        }\r\n    }\r\n\r\n    public get modelMatrix():mat4 {\r\n        return this.globalMatrix;\r\n    }\r\n\r\n    /**\r\n     * Returns the LocalTransformation Matrix\r\n     * @returns {Matrix}\r\n     */\r\n    public get localMatrix():mat4 {\r\n        return this.apply();\r\n    }\r\n\r\n    public set localMatrix(value:mat4) {\r\n        this._localMatrix = value;\r\n    }\r\n\r\n    public get translation():vec3 {\r\n        this._dirty = true;\r\n        return this._translation;\r\n    }\r\n\r\n    public set translation(value:vec3) {\r\n        this._dirty = true;\r\n        this._translation = value;\r\n    }\r\n\r\n    public get rotation():quat {\r\n        this._dirty = true;\r\n        return this._rotation;\r\n    }\r\n\r\n    public set rotation(value:quat) {\r\n        this._dirty = true;\r\n        this._rotation = value;\r\n    }\r\n\r\n    public get scale():vec3 {\r\n        this._dirty = true;\r\n        return this._scale;\r\n    }\r\n\r\n    public set scale(value:vec3) {\r\n        this._dirty = true;\r\n        this._scale = value;\r\n    }\r\n\r\n    get level(): number {\r\n        return this._level;\r\n    }\r\n\r\n    get parent(): TransformComponent {\r\n        return this._parent;\r\n    }\r\n\r\n    set parent(value: TransformComponent) {\r\n        this._parent = value;\r\n    }\r\n\r\n    get children(): TransformComponent[] {\r\n        return this._children;\r\n    }\r\n\r\n    set children(value: TransformComponent[]) {\r\n        this._children = value;\r\n    }\r\n\r\n}","import * as EventEmitter from \"eventemitter3\";\r\nimport {EmitSignal} from \"./EmitSignal\";\r\n\r\nenum DOM_EVENTS {\r\n    KEYDOWN = \"KEY_DOWN\",\r\n    KEYPRESS = \"KEY_PRESS\",\r\n    KEYUP = \"KEY_UP\",\r\n    MOUSECLICK = \"MOUSE_CLICK\",\r\n    CONTEXTMENU = \"CONTEXT_MENU\",\r\n    DOUBLECLICK = \"DOUBLE_CLICK\",\r\n    MOUSEDOWN = \"MOUSE_DOWN\",\r\n    MOUSEOUT = \"MOUSE_OUT\",\r\n    MOUSEOVER = \"MOUSE_OVER\",\r\n    MOUSEUP = \"MOUSE_UP\",\r\n    MOUSEMOVE = \"MOUSE_MOVE\",\r\n    WHEEL = \"WHEEL\"\r\n}\r\n\r\nconst emitter = new EventEmitter();\r\n\r\nexport const DomEvents = {\r\n    onKeyDown: new EmitSignal(emitter,DOM_EVENTS.KEYDOWN),\r\n    onKeyPress: new EmitSignal(emitter,DOM_EVENTS.KEYPRESS),\r\n    onKeyUp: new EmitSignal(emitter,DOM_EVENTS.KEYUP),\r\n    onClick: new EmitSignal(emitter,DOM_EVENTS.MOUSECLICK),\r\n    onContextMenu: new EmitSignal(emitter,DOM_EVENTS.CONTEXTMENU),\r\n    onDoubleClick: new EmitSignal(emitter,DOM_EVENTS.DOUBLECLICK),\r\n    onMouseDown: new EmitSignal(emitter,DOM_EVENTS.MOUSEDOWN),\r\n    onMouseOut: new EmitSignal(emitter,DOM_EVENTS.MOUSEOUT),\r\n    onMouseOver: new EmitSignal(emitter,DOM_EVENTS.MOUSEOVER),\r\n    onMouseUp: new EmitSignal(emitter,DOM_EVENTS.MOUSEUP),\r\n    onMouseMove: new EmitSignal(emitter,DOM_EVENTS.MOUSEMOVE),\r\n    onWheel: new EmitSignal(emitter, DOM_EVENTS.WHEEL)\r\n};\r\n\r\n(function()  {\r\n    document.onkeydown = (ev: KeyboardEvent) => {\r\n        DomEvents.onKeyDown.dispatch(ev);\r\n    };\r\n    document.onkeypress = (ev: KeyboardEvent) => {\r\n        DomEvents.onKeyPress.dispatch(ev)\r\n    };\r\n    document.onkeyup = (ev: KeyboardEvent) => {\r\n        DomEvents.onKeyUp.dispatch(ev)\r\n    };\r\n    document.onclick = (ev: MouseEvent) => {\r\n        DomEvents.onClick.dispatch(ev)\r\n    };\r\n    document.oncontextmenu = (ev: PointerEvent) => {\r\n        DomEvents.onContextMenu.dispatch(ev)\r\n    };\r\n    document.ondblclick = (ev: MouseEvent) => {\r\n        DomEvents.onDoubleClick.dispatch(ev)\r\n    };\r\n    document.onmousedown = (ev: MouseEvent) => {\r\n        DomEvents.onMouseDown.dispatch(ev)\r\n    };\r\n    document.onmouseout = (ev: MouseEvent) => {\r\n        DomEvents.onMouseOut.dispatch(ev)\r\n    };\r\n    document.onmouseover = (ev: MouseEvent) => {\r\n        DomEvents.onMouseOver.dispatch(ev)\r\n    };\r\n    document.onmouseup = (ev: MouseEvent) => {\r\n        DomEvents.onMouseUp.dispatch(ev)\r\n    };\r\n    document.onmousemove = (ev: MouseEvent) => {\r\n        DomEvents.onMouseMove.dispatch(ev)\r\n    };\r\n    document.onwheel = (ev: WheelEvent) => {\r\n        DomEvents.onWheel.dispatch(ev);\r\n    }\r\n})();\r\n","import * as EventEmitter from \"eventemitter3\";\r\n\r\n/**\r\n * EmitSignal wrapper for a single event of an EventEmitter\r\n */\r\nexport class EmitSignal<EventFunction extends EventEmitter.ListenerFn = (...args:Array<any>) => void> {\r\n    private _type:string | symbol;\r\n    private _emitter: EventEmitter;\r\n\r\n    constructor(emitter:EventEmitter,type:string|symbol){\r\n        this._type = type;\r\n        this._emitter = emitter;\r\n    }\r\n\r\n    emit(...args: any[]): boolean {\r\n        return this._emitter.emit(this._type,...args);\r\n    }\r\n\r\n    /**\r\n     * function alias for emit\r\n     * @param args\r\n     */\r\n    dispatch(...args:any[]): boolean {\r\n        return this.emit(...args);\r\n    }\r\n\r\n    on(fn: EventFunction, context?: any): this {\r\n        this._emitter.on(this._type, fn, context);\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * alias for on\r\n     * @param fn - EventFunction\r\n     * @param context - context to call the function with\r\n     */\r\n    add(fn: EventFunction, context?: any): this {\r\n        return this.on(fn,context);\r\n    }\r\n\r\n    once(fn: EventFunction, context?: any): this {\r\n        this._emitter.once(this._type, fn, context);\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * alias for once\r\n     * @param fn\r\n     * @param context\r\n     */\r\n    addOnce(fn: EventFunction, context?: any): this {\r\n        return this.once(fn,context);\r\n    }\r\n\r\n    removeAllListeners(): this {\r\n        this._emitter.removeAllListeners(this._type);\r\n        return this;\r\n    }\r\n\r\n    removeListener(fn?: EventFunction, context?: any, once?: boolean): this {\r\n        this._emitter.removeListener(this._type, fn, context, once);\r\n        return this;\r\n    }\r\n\r\n    get type(): string | symbol {\r\n        return this._type;\r\n    }\r\n\r\n    get emitter(): EventEmitter {\r\n        return this._emitter;\r\n    }\r\n}","/**\n * @file Automatically generated by barrelsby.\n */\n\nexport * from \"./DomEvents\";\nexport * from \"./EmitSignal\";\n","export class Base64Binary {\r\n    private static readonly _keyStr = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\r\n\r\n    static decodeArrayBuffer(input:string):ArrayBuffer {\r\n        const bytes = (input.length/4) * 3;\r\n        const ab = new ArrayBuffer(bytes);\r\n        Base64Binary.decode(input, null, ab);\r\n\r\n        return ab;\r\n    }\r\n\r\n    private static removePaddingChars(input:string){\r\n        const lkey = Base64Binary._keyStr.indexOf(input.charAt(input.length - 1));\r\n        if(lkey === 64){\r\n            return input.substring(0,input.length - 1);\r\n        }\r\n        return input;\r\n    }\r\n\r\n    static decode(input:string,byteLength?:number, arrayBuffer?: ArrayBuffer):Uint8Array {\r\n        //get last chars to see if are valid\r\n        input = Base64Binary.removePaddingChars(input);\r\n        //@ts-ignore\r\n        const bytes = parseInt((input.length / 4) * 3, 10);\r\n        const offset = byteLength !== undefined ? bytes - byteLength : 0;\r\n\r\n        const uarray:Uint8Array = arrayBuffer ? new Uint8Array(arrayBuffer) : new Uint8Array(bytes);\r\n\r\n        input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\r\n\r\n        for (let i=0, j=0; i<bytes; i+=3) {\r\n            const enc1 = Base64Binary._keyStr.indexOf(input.charAt(j++));\r\n            const enc2 = Base64Binary._keyStr.indexOf(input.charAt(j++));\r\n            const enc3 = Base64Binary._keyStr.indexOf(input.charAt(j++));\r\n            const enc4 = Base64Binary._keyStr.indexOf(input.charAt(j++));\r\n\r\n            const chr1 = (enc1 << 2) | (enc2 >> 4);\r\n            const chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\r\n            const chr3 = ((enc3 & 3) << 6) | enc4;\r\n\r\n            uarray[i] = chr1;\r\n            if (enc3 != 64) uarray[i+1] = chr2;\r\n            if (enc4 != 64) uarray[i+2] = chr3;\r\n        }\r\n\r\n        return uarray.slice(offset, bytes);\r\n    }\r\n}","import {IGLTF_Accessor, IGLTF_BufferView} from \"./model\";\r\nimport {BufferView, GLTF_ACCESORTYPE_SIZE} from \"../scene/data\";\r\nimport {GL_BUFFERS, GL_TYPES} from \"curbl-gl-util\";\r\nimport {GLTFModel, TypedArray} from \"./GLTFModel\";\r\n\r\nexport class GLTFAccessorProcessor {\r\n\r\n    private model:GLTFModel;\r\n    private buffers:Array<BufferView>;\r\n\r\n    constructor(model:GLTFModel) {\r\n        this.buffers = [];\r\n        this.model = model;\r\n    }\r\n\r\n    /**\r\n     * get/create the BufferViewObject for this accessor\r\n     * @param accessor\r\n     * @param idx\r\n     * @param isIndexBuffer\r\n     */\r\n    public getBufferView(idx:number, isIndexBuffer:boolean=false): BufferView {\r\n        const gltf = this.model.gltf;\r\n\r\n        if(!this.buffers[idx]) {\r\n            this.buffers[idx] = this.createBufferView(gltf.bufferViews[idx]);\r\n        }\r\n        //get the bufferView\r\n        const view = this.buffers[idx];\r\n        //set target for the BufferView IndexBuffer or Vertex/ArrayBuffer\r\n        view.target = isIndexBuffer ? view.target||GL_BUFFERS.ELEMENT_ARRAY_BUFFER : view.target||GL_BUFFERS.ARRAY_BUFFER;\r\n        return view;\r\n    }\r\n\r\n    public getAccessorData(accessor: IGLTF_Accessor): TypedArray {\r\n        return this.accessor2TypedArray(\r\n            this.getBufferView(accessor.bufferView).data,\r\n            accessor.byteOffset,\r\n            GLTF_ACCESORTYPE_SIZE[accessor.type] * accessor.count,\r\n            accessor.componentType\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Create a Bufferfiew from the GLTF_Bufferview\r\n     * @param {Array<ArrayBuffer|ArrayBufferView>} buffers\r\n     * @param {IGLTF_BufferView} bufferView\r\n     * @returns {BufferView}\r\n     */\r\n    private createBufferView(bufferView:IGLTF_BufferView): BufferView {\r\n        const view = new BufferView();\r\n        view.data = this.sliceBuffer(bufferView);\r\n        view.target = bufferView.target;\r\n        return view;\r\n    }\r\n\r\n    /**\r\n     * Slice up the Mesh data ArrayBuffer into smaller ArrayBuffers\r\n     * @param {Array<ArrayBuffer|ArrayBufferView>} buffers\r\n     * @param {BufferView} view\r\n     * @returns {ArrayBuffer}\r\n     */\r\n    private sliceBuffer(view:IGLTF_BufferView): ArrayBuffer {\r\n        const data = this.model.data[view.buffer];\r\n        const offset = view.byteOffset||0;\r\n        if(data instanceof ArrayBuffer){\r\n            return data.slice(offset,offset+view.byteLength);\r\n        }else {\r\n            return data['buffer'].slice(offset,offset+view.byteLength);\r\n        }\r\n    }\r\n\r\n    private accessor2TypedArray(buffer:ArrayBuffer, byteOffset:number, count:number, componentType:GL_TYPES): TypedArray {\r\n        switch (componentType) {\r\n            case GL_TYPES.BYTE:\r\n                return new Int8Array(buffer, byteOffset, count);\r\n            case GL_TYPES.UNSIGNED_BYTE:\r\n                return new Uint8Array(buffer, byteOffset, count);\r\n            case GL_TYPES.SHORT:\r\n                return new Int16Array(buffer, byteOffset, count);\r\n            case GL_TYPES.UNSIGNED_SHORT:\r\n                return new Int16Array(buffer, byteOffset, count);\r\n            case GL_TYPES.INT:\r\n                return new Int32Array(buffer, byteOffset, count);\r\n            case GL_TYPES.UNSIGNED_INT:\r\n                return new Int32Array(buffer, byteOffset, count);\r\n            case GL_TYPES.FLOAT:\r\n                return new Float32Array(buffer, byteOffset, count);\r\n        }\r\n    }\r\n}","import {IGLTF_AnimationSampler, IGLTF_Channel} from \"./model/GLTF_Animation\";\r\nimport {IGLTF_Accessor} from \"./model\";\r\nimport {AnimationSampler, Interpolation} from \"../scene/animation/animationSampler\";\r\nimport {Accessor} from \"../scene/data/accessor\";\r\nimport {AnimationChannel} from \"../scene/animation/animationChannel\";\r\nimport {Animation} from \"../scene/animation\";\r\nimport {GLTFModel} from \"./GLTFModel\";\r\nimport {IBaseCache} from \"../cache/caches\";\r\nimport {CACHE_TYPE} from \"../cache\";\r\n\r\nexport class GLTFAnimationProcessor {\r\n\r\n    private model:GLTFModel;\r\n    private cache:IBaseCache<Animation>;\r\n    private _animations:Array<Animation>;\r\n\r\n    constructor(model:GLTFModel) {\r\n        this.model = model;\r\n        this.cache = this.model.cache.getCache(CACHE_TYPE.ANIMATION);\r\n    }\r\n\r\n    processAnimations():Array<Animation> {\r\n        this._animations = [];\r\n        const gltf = this.model.gltf;\r\n\r\n        gltf.animations = gltf.animations||[];\r\n        for(let i=0; i < gltf.animations.length; i++) {\r\n            this._animations.push(this.processAnimation(i));\r\n        }\r\n\r\n        return this._animations;\r\n    }\r\n\r\n    private processAnimation(idx:number): Animation {\r\n        const animation = new Animation();\r\n        const gltfAnimation = this.model.gltf.animations[idx];\r\n        animation.name = gltfAnimation.name||\"animation\"+idx;\r\n\r\n        for(let i=0, sampler:IGLTF_AnimationSampler; sampler = gltfAnimation.samplers[i]; i++) {\r\n            const animationSampler = this.processSampler(sampler);\r\n            animation.addSampler(animationSampler);\r\n            animation.duration = animation.duration < animationSampler.duration ? animationSampler.duration : animation.duration;\r\n        }\r\n\r\n        for(let i=0, channel:IGLTF_Channel; channel = gltfAnimation.channels[i]; i++) {\r\n            animation.addChannel(this.processChannel(channel));\r\n        }\r\n\r\n        this.cache.add(animation.name, animation);\r\n        return animation;\r\n    }\r\n\r\n    private processSampler(sampler: IGLTF_AnimationSampler): AnimationSampler {\r\n        const gltf = this.model.gltf;\r\n\r\n        const animationSampler = new AnimationSampler();\r\n        animationSampler.interpolation = sampler.interpolation||Interpolation.LINEAR;\r\n\r\n        const inputAccessor = this.createAccessor(gltf.accessors[sampler.input]);\r\n        const outputAccessor = this.createAccessor(gltf.accessors[sampler.output]);\r\n\r\n        animationSampler.inputData = this.model.getAccessorData(inputAccessor);\r\n        animationSampler.outputData = this.model.getAccessorData(outputAccessor);\r\n\r\n        animationSampler.componentTypeCount = outputAccessor.componentTypeCount;\r\n        animationSampler.duration = animationSampler.inputData[animationSampler.inputData.length-1];\r\n\r\n        return animationSampler;\r\n    }\r\n\r\n    private processChannel(channel: IGLTF_Channel): AnimationChannel {\r\n        const animationChannel = new AnimationChannel();\r\n\r\n        animationChannel.sampler = channel.sampler;\r\n        animationChannel.node = this.model.getNode(channel.target.node);\r\n        animationChannel.path = channel.target.path;\r\n\r\n        return animationChannel;\r\n    }\r\n\r\n    private createAccessor(gltfAccessor: IGLTF_Accessor): Accessor {\r\n        const gltf = this.model.gltf;\r\n\r\n        const accessor = new Accessor();\r\n        accessor.bufferView = gltfAccessor.bufferView;\r\n        accessor.byteOffset = gltfAccessor.byteOffset||0;\r\n        accessor.normalized = gltfAccessor.normalized;\r\n        accessor.type = gltfAccessor.type;\r\n        accessor.componentType = gltfAccessor.componentType;\r\n        accessor.count = gltfAccessor.count;\r\n        accessor.min = gltfAccessor.min||[];\r\n        accessor.max = gltfAccessor.max||[];\r\n        accessor.stride = gltf.bufferViews[gltfAccessor.bufferView].byteStride||0;\r\n\r\n        return accessor;\r\n    }\r\n\r\n    get animations(): Array<Animation> {\r\n        return this._animations;\r\n    }\r\n\r\n    set animations(value: Array<Animation>) {\r\n        this._animations = value;\r\n    }\r\n}","import {GLTFModel} from \"./GLTFModel\";\r\nimport {ALPHA_MODE, Material, MATERIAL_MAPS, MATERIAL_TYPES, Materialmap} from \"../material\";\r\nimport {CACHE_TYPE, IBaseCache} from \"../cache\";\r\nimport {MetallicRoughness} from \"../material/metallicRoughness\";\r\nimport {IGLTF_Image, IGLTF_Material} from \"./model\";\r\nimport {TextureLoader, TextureLoaderConfig} from \"../loader/TextureLoader\";\r\nimport {TEXTURE_WRAP} from \"curbl-gl-util\";\r\n\r\nexport class GLTFMaterialProcessor {\r\n\r\n    private model: GLTFModel;\r\n    private materialCache: IBaseCache<Material>;\r\n\r\n    constructor(model:GLTFModel) {\r\n        this.model = model;\r\n        this.materialCache = this.model.cache.getCache<Material>(CACHE_TYPE.MATERIAL);\r\n    }\r\n\r\n\r\n    public processMaterial(materialIdx:number):Material {\r\n        const gltf = this.model.gltf;\r\n        const gl = this.model.gl;\r\n\r\n        //set node name if not already provided\r\n        const materialNode = gltf.materials[materialIdx];\r\n\r\n        const cachedMat = this.materialCache.get(materialNode.name);\r\n        if(cachedMat) {\r\n            return cachedMat;\r\n        }\r\n\r\n        materialNode.name = materialNode.name||\"material\"+materialIdx;\r\n\r\n        let material:Material<MetallicRoughness>;\r\n\r\n        if(materialNode.extensions && materialNode.extensions.KHR_materials_pbrSpecularGlossiness) {\r\n            throw \"specular glossiness gltf is not supported\";\r\n        } else {\r\n            material = new Material<MetallicRoughness>(materialNode.name);\r\n            this.parsePBRMaterial(materialNode,material as Material<MetallicRoughness>);\r\n        }\r\n\r\n        if(materialNode.emissiveFactor){\r\n            material.model.emissiveFactor.set(materialNode.emissiveFactor);\r\n        }\r\n\r\n        material.alphaMode = materialNode.alphaMode as ALPHA_MODE || ALPHA_MODE.OPAQUE;\r\n        material.alphaCutoff = materialNode.alphaCutoff || 0.5;\r\n        material.doubleSided = !!materialNode.doubleSided;\r\n\r\n        if(materialNode.emissiveTexture){\r\n            this.parseTexture(material,materialNode.emissiveTexture.index,MATERIAL_MAPS.EMISSIVE,{\r\n                premultiplyAlpha: false,\r\n                internalFormat: gl.SRGB8_ALPHA8,\r\n                format:gl.RGBA,\r\n                type:gl.UNSIGNED_BYTE,\r\n            });\r\n        }\r\n\r\n        if(materialNode.normalTexture){\r\n            material.model.normalScale = materialNode.normalTexture.scale||1;\r\n            this.parseTexture(material,materialNode.normalTexture.index,MATERIAL_MAPS.NORMAL,{\r\n                premultiplyAlpha: false,\r\n                internalFormat: gl.RGBA,\r\n                format:gl.RGBA,\r\n                type:gl.UNSIGNED_BYTE,\r\n            });\r\n        }\r\n\r\n        if(materialNode.occlusionTexture){\r\n            material.model.occlusionStrength = materialNode.occlusionTexture.strength||1;\r\n            this.parseTexture(material,materialNode.occlusionTexture.index,MATERIAL_MAPS.OCCLUSION,{\r\n                premultiplyAlpha: false,\r\n                internalFormat: gl.RGBA,\r\n                format:gl.RGBA,\r\n                type:gl.UNSIGNED_BYTE,\r\n            });\r\n        }\r\n\r\n        this.materialCache.add(material.name,material);\r\n        return material;\r\n    }\r\n\r\n    private parsePBRMaterial(materialNode:IGLTF_Material,material:Material<MetallicRoughness>):void{\r\n        const pbr = materialNode.pbrMetallicRoughness;\r\n        material.type = MATERIAL_TYPES.PBR;\r\n        const gl = this.model.gl;\r\n\r\n        if(!material.model){\r\n            material.model = new MetallicRoughness();\r\n        }\r\n\r\n        if(pbr.baseColorFactor){\r\n            material.model.baseColorFactor.set(pbr.baseColorFactor);\r\n        }\r\n\r\n        if(pbr.metallicFactor !== null\r\n            && pbr.metallicFactor !== undefined)\r\n        {\r\n            material.model.metallicFactor = pbr.metallicFactor;\r\n        }\r\n\r\n        if(pbr.roughnessFactor !== null\r\n            && pbr.roughnessFactor !== undefined)\r\n        {\r\n            material.model.roughnessFactor = pbr.roughnessFactor;\r\n        }\r\n\r\n        //AlbedoTexture\r\n        if(pbr.baseColorTexture !== undefined && pbr.baseColorTexture !== null) {\r\n            this.parseTexture(material,pbr.baseColorTexture.index,MATERIAL_MAPS.ALBEDO,{\r\n                premultiplyAlpha: false,\r\n                internalFormat: gl.SRGB8_ALPHA8,\r\n                format: gl.RGBA,\r\n                type: gl.UNSIGNED_BYTE,\r\n            });\r\n        }\r\n\r\n        //Metallic Roughness Texture\r\n        if(pbr.metallicRoughnessTexture !== undefined && pbr.metallicRoughnessTexture !== null) {\r\n            this.parseTexture(material,pbr.metallicRoughnessTexture.index,MATERIAL_MAPS.METAL_ROUGHNESS,{\r\n                premultiplyAlpha: false,\r\n                internalFormat: gl.RGBA,\r\n                format: gl.RGBA,\r\n                type: gl.UNSIGNED_BYTE,\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Load the Texture defined by the corresponding image and sampler\r\n     * @param {Material} material\r\n     * @param {number} index\r\n     * @param {number} map\r\n     * @param {TextureLoaderConfig} config\r\n     */\r\n    private parseTexture(material:Material,index:number,map:number,config:TextureLoaderConfig):void{\r\n        if(index === null || index === undefined) {\r\n            return;\r\n        }\r\n        const gltf = this.model.gltf;\r\n        const loader = this.model.loader;\r\n        const path = this.model.path;\r\n\r\n        let img:IGLTF_Image;\r\n        if(gltf.textures[index].source !== undefined && gltf.textures[index].source !== null) {\r\n            img = gltf.images[gltf.textures[index].source];\r\n        }\r\n        if(gltf.textures[index].sampler !== undefined && gltf.textures[index].sampler !== null) {\r\n            config.sampler = gltf.samplers[gltf.textures[index].sampler];\r\n        }else{\r\n            config.sampler = {\r\n                wrapS: TEXTURE_WRAP.REPEAT,\r\n                wrapT: TEXTURE_WRAP.REPEAT\r\n            }\r\n        }\r\n        //TODO: Parse img from data\r\n        loader.get(TextureLoader).add(img.name||img.uri,path+img.uri,config);\r\n        material.maps[map] = new Materialmap(img.name||img.uri);\r\n        material.maps[map].sampler = config.sampler;\r\n    }\r\n}","import {Mesh, Primitive} from \"../scene\";\r\nimport {IGLTF_Accessor, IGLTF_Primitive} from \"./model\";\r\nimport {GLTFModel} from \"./GLTFModel\";\r\nimport {IBaseCache} from \"../cache/caches\";\r\nimport {CACHE_TYPE} from \"../cache\";\r\n\r\n\r\nexport class GLTFMeshProcessor {\r\n\r\n    private model: GLTFModel;\r\n    private _meshes:Array<Mesh>;\r\n    private cache:IBaseCache<Mesh>;\r\n\r\n    constructor(model: GLTFModel) {\r\n        this.model = model;\r\n        this._meshes = [];\r\n        this.cache = this.model.cache.getCache(CACHE_TYPE.MESH);\r\n    }\r\n\r\n    processMesh(idx:number): Mesh {\r\n        if(this._meshes[idx]) {\r\n            return this._meshes[idx];\r\n        }\r\n\r\n        const sceneMesh = new Mesh();\r\n        const mesh = this.model.gltf.meshes[idx];\r\n        sceneMesh.name = mesh.name||\"mesh\"+idx;\r\n\r\n        for(let i=0, primitive:IGLTF_Primitive; primitive = mesh.primitives[i]; i++){\r\n            sceneMesh.addPrimitive(this.parsePrimitives(sceneMesh, primitive));\r\n        }\r\n\r\n        this._meshes[idx] = sceneMesh;\r\n        this.cache.add(sceneMesh.name, sceneMesh);\r\n        return sceneMesh;\r\n    }\r\n\r\n    /**\r\n     * creates a new mesh/GLTF_Primitive for the gltf\r\n     * @param {IGLTF_Primitive} gltfPrimitive\r\n     */\r\n    private parsePrimitives(mesh: Mesh, gltfPrimitive:IGLTF_Primitive):Primitive{\r\n        const gltf = this.model.gltf;\r\n        const primitive = new Primitive();\r\n        //Add attributes to mesh\r\n        for(let id in gltfPrimitive.attributes){\r\n            //Create BufferView for each Accessor/GLBuffer for Position,Normal,tex,tangent etc. and map the accessor bufferViewIdx new\r\n            const accessor = gltf.accessors[gltfPrimitive.attributes[id]];\r\n            this.addAttribute(primitive, id, accessor);\r\n            mesh.addBufferView(accessor.bufferView, this.model.getBufferView(accessor.bufferView));\r\n        }\r\n        //Set indices for indexBuffer\r\n        if(gltfPrimitive.indices !== undefined && gltfPrimitive.indices !== null) {\r\n            //Create BufferView for each IndexBuffer and map the accessor bufferViewIdx new\r\n            const accessor = gltf.accessors[gltfPrimitive.indices];\r\n            this.setIndices(primitive, accessor);\r\n            mesh.addBufferView(accessor.bufferView, this.model.getBufferView(accessor.bufferView, true));\r\n        }\r\n        primitive.draw_mode = gltfPrimitive.mode||4; //Default GL_TRIANGLE\r\n        //Set the Material name for the mesh\r\n        this.setMeshMaterial(primitive,gltfPrimitive.material);\r\n\r\n        //TODO: morph targets primitive.targets\r\n        return primitive;\r\n    }\r\n\r\n    /**\r\n     * Adds an attribute to the primitive of type\r\n     * POSITION,NORMAL,TANGENT,TEXCOORD0,TEXCOORD1,COLOR0,JOINTS0,WEIGHTS0\r\n     * @param {Primitive} primitive\r\n     * @param {string} id\r\n     * @param {IGLTF_Accessor} accessor\r\n     */\r\n    private addAttribute(primitive:Primitive, id:string, accessor:IGLTF_Accessor):void {\r\n        const gltf = this.model.gltf;\r\n        const view = gltf.bufferViews[accessor.bufferView];\r\n\r\n        primitive.addAttribute(\r\n            id,\r\n            accessor.type,\r\n            accessor.componentType,\r\n            accessor.normalized,\r\n            view.byteStride||0,\r\n            accessor.byteOffset,\r\n            accessor.bufferView,\r\n            accessor.min,\r\n            accessor.max\r\n        );\r\n    }\r\n\r\n    /**\r\n     * sets the name of the material used for the mesh if any\r\n     * else its set to the \"__default__\" material\r\n     * @param {Primitive} mesh\r\n     * @param {number} materialIdx\r\n     */\r\n    private setMeshMaterial(mesh:Primitive,materialIdx?:number):void {\r\n        if(materialIdx === undefined || materialIdx === null){\r\n            mesh.material = '__default__';\r\n            return;\r\n        }\r\n        mesh.material = this.model.getMaterial(materialIdx).name;\r\n    }\r\n\r\n    /**\r\n     * set the index accessor\r\n     * @param {Primitive} primitive\r\n     * @param {IGLTF_Accessor} indices\r\n     */\r\n    private setIndices(primitive:Primitive, indices:IGLTF_Accessor):void{\r\n        primitive.setIndices(indices.count, indices.componentType, indices.byteOffset||0, indices.bufferView);\r\n    }\r\n\r\n    get meshes(): Array<Mesh> {\r\n        return this._meshes;\r\n    }\r\n\r\n    set meshes(value: Array<Mesh>) {\r\n        this._meshes = value;\r\n    }\r\n}\r\n","import {IGLTF_Accessor, IGLTF_Model} from \"./model\";\r\nimport {BufferView, Mesh, Scene, SceneNode} from \"../scene\";\r\nimport {Cache} from \"../cache\";\r\nimport {ResourceLoader} from \"curbl-loader\";\r\nimport {GLTFMaterialProcessor} from \"./GLTFMaterialProcessor\";\r\nimport {GLTFMeshProcessor} from \"./GLTFMeshProcessor\";\r\nimport {GLTFNodeProcessor} from \"./GLTFNodeProcessor\";\r\nimport {Skin} from \"../scene/skin/skin\";\r\nimport {GLTFAccessorProcessor} from \"./GLTFAccessorProcessor\";\r\nimport {Material} from \"../material\";\r\nimport {GLTFSkinProcessor} from \"./GLTFSkinProcessor\";\r\nimport {GLTFAnimationProcessor} from \"./GLTFAnimationProcessor\";\r\nimport {GLTFSceneProcessor} from \"./GLTFSceneProcessor\";\r\n\r\nexport type TypedArray = Int8Array|Uint8Array|Int16Array|Uint16Array|Int32Array|Uint32Array|Float32Array;\r\n\r\nexport class GLTFModel {\r\n\r\n    gltf:IGLTF_Model;\r\n    data:Array<ArrayBufferView|ArrayBuffer>;\r\n    gl: WebGL2RenderingContext;\r\n    cache: Cache;\r\n    loader: ResourceLoader;\r\n    path: string;\r\n\r\n    private accessorProcessor:GLTFAccessorProcessor;\r\n    private meshProcessor:GLTFMeshProcessor;\r\n    private nodeProcessor:GLTFNodeProcessor;\r\n    private materialProcessor:GLTFMaterialProcessor;\r\n    private skinProcessor:GLTFSkinProcessor;\r\n\r\n    constructor(gltf:IGLTF_Model, data:Array<ArrayBufferView|ArrayBuffer>,config: {path: string, gl: WebGL2RenderingContext, cache: Cache, loader: ResourceLoader}) {\r\n        this.gltf = gltf;\r\n        this.data = data;\r\n        this.cache = config.cache;\r\n        this.loader = config.loader;\r\n        this.gl = config.gl;\r\n        this.path = config.path;\r\n\r\n        this.accessorProcessor = new GLTFAccessorProcessor(this);\r\n        this.meshProcessor = new GLTFMeshProcessor(this);\r\n        this.nodeProcessor = new GLTFNodeProcessor(this);\r\n        this.materialProcessor = new GLTFMaterialProcessor(this);\r\n        this.skinProcessor = new GLTFSkinProcessor(this);\r\n    }\r\n\r\n    process(): Scene {\r\n        const scene =  new GLTFSceneProcessor(this).processScenes();\r\n        scene.animations = new GLTFAnimationProcessor(this).processAnimations();\r\n        scene.meshes = this.meshProcessor.meshes;\r\n\r\n        return scene;\r\n    }\r\n\r\n    getSkin(idx:number):Skin {\r\n        return this.skinProcessor.processSkin(idx);\r\n    }\r\n\r\n    getMaterial(idx:number):Material {\r\n        return this.materialProcessor.processMaterial(idx);\r\n    }\r\n\r\n    getNode(idx:number):SceneNode {\r\n        return this.nodeProcessor.processNode(idx);\r\n    }\r\n\r\n    getMesh(idx:number):Mesh {\r\n        return this.meshProcessor.processMesh(idx);\r\n    }\r\n\r\n    getBufferView(idx:number, isIndexBuffer?:boolean): BufferView {\r\n        return this.accessorProcessor.getBufferView(idx, isIndexBuffer);\r\n    }\r\n\r\n    getAccessorData(accessor: IGLTF_Accessor): TypedArray {\r\n        return this.accessorProcessor.getAccessorData(accessor);\r\n    }\r\n}","import {GLTFModel} from \"./GLTFModel\";\r\nimport {IGLTF_Node} from \"./model\";\r\nimport {SceneNode, Transform} from \"../scene\";\r\nimport {mat4, quat, vec3} from \"gl-matrix\";\r\n\r\nexport class GLTFNodeProcessor {\r\n    private model: GLTFModel;\r\n    private nodes:Array<SceneNode>;\r\n\r\n    constructor(model: GLTFModel) {\r\n        this.model = model;\r\n        this.nodes = [];\r\n    }\r\n\r\n    processNode(idx:number): SceneNode {\r\n        if(this.nodes[idx]) {\r\n            return this.nodes[idx];\r\n        }\r\n\r\n        return this.parseNode(idx, this.nodes);\r\n    }\r\n    /**\r\n     * Parse a single node and all its children\r\n     * a node can have multiple properties e.g. mesh,transform,weights,camera,skin etc.\r\n     * @param {number} nodeIdx\r\n     * @param nodes\r\n     * @param parent\r\n     */\r\n    private parseNode(nodeIdx:number, nodes:Array<SceneNode>, parent?: SceneNode): SceneNode {\r\n        const gltf = this.model.gltf;\r\n        const node = gltf.nodes[nodeIdx];\r\n\r\n        if(nodes[nodeIdx]) {\r\n            return nodes[nodeIdx];\r\n        }\r\n\r\n        const sceneNode = new SceneNode();\r\n        sceneNode.name = node.name||\"node\"+nodeIdx;\r\n        nodes[nodeIdx] = sceneNode;\r\n\r\n        sceneNode.transform = this.parseTransform(node, parent);\r\n\r\n        if(node.mesh !== null && node.mesh !== undefined) {\r\n            sceneNode.mesh = this.model.getMesh(node.mesh);\r\n        }\r\n\r\n        if(node.skin !== null && node.skin !== undefined) {\r\n            sceneNode.skin = this.model.getSkin(node.skin);\r\n        }\r\n\r\n        node.children = node.children||[];\r\n        for(let i=0,child:number; child = node.children[i];i++){\r\n            const childNode = this.parseNode(child, nodes, sceneNode);\r\n            sceneNode.addChild(childNode);\r\n        }\r\n\r\n        return sceneNode;\r\n    }\r\n\r\n    /**\r\n     * Parse the Transformation of a node and add it as a child to the list of transform nodes\r\n     * @param {IGLTF_Node} node\r\n     * @param {Transform} parent - parent of the new node\r\n     * @returns {Transform} newly create Transform node\r\n     */\r\n    private parseTransform(node:IGLTF_Node, parent?:SceneNode): Transform {\r\n        const transform:Transform = new Transform();\r\n        if(node.matrix !== undefined && node.matrix !== null) {\r\n            transform.localMatrix = mat4.clone(node.matrix as any);\r\n            mat4.getTranslation(transform.translation, transform.localMatrix);\r\n            mat4.getRotation(transform.rotation, transform.localMatrix);\r\n            mat4.getScaling(transform.scale, transform.localMatrix);\r\n        }\r\n        if(node.translation !== undefined && node.translation !== null){\r\n            transform.translation = vec3.clone(node.translation);\r\n        }\r\n        if(node.rotation !== undefined && node.rotation !== null){\r\n            transform.rotation = quat.clone(node.rotation as any);\r\n        }\r\n        if(node.scale !== undefined && node.scale !== null){\r\n            transform.scale = vec3.clone(node.scale);\r\n        }\r\n        if(parent){\r\n            parent.transform.addChild(transform);\r\n        }\r\n        return transform;\r\n    }\r\n}","import {ResourceLoader} from \"curbl-loader\";\r\nimport {IGLTF_Model} from \"./model\";\r\nimport {Cache} from \"../cache\";\r\nimport {Scene} from \"../scene/scene\";\r\nimport {GLTFModel} from \"./GLTFModel\";\r\nimport {Base64Binary} from \"./Base64Binary\";\r\n\r\n/**\r\n * Parse the GLTF_Json\r\n */\r\nexport class GLTF_Parser {\r\n\r\n    private gl:WebGL2RenderingContext;\r\n    private loader:ResourceLoader;\r\n    private _path:string;\r\n    private cache:Cache;\r\n\r\n    constructor(loader:ResourceLoader,gl:WebGL2RenderingContext, cache: Cache) {\r\n        this._path = '';\r\n        this.loader = loader;\r\n        this.gl = gl;\r\n        this.cache = cache;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {ArrayBuffer} buffer - gltf data(vertices,indices)\r\n     * @param {IGLTF_Model} gltf_model - json object in gltf format\r\n     * @returns {Mesh}\r\n     */\r\n    public parse(gltf_model:IGLTF_Model, buffer?:ArrayBuffer): Scene {\r\n        const buffers = [];\r\n        if(!buffer) {\r\n            buffers.push(...this.parseBuffers(gltf_model));\r\n        } else {\r\n            buffers.push(buffer);\r\n        }\r\n\r\n        return new GLTFModel(gltf_model, buffers, {\r\n            path: this._path,\r\n            gl: this.gl,\r\n            cache: this.cache,\r\n            loader: this.loader\r\n        }).process();\r\n    }\r\n\r\n    private parseBuffers(gltfModel:IGLTF_Model):Array<ArrayBuffer> {\r\n        const buffers = [];\r\n        for(let i=0; i < gltfModel.buffers.length; i++) {\r\n            const gltfBuffer = gltfModel.buffers[i];\r\n            const buffer = Base64Binary.decode(gltfBuffer.uri, gltfBuffer.byteLength);\r\n            buffers.push(buffer);\r\n        }\r\n        return buffers;\r\n    }\r\n\r\n    public get path():string {\r\n        return this._path;\r\n    }\r\n\r\n    public set path(value:string) {\r\n        this._path = value;\r\n    }\r\n}","import {GLTFModel} from \"./GLTFModel\";\r\nimport {IGLTF_Scene} from \"./model\";\r\nimport {Scene} from \"../scene\";\r\nimport {IBaseCache} from \"../cache/caches\";\r\nimport {CACHE_TYPE} from \"../cache\";\r\n\r\nexport class GLTFSceneProcessor {\r\n    private model: GLTFModel;\r\n    private cache:IBaseCache<Scene>;\r\n\r\n    constructor(model: GLTFModel) {\r\n        this.model = model;\r\n        this.cache = this.model.cache.getCache(CACHE_TYPE.SCENE);\r\n    }\r\n\r\n    /**\r\n     * Parse the scenes by parsing each node of the GTLF File\r\n     */\r\n    processScenes():Scene {\r\n        const gltf = this.model.gltf;\r\n        const scenes = [];\r\n\r\n        for(let i=0, scene:IGLTF_Scene; scene = gltf.scenes[i]; i++) {\r\n           scenes.push(this.processScene(scene,i));\r\n        }\r\n\r\n        return scenes[0];\r\n    }\r\n\r\n    private processScene(gltfScene:IGLTF_Scene,idx:number):Scene {\r\n        const scene = new Scene();\r\n        scene.name = gltfScene.name||\"scene\"+idx;\r\n        for(let i=0; i < gltfScene.nodes.length; i++){\r\n            scene.addNode(this.model.getNode(gltfScene.nodes[i]));\r\n        }\r\n\r\n        this.cache.add(scene.name, scene);\r\n        return scene;\r\n    }\r\n}","import {GLTFModel} from \"./GLTFModel\";\r\nimport {Skin} from \"../scene/skin/skin\";\r\nimport {mat4} from \"gl-matrix\";\r\n\r\nexport class GLTFSkinProcessor {\r\n    private model: GLTFModel;\r\n    private skins: Array<Skin>;\r\n\r\n    constructor(model: GLTFModel) {\r\n        this.model = model;\r\n        this.skins = [];\r\n    }\r\n\r\n    processSkin(idx:number): Skin {\r\n        if(this.skins[idx]) {\r\n            return this.skins[idx];\r\n        }\r\n\r\n        const skin = new Skin();\r\n        const gltf = this.model.gltf;\r\n        const gltfSkin = gltf.skins[idx];\r\n        const accessor = gltf.accessors[gltfSkin.inverseBindMatrices];\r\n\r\n        if(gltfSkin.skeleton !== undefined && gltfSkin.skeleton !== null) {\r\n            skin.skeleton = this.model.getNode(gltfSkin.skeleton);\r\n        }\r\n\r\n        for(let i=0; i < gltfSkin.joints.length; i++) {\r\n            skin.joints.push(this.model.getNode(gltfSkin.joints[i]));\r\n        }\r\n\r\n        if(accessor) {\r\n            const inverseBindMatrices = this.model.getAccessorData(accessor);\r\n\r\n            for(let i=0; i < inverseBindMatrices.length; i+=16) {\r\n                skin.inverseBindMatrices.push(mat4.fromValues(\r\n                    inverseBindMatrices[i],\r\n                    inverseBindMatrices[i + 1],\r\n                    inverseBindMatrices[i + 2],\r\n                    inverseBindMatrices[i + 3],\r\n                    inverseBindMatrices[i + 4],\r\n                    inverseBindMatrices[i + 5],\r\n                    inverseBindMatrices[i + 6],\r\n                    inverseBindMatrices[i + 7],\r\n                    inverseBindMatrices[i + 8],\r\n                    inverseBindMatrices[i + 9],\r\n                    inverseBindMatrices[i + 10],\r\n                    inverseBindMatrices[i + 11],\r\n                    inverseBindMatrices[i + 12],\r\n                    inverseBindMatrices[i + 13],\r\n                    inverseBindMatrices[i + 14],\r\n                    inverseBindMatrices[i + 15]\r\n                ));\r\n            }\r\n        }\r\n\r\n        this.skins[idx] = skin;\r\n        return skin;\r\n    }\r\n}","/**\n * @file Automatically generated by barrelsby.\n */\n\nexport * from \"./Base64Binary\";\nexport * from \"./GLTFAccessorProcessor\";\nexport * from \"./GLTFAnimationProcessor\";\nexport * from \"./GLTFMaterialProcessor\";\nexport * from \"./GLTFMeshProcessor\";\nexport * from \"./GLTFModel\";\nexport * from \"./GLTFNodeProcessor\";\nexport * from \"./GLTFParser\";\nexport * from \"./GLTFSceneProcessor\";\nexport * from \"./GLTFSkinProcessor\";\nexport * from \"./model/index\";\n","/**\n * @file Automatically generated by barrelsby.\n */\n\nexport * from \"./GLTF_Accessor\";\nexport * from \"./GLTF_Animation\";\nexport * from \"./GLTF_Buffer\";\nexport * from \"./GLTF_BufferView\";\nexport * from \"./GLTF_Camera\";\nexport * from \"./GLTF_Image\";\nexport * from \"./GLTF_Material\";\nexport * from \"./GLTF_Mesh\";\nexport * from \"./GLTF_Model\";\nexport * from \"./GLTF_Node\";\nexport * from \"./GLTF_Primitive\";\nexport * from \"./GLTF_Sampler\";\nexport * from \"./GLTF_Scene\";\nexport * from \"./GLTF_Skin\";\nexport * from \"./GLTF_Texture\";\nexport {ALPHA_MODE} from \"../../material\";\n","/**\n * @file Automatically generated by barrelsby.\n */\n\nexport * from \"./cache/index\";\nexport * from \"./canvas/index\";\nexport * from \"./components/index\";\nexport * from \"./events/index\";\nexport * from \"./gltf/index\";\nexport * from \"./loader/index\";\nexport * from \"./material/index\";\nexport * from \"./math/index\";\nexport * from \"./scene/index\";\nexport * from \"./shader/index\";\nexport * from \"./systems/index\";\nexport * from \"./viewer/index\";\n","import {LOAD_TYPE, Middleware, Resource} from \"curbl-loader\";\r\nimport {GLCubemap} from \"curbl-gl-util\";\r\nimport {MAG_FILTER, MIN_FILTER, TEXTURE_WRAP} from \"curbl-gl-util\";\r\nimport {GLTexture} from \"curbl-gl-util\";\r\nimport {TextureLoaderConfig} from \"./TextureLoader\";\r\nimport {CACHE_TYPE} from \"../cache\";\r\n\r\nexport class CubemapLoader extends Middleware<GLCubemap> {\r\n\r\n    private readonly gl: WebGL2RenderingContext;\r\n\r\n    constructor(gl: WebGL2RenderingContext) {\r\n        super(CACHE_TYPE.TEXTURE);\r\n        this.gl = gl;\r\n    }\r\n\r\n    add(key:string,levels:Array<{right:string,left:string,top:string,bottom:string,back:string,front:string}>,config:TextureLoaderConfig={id:0}): Middleware<GLCubemap> {\r\n        const resources = [];\r\n        for(let i=0, faces; faces = levels[i]; i++) {\r\n            const keys = Object.keys(faces);\r\n            for(let k=0, face; face = faces[keys[k]]; k++) {\r\n                resources.push({\r\n                    resource: new Resource<HTMLImageElement>({\r\n                            url: face,\r\n                            loadType: LOAD_TYPE.IMAGE\r\n                        },\r\n                        {\r\n                            ...config,\r\n                            face: k,\r\n                            level: i\r\n                        }),\r\n                });\r\n            }\r\n        }\r\n        return this.addResourceToQueue({\r\n            key: key,\r\n            resources: resources\r\n        });\r\n    }\r\n\r\n    transform(...resources: Resource<HTMLImageElement>[]): GLCubemap {\r\n        const images = resources.sort((a,b) => a.config.face - b.config.face + (a.config.level - b.config.level)*6).map((resource) => resource.request);\r\n\r\n        const textureConfig = resources[0].config;\r\n\r\n        const data = GLCubemap.cubemapFromSource(\r\n            this.gl,\r\n            images,\r\n            textureConfig.flipY,\r\n            textureConfig.premultiplyAlpha,\r\n            textureConfig.id,\r\n            textureConfig.internalFormat,\r\n            textureConfig.format,\r\n            textureConfig.type\r\n        );\r\n\r\n        if(textureConfig.flipY) {\r\n            data.flipY(1);\r\n        }\r\n\r\n        if(textureConfig.sampler){\r\n            if(textureConfig.sampler.minFilter === MIN_FILTER.LINEAR\r\n                || textureConfig.sampler.minFilter === MIN_FILTER.NEAREST\r\n                || textureConfig.sampler.minFilter === MIN_FILTER.LINEAR_MIPMAP_LINEAR\r\n                || textureConfig.sampler.minFilter === MIN_FILTER.LINEAR_MIPMAP_NEAREST\r\n                || textureConfig.sampler.minFilter === MIN_FILTER.NEAREST_MIPMAP_LINEAR\r\n                || textureConfig.sampler.minFilter === MIN_FILTER.NEAREST_MIPMAP_NEAREST\r\n            ){\r\n                data.setMinFilter(textureConfig.sampler.minFilter);\r\n            }else if(GLTexture.isPowerOf2(data.width) && GLTexture.isPowerOf2(data.height)){\r\n                data.setMinFilter(MIN_FILTER.LINEAR_MIPMAP_LINEAR);\r\n            }else{\r\n                data.setMinFilter(MIN_FILTER.LINEAR);\r\n            }\r\n            if(textureConfig.sampler.magFilter === MAG_FILTER.LINEAR || textureConfig.sampler.magFilter === MAG_FILTER.NEAREST) {\r\n                data.setMagFilter(textureConfig.sampler.magFilter);\r\n            }else{\r\n                data.setMagFilter(MAG_FILTER.LINEAR);\r\n            }\r\n            if(textureConfig.sampler.wrapS === TEXTURE_WRAP.CLAMP_TO_EDGE\r\n                || textureConfig.sampler.wrapS === TEXTURE_WRAP.MIRRORED_REPEAT\r\n                || textureConfig.sampler.wrapS === TEXTURE_WRAP.REPEAT\r\n            ){\r\n                data.setWrapS(textureConfig.sampler.wrapS);\r\n            }else{\r\n                data.setWrapS(TEXTURE_WRAP.REPEAT);\r\n            }\r\n            if(textureConfig.sampler.wrapT === TEXTURE_WRAP.CLAMP_TO_EDGE\r\n                || textureConfig.sampler.wrapT === TEXTURE_WRAP.MIRRORED_REPEAT\r\n                || textureConfig.sampler.wrapT === TEXTURE_WRAP.REPEAT\r\n            ){\r\n                data.setWrapT(textureConfig.sampler.wrapT);\r\n            }else{\r\n                data.setWrapT(TEXTURE_WRAP.REPEAT);\r\n            }\r\n        }\r\n\r\n        return data;\r\n    }\r\n}","import {LOAD_TYPE, Middleware, Resource} from \"curbl-loader\";\r\nimport {CACHE_TYPE} from \"../cache\";\r\nimport {Shader} from \"../scene/shader\";\r\nimport {GLShader} from \"curbl-gl-util\";\r\n\r\nexport class GLSLLoader extends Middleware<GLShader> {\r\n\r\n    private readonly gl: WebGL2RenderingContext;\r\n\r\n    constructor(gl: WebGL2RenderingContext) {\r\n        super(CACHE_TYPE.SHADER);\r\n        this.gl = gl;\r\n    }\r\n\r\n    add<T extends Shader>(key:string,vertexSrc:string,fragSrc:string, shader?:GLShader): Middleware<GLShader> {\r\n        return this.addResourceToQueue({\r\n            key: key,\r\n            resources: [\r\n                {\r\n                    resource: new Resource<XMLHttpRequest>({\r\n                        url: vertexSrc,\r\n                        loadType: LOAD_TYPE.XHR,\r\n                        responseType: \"text\"\r\n                    },{type:\"vertex\", shader: shader})\r\n                },\r\n                {\r\n                    resource: new Resource<XMLHttpRequest>({\r\n                        url: fragSrc,\r\n                        loadType: LOAD_TYPE.XHR,\r\n                        responseType: \"text\"\r\n                    },{type:\"fragment\", shader: shader})\r\n                }]\r\n        });\r\n    }\r\n\r\n    transform(...resources: Resource<XMLHttpRequest>[]): Shader {\r\n        const vertex = resources.find((r) => r.config.type === \"vertex\");\r\n        const fragment = resources.find((r) => r.config.type === \"fragment\");\r\n\r\n        if(vertex.config.shader) {\r\n            const shader: Shader = vertex.config.shader;\r\n            shader.vertexSrc = vertex.request.response;\r\n            shader.fragmentSrc = fragment.request.response;\r\n            return shader;\r\n        }\r\n\r\n        return new Shader(this.gl,vertex.request.response, fragment.request.response);\r\n    }\r\n}","import {LOAD_TYPE, Middleware, Resource} from \"curbl-loader\";\r\nimport {GLTF_Parser} from \"../gltf/GLTFParser\";\r\nimport {Cache, CACHE_TYPE} from \"../cache\";\r\nimport {Scene} from \"../scene/scene\";\r\n\r\nexport class GLTFLoader extends Middleware<Scene> {\r\n    private readonly gl: WebGL2RenderingContext;\r\n    private readonly cache: Cache;\r\n\r\n    constructor(gl: WebGL2RenderingContext, cache: Cache) {\r\n        super(CACHE_TYPE.SCENE);\r\n        this.gl = gl;\r\n        this.cache = cache;\r\n    }\r\n\r\n    add(key:string, gltfJson:string, gltfBin?:string): Middleware<Scene> {\r\n        const bufferResource = gltfBin ? {\r\n            resource: new Resource<XMLHttpRequest>({\r\n                url: gltfBin,\r\n                loadType: LOAD_TYPE.XHR,\r\n                responseType: 'arraybuffer'\r\n            },{\r\n                type:'buffer'\r\n            })\r\n        } : null;\r\n\r\n        const jsonResource = {\r\n            resource: new Resource<XMLHttpRequest>({\r\n                url: gltfJson,\r\n                loadType: LOAD_TYPE.XHR,\r\n                responseType: 'json'\r\n            },{\r\n                type:'json'\r\n            })\r\n        };\r\n\r\n        const resources = bufferResource ? [jsonResource, bufferResource] : [jsonResource];\r\n\r\n        return this.addResourceToQueue({\r\n            key: key,\r\n            resources: resources\r\n        });\r\n    }\r\n\r\n    transform(...resources: Resource<XMLHttpRequest>[]): Scene {\r\n        const jsonResource = resources.find((resource)=>resource.config.type === 'json');\r\n        const bufferResource = resources.find((resource)=>resource.config.type === 'buffer');\r\n\r\n        const url = jsonResource.options.url;\r\n        const match = url.match(/[\\w\\.]+/g);\r\n\r\n        const parser = new GLTF_Parser(this._loader,this.gl,this.cache);\r\n        parser.path = url.replace(match[match.length-1],'');\r\n\r\n        return parser.parse(jsonResource.request.response, bufferResource ? bufferResource.request.response : undefined);\r\n    }\r\n}","import {LOAD_TYPE, Middleware, Resource} from \"curbl-loader\";\r\nimport {GLTexture, MAG_FILTER, MIN_FILTER, TEXTURE_WRAP} from \"curbl-gl-util\";\r\nimport {CACHE_TYPE} from \"../cache\";\r\n\r\nexport type TextureLoaderConfig = {\r\n    id?:number;\r\n    premultiplyAlpha?:boolean;\r\n    internalFormat?:number;\r\n    format?:number;\r\n    type?:number;\r\n    width?:number;\r\n    height?:number;\r\n    sampler?:{\r\n        magFilter?:number;\r\n        minFilter?:number;\r\n        wrapS?:number;\r\n        wrapT?:number;\r\n    },\r\n    flipY?:boolean;\r\n}\r\n\r\nexport class TextureLoader extends Middleware<GLTexture> {\r\n\r\n    private readonly gl: WebGL2RenderingContext;\r\n\r\n    constructor(gl: WebGL2RenderingContext) {\r\n        super(CACHE_TYPE.TEXTURE);\r\n        this.gl = gl;\r\n    }\r\n\r\n    add(key:string, url:string, config:TextureLoaderConfig = {\r\n        id:0,\r\n        sampler: {\r\n            wrapS: TEXTURE_WRAP.REPEAT,\r\n            wrapT: TEXTURE_WRAP.REPEAT\r\n        }\r\n    }): Middleware<GLTexture> {\r\n        return this.addResourceToQueue({\r\n            key: key,\r\n            resources: [{\r\n                resource: new Resource<HTMLImageElement>({\r\n                    url: url,\r\n                    loadType: LOAD_TYPE.IMAGE\r\n                },config)\r\n            }]\r\n        });\r\n    }\r\n\r\n    transform(resource: Resource<HTMLImageElement>): GLTexture {\r\n        const textureConfig = resource.config;\r\n        const image = resource.request;\r\n\r\n        const data = GLTexture.fromSource(\r\n            this.gl,\r\n            image,\r\n            textureConfig.premultiplyAlpha,\r\n            textureConfig.id,\r\n            textureConfig.internalFormat,\r\n            textureConfig.format,\r\n            textureConfig.type\r\n        );\r\n\r\n        if(textureConfig.flipY) {\r\n            data.flipY(1);\r\n        }\r\n        if(textureConfig.sampler){\r\n            if(textureConfig.sampler.minFilter === MIN_FILTER.LINEAR\r\n                || textureConfig.sampler.minFilter === MIN_FILTER.NEAREST\r\n                || textureConfig.sampler.minFilter === MIN_FILTER.LINEAR_MIPMAP_LINEAR\r\n                || textureConfig.sampler.minFilter === MIN_FILTER.LINEAR_MIPMAP_NEAREST\r\n                || textureConfig.sampler.minFilter === MIN_FILTER.NEAREST_MIPMAP_LINEAR\r\n                || textureConfig.sampler.minFilter === MIN_FILTER.NEAREST_MIPMAP_NEAREST\r\n            ){\r\n                data.setMinFilter(textureConfig.sampler.minFilter);\r\n            }else if(GLTexture.isPowerOf2(data.width) && GLTexture.isPowerOf2(data.height)){\r\n                data.setMinFilter(MIN_FILTER.LINEAR_MIPMAP_LINEAR);\r\n            }else{\r\n                data.setMinFilter(MIN_FILTER.LINEAR);\r\n            }\r\n            if(textureConfig.sampler.magFilter === MAG_FILTER.LINEAR || textureConfig.sampler.magFilter === MAG_FILTER.NEAREST) {\r\n                data.setMagFilter(textureConfig.sampler.magFilter);\r\n            }else{\r\n                data.setMagFilter(MAG_FILTER.LINEAR);\r\n            }\r\n            if(textureConfig.sampler.wrapS === TEXTURE_WRAP.CLAMP_TO_EDGE\r\n                || textureConfig.sampler.wrapS === TEXTURE_WRAP.MIRRORED_REPEAT\r\n                || textureConfig.sampler.wrapS === TEXTURE_WRAP.REPEAT\r\n            ){\r\n                data.setWrapS(textureConfig.sampler.wrapS);\r\n            }else{\r\n                data.setWrapS(TEXTURE_WRAP.REPEAT);\r\n            }\r\n            if(textureConfig.sampler.wrapT === TEXTURE_WRAP.CLAMP_TO_EDGE\r\n                || textureConfig.sampler.wrapT === TEXTURE_WRAP.MIRRORED_REPEAT\r\n                || textureConfig.sampler.wrapT === TEXTURE_WRAP.REPEAT\r\n            ){\r\n                data.setWrapT(textureConfig.sampler.wrapT);\r\n            }else{\r\n                data.setWrapT(TEXTURE_WRAP.REPEAT);\r\n            }\r\n        }\r\n        return data;\r\n    }\r\n}","/**\n * @file Automatically generated by barrelsby.\n */\n\nexport * from \"./CubemapLoader\";\nexport * from \"./GLSLLoader\";\nexport * from \"./GLTFLoader\";\nexport * from \"./TextureLoader\";\n","/**\n * @file Automatically generated by barrelsby.\n */\n\nexport * from \"./material\";\nexport * from \"./materialmap\";\nexport * from \"./metallicRoughness\";\n","import {Materialmap} from \"./materialmap\";\r\n\r\nexport enum MATERIAL_TYPES {\r\n    PBR\r\n}\r\n\r\nexport enum MATERIAL_MAPS {\r\n    ALBEDO,\r\n    NORMAL,\r\n    OCCLUSION,\r\n    EMISSIVE,\r\n    METAL_ROUGHNESS\r\n}\r\n\r\nexport enum ALPHA_MODE {\r\n    OPAQUE = \"OPAQUE\",\r\n    MASK = \"MASK\",\r\n    BLEND = \"BLEND\"\r\n}\r\n\r\nexport class Material<T = any> {\r\n    /**\r\n     * material type PBR or SPECULAR\r\n     * default PBR\r\n     * @property\r\n     */\r\n    private _type:MATERIAL_TYPES;\r\n    /**\r\n     * name of the material\r\n     * @property\r\n     */\r\n    protected _name:string;\r\n    /**\r\n     * List of maps for this material\r\n     * @property\r\n     */\r\n    protected _maps:Array<Materialmap>;\r\n    /**\r\n     * Modeldata for the type of this Material e.g. MetallicRoughness,SpecularGlossiness data\r\n     * @property\r\n     */\r\n    protected _model:T;\r\n\r\n    private _alphaMode:ALPHA_MODE;\r\n    private _alphaCutoff:number;\r\n    private _doubleSided:boolean;\r\n\r\n    constructor(name:string,model?:T){\r\n        this._type = MATERIAL_TYPES.PBR;\r\n        this.name = name;\r\n        this._maps = [];\r\n        this._model = model;\r\n        this._alphaMode = ALPHA_MODE.OPAQUE;\r\n        this._alphaCutoff = 0.5;\r\n        this._doubleSided = false;\r\n    }\r\n\r\n    hasMap(key:MATERIAL_MAPS):boolean {\r\n        return !!this._maps[key];\r\n    }\r\n\r\n    get name(): string {\r\n        return this._name;\r\n    }\r\n\r\n    set name(value: string) {\r\n        this._name = value;\r\n    }\r\n\r\n    public get maps():Array<Materialmap> {\r\n        return this._maps;\r\n    }\r\n\r\n    public set maps(value:Array<Materialmap>) {\r\n        this._maps = value;\r\n    }\r\n\r\n    public get model():T {\r\n        return this._model;\r\n    }\r\n\r\n    public set model(value:T) {\r\n        this._model = value;\r\n    }\r\n\r\n    get type(): MATERIAL_TYPES {\r\n        return this._type;\r\n    }\r\n\r\n    set type(value: MATERIAL_TYPES) {\r\n        this._type = value;\r\n    }\r\n\r\n    get alphaMode(): ALPHA_MODE {\r\n        return this._alphaMode;\r\n    }\r\n\r\n    set alphaMode(value: ALPHA_MODE) {\r\n        this._alphaMode = value;\r\n    }\r\n\r\n    get alphaCutoff(): number {\r\n        return this._alphaCutoff;\r\n    }\r\n\r\n    set alphaCutoff(value: number) {\r\n        this._alphaCutoff = value;\r\n    }\r\n\r\n    get doubleSided(): boolean {\r\n        return this._doubleSided;\r\n    }\r\n\r\n    set doubleSided(value: boolean) {\r\n        this._doubleSided = value;\r\n    }\r\n}","/**\r\n * Created by Soeren on 31.10.2017.\r\n */\r\nexport interface ISampler {\r\n    magFilter?:number;\r\n    minFilter?:number;\r\n    wrapS?:number;\r\n    wrapT?:number;\r\n}\r\n\r\nexport class Materialmap {\r\n    private _texture:string;\r\n    private _sampler?:ISampler;\r\n\r\n    constructor(texture:string,sampler?:ISampler){\r\n        this._texture = texture;\r\n        this._sampler = sampler;\r\n    }\r\n\r\n    public get texture():string {\r\n        return this._texture;\r\n    }\r\n\r\n    public set texture(value:string) {\r\n        this._texture = value;\r\n    }\r\n\r\n    public get sampler():ISampler {\r\n        return this._sampler;\r\n    }\r\n\r\n    public set sampler(value:ISampler) {\r\n        this._sampler = value;\r\n    }\r\n\r\n}","import {vec3, vec4} from \"gl-matrix\";\r\n\r\nexport class MetallicRoughness {\r\n    private _emissiveFactor:vec3;\r\n    private _baseColorFactor:vec4;\r\n    private _metallicFactor:number;\r\n    private _roughnessFactor:number;\r\n    private _normalScale:number;\r\n    private _occlusionStrength:number;\r\n\r\n    constructor(){\r\n        this._baseColorFactor = vec4.fromValues(1,1,1,1);\r\n        this._metallicFactor = 1;\r\n        this._roughnessFactor = 1;\r\n        this._normalScale = 1;\r\n        this._occlusionStrength = 1;\r\n        this._emissiveFactor = vec3.create();\r\n    }\r\n\r\n    get baseColorFactor(): vec4 {\r\n        return this._baseColorFactor;\r\n    }\r\n\r\n    set baseColorFactor(value: vec4) {\r\n        this._baseColorFactor = value;\r\n    }\r\n\r\n    get metallicFactor(): number {\r\n        return this._metallicFactor;\r\n    }\r\n\r\n    set metallicFactor(value: number) {\r\n        this._metallicFactor = value;\r\n    }\r\n\r\n    get roughnessFactor(): number {\r\n        return this._roughnessFactor;\r\n    }\r\n\r\n    set roughnessFactor(value: number) {\r\n        this._roughnessFactor = value;\r\n    }\r\n\r\n    get emissiveFactor(): vec3 {\r\n        return this._emissiveFactor;\r\n    }\r\n\r\n    set emissiveFactor(value: vec3) {\r\n        this._emissiveFactor = value;\r\n    }\r\n\r\n    get normalScale(): number {\r\n        return this._normalScale;\r\n    }\r\n\r\n    set normalScale(value: number) {\r\n        this._normalScale = value;\r\n    }\r\n\r\n    get occlusionStrength(): number {\r\n        return this._occlusionStrength;\r\n    }\r\n\r\n    set occlusionStrength(value: number) {\r\n        this._occlusionStrength = value;\r\n    }\r\n}","/**\r\n * Created by Soeren on 26.11.2016.\r\n */\r\nexport class Color {\r\n    private _elements:Float32Array;\r\n\r\n    constructor(r:number=0,g:number=0,b:number=0,a=1){\r\n        this._elements = new Float32Array([r, g, b, a]);\r\n    }\r\n    public get r():number{\r\n        return this._elements[0];\r\n    }\r\n    public set r(r:number){\r\n        this._elements[0] = r;\r\n    }\r\n    public get g():number{\r\n        return this._elements[1];\r\n    }\r\n    public set g(g:number){\r\n        this._elements[1] = g;\r\n    }\r\n    public get b():number{\r\n        return this._elements[2];\r\n    }\r\n    public set b(b:number){\r\n        this._elements[2] = b;\r\n    }\r\n    public get a():number{\r\n        return this._elements[3];\r\n    }\r\n    public set (a:number){\r\n        this._elements[3] = a;\r\n    }\r\n    public mult(f:number|Color):Color{\r\n        if(typeof f === 'number'){\r\n            f = <number>f;\r\n            return new Color(this.r*f,this.g*f,this.b*f,Math.abs(Math.min(this.a*f,1)));\r\n        }else{\r\n            return new Color(this.r*f.r,this.g*f.g,this.b*f.b,Math.abs(Math.min(this.a*f.a,1)));\r\n        }\r\n    }\r\n    public div(f:number|Color):Color{\r\n        if(typeof f === 'number'){\r\n            f = <number>f;\r\n            return this.mult(1/f);\r\n        }\r\n        let color = new Color(1/f.r,1/f.g,1/f.b,Math.min(1/f.a,1));\r\n        return this.mult(color);\r\n    }\r\n    public plus(other:Color):Color{\r\n        return new Color(this.r+other.r,this.g+other.g,this.b+other.b,Math.abs(Math.min(this.a+other.a,1)));\r\n    }\r\n    public minus(other:Color):Color{\r\n        return new Color(this.r-other.r,this.g-other.g,this.b-other.b,Math.abs(Math.min(this.a-other.a,1)));\r\n    }\r\n\r\n    public get elements():Float32Array {\r\n        return this._elements;\r\n    }\r\n\r\n    public set elements(value:Float32Array) {\r\n        this._elements = value;\r\n    }\r\n\r\n    public toString():string{\r\n        return \"{Color: [R: \"+this.r+\" G: \"+this.g+\" B: \"+this.b+\" A: \"+this.a+\"]}\";\r\n    }\r\n}","/**\n * @file Automatically generated by barrelsby.\n */\n\nexport * from \"./color\";\nexport * from \"./math\";\n","import {vec3} from \"gl-matrix\";\r\n\r\nexport module Math3d {\r\n\r\n    /**\r\n     * Return a vector point on a position of a sphere\r\n     * @param {number} x\r\n     * @param {number} y\r\n     * @param {number} width\r\n     * @param {number} height\r\n     * @returns {Vector}\r\n     */\r\n    export function getVSpherePos(x:number,y:number,width:number,height:number):vec3 {\r\n        const out:vec3 = vec3.fromValues(1.0*x/width*2.0-1.0, -(1.0*y/height*2.0-1.0) , 0);\r\n        vec3.squaredLength(out);\r\n        let sqrLen = vec3.squaredLength(out);\r\n        if(sqrLen <= 1.0){\r\n            vec3.add(out, out, [0,0,  Math.sqrt(1-sqrLen)]);\r\n        }else{\r\n            vec3.normalize(out, out);\r\n        }\r\n        return out;\r\n    }\r\n\r\n    /**\r\n     * Rotate vector v around axis n with angle a\r\n     * @param {Vector} v - vector to rotate\r\n     * @param {Vector} n - axis to rotate around\r\n     * @param {number} a - rotation angle\r\n     * @returns {Vector}\r\n     */\r\n    export function rotateAxisAngle(v:vec3,n:vec3,a:number):vec3{\r\n        let co = Math.cos(a);\r\n        let si = Math.sin(a);\r\n\r\n        let o:vec3 = vec3.create();\r\n        let mx = vec3.fromValues(n[0]*n[0]*(1.0-co)+co, n[0]*n[1]*(1.0-co)-n[2]*si, n[0]*n[2]*(1.0-co)+n[1]*si);\r\n        let my = vec3.fromValues(n[0]*n[1]*(1.0-co)+n[2]*si, n[1]*n[1]*(1.0-co)+co, n[1]*n[2]*(1.0-co)-n[0]*si);\r\n        let mz = vec3.fromValues(n[0]*n[2]*(1.0-co)-n[1]*si, n[2]*n[1]*(1.0-co)+n[0]*si, n[2]*n[2]*(1.0-co)+co);\r\n        o[0] = vec3.dot(mx, v);\r\n        o[1] = vec3.dot(my, v);\r\n        o[2] = vec3.dot(mz, v);\r\n        return o;\r\n    }\r\n\r\n    /**\r\n     * transform degree to radians\r\n     * @param {number} deg\r\n     * @returns {number}\r\n     */\r\n    export function radians(deg:number):number{\r\n        return deg * Math.PI / 180;\r\n    }\r\n\r\n    /**\r\n     * ModelTransform radians to degrees\r\n     * @param {number} rad\r\n     * @returns {number}\r\n     */\r\n    export function degrees(rad:number):number{\r\n        return rad * 180 / Math.PI;\r\n    }\r\n}\r\n\r\nexport module Math2d {\r\n    export function lerp(a:number,b:number,f:number):number{\r\n        return a+f*(b-a);\r\n    }\r\n}","import {AnimationSampler} from \"./animationSampler\";\r\nimport {AnimationChannel} from \"./animationChannel\";\r\nimport {SceneNode} from \"../sceneNode\";\r\nimport {quat, vec3} from \"gl-matrix\";\r\n\r\nexport class Animation {\r\n    name: string;\r\n    private samplers: Array<AnimationSampler>;\r\n    private channels: Array<AnimationChannel>;\r\n    private _duration: number;\r\n\r\n    constructor() {\r\n        this.samplers = [];\r\n        this.channels = [];\r\n        this._duration = 0;\r\n    }\r\n\r\n    addSampler(sampler: AnimationSampler) {\r\n        this.samplers.push(sampler);\r\n    }\r\n\r\n    addChannel(channel: AnimationChannel) {\r\n        this.channels.push(channel);\r\n    }\r\n\r\n    animate(t:number) {\r\n        const time = t * 0.001;\r\n\r\n        for(let i=0, sampler:AnimationSampler; sampler = this.samplers[i]; i++) {\r\n            sampler.update(time);\r\n        }\r\n        for(let i=0, channel: AnimationChannel; channel = this.channels[i]; i++) {\r\n            const sampler = this.samplers[channel.sampler];\r\n            const node:SceneNode = channel.node;\r\n\r\n            switch(channel.path) {\r\n                case \"rotation\":\r\n                    quat.copy(node.transform.rotation, sampler.value as any);\r\n                    break;\r\n                case \"translation\":\r\n                    vec3.copy(node.transform.translation, sampler.value);\r\n                    break;\r\n                case \"scale\":\r\n                    vec3.copy(node.transform.scale, sampler.value);\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n    get duration(): number {\r\n        return this._duration;\r\n    }\r\n\r\n    set duration(duration:number) {\r\n        this._duration = duration;\r\n    }\r\n\r\n    get durationMS(): number {\r\n        return this._duration * 1000;\r\n    }\r\n\r\n    set durationMS(durationMS:number) {\r\n        this._duration = durationMS * 0.001;\r\n    }\r\n}","import {SceneNode} from \"../sceneNode\";\r\n\r\nexport class AnimationChannel {\r\n    sampler: number;\r\n    node: SceneNode;\r\n    path:\"translation\"|\"rotation\"|\"scale\"|\"weights\";\r\n}","import {quat, vec4} from \"gl-matrix\";\r\nimport {TypedArray} from \"../../gltf/GLTFModel\";\r\n\r\nexport enum Interpolation {\r\n    LINEAR = \"LINEAR\",\r\n    STEP = \"STEP\",\r\n    CUBICSPLINE = \"CUBICSPLINE\"\r\n}\r\n\r\ntype LerpFunc = (out:quat|vec4, a:vec4, b:vec4, t:number) => quat|vec4;\r\n\r\nexport class AnimationSampler {\r\n    private _interpolation:\"LINEAR\"|\"STEP\"|\"CUBICSPLINE\";\r\n    private _inputData:TypedArray;\r\n    private _outputData:TypedArray;\r\n    private _componentTypeCount: number;\r\n\r\n    private prevValue:vec4;\r\n    private nextValue:vec4;\r\n    private _value:vec4|quat;\r\n    private _duration:number;\r\n\r\n    constructor() {\r\n        this._interpolation = Interpolation.LINEAR;\r\n        this.prevValue = vec4.create();\r\n        this.nextValue = vec4.create();\r\n        this._value = vec4.create();\r\n        this._duration = 0;\r\n    }\r\n\r\n    private updateValue(idx:number, t:number) {\r\n        const typeCount = this._componentTypeCount;\r\n        const prevIdx = idx * typeCount;\r\n        const nextIdx = (prevIdx + typeCount + 2) <= this._outputData.length ? prevIdx + typeCount : prevIdx;\r\n        const lerp:LerpFunc = (typeCount === 4 ? quat.slerp : vec4.lerp) as LerpFunc;\r\n\r\n        vec4.set(\r\n            this.prevValue,\r\n            this._outputData[prevIdx],\r\n            this._outputData[prevIdx+1],\r\n            this._outputData[prevIdx+2],\r\n            typeCount === 3 ? 0 : this._outputData[prevIdx+3]\r\n        );\r\n\r\n        vec4.set(\r\n            this.nextValue,\r\n            this._outputData[nextIdx],\r\n            this._outputData[nextIdx+1],\r\n            this._outputData[nextIdx+2],\r\n            typeCount === 3 ? 0 : this._outputData[nextIdx+3]\r\n        );\r\n\r\n        lerp(this._value, this.prevValue, this.nextValue, t);\r\n    }\r\n\r\n    update(t:number) {\r\n        let idx = 0;\r\n\r\n        while(idx < this._inputData.length - 2 && t >= this._inputData[idx + 1]) {\r\n            idx++;\r\n        }\r\n\r\n        const previousTime = this._inputData[idx];\r\n        const nextTime = this._inputData[idx+1];\r\n        const interpolationTime = Math.min(Math.max( 0, (t - previousTime) / (nextTime - previousTime)),1);\r\n        this.updateValue(idx, interpolationTime);\r\n    }\r\n\r\n    get value(): number[] {\r\n        return this._value as any as number[];\r\n    }\r\n\r\n    get duration(): number {\r\n        return this._duration;\r\n    }\r\n\r\n    set duration(duration:number) {\r\n        this._duration = duration;\r\n    }\r\n\r\n    get interpolation(): \"LINEAR\" | \"STEP\" | \"CUBICSPLINE\" {\r\n        return this._interpolation;\r\n    }\r\n\r\n    set interpolation(value: \"LINEAR\" | \"STEP\" | \"CUBICSPLINE\") {\r\n        this._interpolation = value;\r\n    }\r\n\r\n    get inputData(): TypedArray {\r\n        return this._inputData;\r\n    }\r\n\r\n    set inputData(value: TypedArray) {\r\n        this._inputData = value;\r\n    }\r\n\r\n    get outputData(): TypedArray {\r\n        return this._outputData;\r\n    }\r\n\r\n    set outputData(value: TypedArray) {\r\n        this._outputData = value;\r\n    }\r\n\r\n    get componentTypeCount(): number {\r\n        return this._componentTypeCount;\r\n    }\r\n\r\n    set componentTypeCount(value: number) {\r\n        this._componentTypeCount = value;\r\n    }\r\n}","/**\n * @file Automatically generated by barrelsby.\n */\n\nexport * from \"./animation\";\nexport * from \"./animationChannel\";\nexport * from \"./animationSampler\";\n","import {GL_TYPES} from \"curbl-gl-util\";\r\n\r\nexport enum ACCESSOR_TYPE  {\r\n    SCALAR = \"SCALAR\",\r\n    VEC2 = \"VEC2\",\r\n    VEC3 = \"VEC3\",\r\n    VEC4 = \"VEC4\",\r\n    MAT2 = \"MAT2\",\r\n    MAT3 = \"MAT3\",\r\n    MAT4 = \"MAT4\"\r\n}\r\n\r\nexport const GLTF_ACCESORTYPE_SIZE:{[id:string]:number} = {\r\n    [ACCESSOR_TYPE.SCALAR] : 1,\r\n    [ACCESSOR_TYPE.VEC2]: 2,\r\n    [ACCESSOR_TYPE.VEC3]: 3,\r\n    [ACCESSOR_TYPE.VEC4]: 4,\r\n    [ACCESSOR_TYPE.MAT2]: 4,\r\n    [ACCESSOR_TYPE.MAT3]: 9,\r\n    [ACCESSOR_TYPE.MAT4]: 16,\r\n};\r\n\r\nexport class Accessor {\r\n    private _bufferView:number;\r\n    private _byteOffset:number;\r\n    private _componentType:GL_TYPES; //GL_FLOAT etc.\r\n    private _type:ACCESSOR_TYPE;\r\n    private _stride?:number;\r\n    private _normalized:boolean;\r\n    private _count?:number;\r\n    private _max?:Array<number>;\r\n    private _min?:Array<number>;\r\n\r\n    constructor(){\r\n        this._byteOffset = 0;\r\n        this._componentType = GL_TYPES.FLOAT;\r\n        this._stride = 0;\r\n        this._normalized = false;\r\n        this._max = [];\r\n        this._min = [];\r\n    }\r\n\r\n    public get bufferView():number {\r\n        return this._bufferView;\r\n    }\r\n\r\n    public set bufferView(value:number) {\r\n        this._bufferView = value;\r\n    }\r\n\r\n    public get byteOffset():number {\r\n        return this._byteOffset;\r\n    }\r\n\r\n    public set byteOffset(value:number) {\r\n        this._byteOffset = value;\r\n    }\r\n\r\n    public get componentType():GL_TYPES {\r\n        return this._componentType;\r\n    }\r\n\r\n    public set componentType(value:GL_TYPES) {\r\n        this._componentType = value;\r\n    }\r\n\r\n    public get stride():number {\r\n        return this._stride;\r\n    }\r\n\r\n    public set stride(value:number) {\r\n        this._stride = value;\r\n    }\r\n\r\n    public get normalized():boolean {\r\n        return this._normalized;\r\n    }\r\n\r\n    public set normalized(value:boolean) {\r\n        this._normalized = value;\r\n    }\r\n\r\n    public get componentTypeCount():number {\r\n        return GLTF_ACCESORTYPE_SIZE[this._type];\r\n    }\r\n\r\n    get count(): number {\r\n        return this._count;\r\n    }\r\n\r\n    set count(value: number) {\r\n        this._count = value;\r\n    }\r\n\r\n    get max(): Array<number> {\r\n        return this._max;\r\n    }\r\n\r\n    set max(value: Array<number>) {\r\n        this._max = value;\r\n    }\r\n\r\n    get min(): Array<number> {\r\n        return this._min;\r\n    }\r\n\r\n    set min(value: Array<number>) {\r\n        this._min = value;\r\n    }\r\n\r\n    get type(): ACCESSOR_TYPE {\r\n        return this._type;\r\n    }\r\n\r\n    set type(value: ACCESSOR_TYPE) {\r\n        this._type = value;\r\n    }\r\n}","import {GL_BUFFERS, GLBuffer} from \"curbl-gl-util\";\r\n\r\n/**\r\n * Describes which buffer to create for the GPU\r\n */\r\nexport class BufferView {\r\n    /**\r\n     * idx of the GLBuffer for this BufferView\r\n     */\r\n    buffer?:GLBuffer;\r\n    /**\r\n     * BufferOffset of the GLBuffer\r\n     */\r\n    bufferOffset:number;\r\n\r\n    data:ArrayBuffer;\r\n    target?:GL_BUFFERS;\r\n    drawType:GL_BUFFERS;\r\n\r\n    constructor(){\r\n        this.bufferOffset = 0;\r\n        this.drawType = GL_BUFFERS.STATIC_DRAW;\r\n    }\r\n}","/**\n * @file Automatically generated by barrelsby.\n */\n\nexport * from \"./accessor\";\nexport * from \"./bufferView\";\n","/**\n * @file Automatically generated by barrelsby.\n */\n\nexport * from \"./mesh\";\nexport * from \"./scene\";\nexport * from \"./sceneNode\";\nexport * from \"./shader\";\nexport * from \"./transform\";\nexport * from \"./animation/index\";\nexport * from \"./data/index\";\nexport * from \"./primitive/index\";\nexport * from \"./skin/index\";\n","import {BufferView} from \"./data\";\r\nimport {Primitive} from \"./primitive\";\r\nimport {GL_BUFFERS, GL_PRIMITIVES, GLAttribute, GLBuffer} from \"curbl-gl-util\";\r\nimport {Material, MATERIAL_MAPS} from \"../material\";\r\nimport {Cache, CACHE_TYPE} from \"../cache\";\r\nimport {Shader} from \"./shader\";\r\nimport {Accessor} from \"./data/accessor\";\r\n\r\nexport class Mesh {\r\n    //TODO still not sure if keeping bufferViews on mesh level or on primitive level\r\n    private _bufferViews:{[idx:number]:BufferView};\r\n    private _primitives:Array<Primitive>;\r\n    private _name:string;\r\n\r\n    constructor(){\r\n        this._primitives = [];\r\n        this._bufferViews = Object.create(null);\r\n    }\r\n\r\n    /**\r\n     * init this modell by creating the GPUBuffers(Vertex- and Indexbuffer)\r\n     * ot upload the data to an existing buffer\r\n     * @param {WebGL2RenderingContext} gl\r\n     * @param {GLBuffer} vertexBuffer - use existing VertexBuffer and add the gltf data into it\r\n     * @param {GLBuffer} indexBuffer - use existing IndexBuffer and add the gltf indices into it\r\n     * @returns {Mesh}\r\n     */\r\n    public init(gl:WebGL2RenderingContext,vertexBuffer?:GLBuffer,indexBuffer?:GLBuffer):Mesh {\r\n        this.initBuffers(gl,vertexBuffer,indexBuffer);\r\n        this.setIndexBuffers(gl);\r\n        return this;\r\n    }\r\n\r\n    private initBuffers(gl: WebGL2RenderingContext, vertexBuffer?:GLBuffer, indexBuffer?:GLBuffer) {\r\n        const keys = Object.keys(this._bufferViews);\r\n        for(let i=0, view:BufferView; view = this._bufferViews[keys[i]]; i++) {\r\n            if(view.buffer === null || view.buffer === undefined){\r\n                let buffer:GLBuffer;\r\n                if(view.target === GL_BUFFERS.ARRAY_BUFFER){\r\n                    buffer = vertexBuffer||GLBuffer.create(gl,view.target,null,view.drawType);\r\n                }else{\r\n                    buffer = indexBuffer||GLBuffer.create(gl,view.target,null,view.drawType);\r\n                }\r\n                view.bufferOffset = buffer.byteLength;\r\n                buffer.addData(view.data);\r\n                view.buffer = buffer;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Create all the VAO for the IndexBuffers\r\n     * @param {WebGL2RenderingContext} gl\r\n     */\r\n    private setIndexBuffers(gl:WebGL2RenderingContext):void{\r\n        for(let i=0,primitive:Primitive; primitive = this._primitives[i]; i++){\r\n            if(primitive.indices && primitive.indices.bufferView !== undefined && primitive.indices.bufferView !== null) {\r\n                const view = this._bufferViews[primitive.indices.bufferView];\r\n                primitive.initVertexArrayObject(gl, view.buffer);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Make sure to initialize(init) the Mesh before uploading the data\r\n     * Create the GPU_Buffers and upload this Mesh to the GPU\r\n     * @returns {Mesh}\r\n     */\r\n    public upload():Mesh {\r\n        const keys = Object.keys(this._bufferViews);\r\n        for(let i=0, view:BufferView; view = this._bufferViews[keys[i]]; i++){\r\n            if(!view.buffer) {\r\n                throw \"Failed to upload buffer for bufferView, did you forget to initialize the buffer first?\";\r\n            }\r\n            view.buffer.upload();\r\n        }\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Draws all Meshes that form the Mesh\r\n     * @param {Shader} shader - Shader that should be used for all primitives/Materials\r\n     * @param {Cache} cache - cache to get the materials\r\n     */\r\n    public draw(shader: Shader, cache: Cache):void {\r\n        shader.applyMesh(this);\r\n        for(let i=0, primitive:Primitive; primitive = this._primitives[i]; i++){\r\n            const view = this._bufferViews[primitive.indices.bufferView];\r\n            const offset = view.bufferOffset + primitive.indices.byteOffset;\r\n            shader.applyMaterial(cache.get<Material>(CACHE_TYPE.MATERIAL, primitive.material));\r\n            primitive.draw(primitive.draw_mode, primitive.indices.count, primitive.indices.componentType, offset);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Add an attribute to the VAO\r\n     * @param {GL_PRIMITIVES} key\r\n     * @param {Shader} shader\r\n     * @param {Attributes.GLAttribute} glAttribute\r\n     */\r\n    addAttribute(key:GL_PRIMITIVES, glAttribute: GLAttribute):void{\r\n        for(let i=0, primitive:Primitive; primitive = this._primitives[i]; i++){\r\n            const attribute:Accessor = primitive.attributes[key];\r\n            if(attribute !== null && attribute !== undefined) {\r\n                const view:BufferView = this._bufferViews[attribute.bufferView];\r\n                const buffer:GLBuffer = view.buffer;\r\n                const offset = view.bufferOffset + attribute.byteOffset;\r\n                primitive.vertexArrayObject.addAttribute(buffer, glAttribute, attribute.componentTypeCount, attribute.componentType, attribute.normalized, attribute.stride, offset);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * check if any primitive in this mesh has the attribute\r\n     * @param key - key of the attribute e.g. TANGENT,NORMAL, etc.\r\n     */\r\n    hasAttribute(key:GL_PRIMITIVES|string):boolean {\r\n        for(let i=0, primitive:Primitive; primitive = this._primitives[i]; i++){\r\n           if(primitive.hasAttribute(key)){\r\n               return true;\r\n           }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * check if any material used by a primitve has the map with the specified key\r\n     * @param cache - cache to get the material from\r\n     * @param key - key of the map e.g ALBEDO, METALIC_ROUGHNESS etc.\r\n     */\r\n    hasMap(cache:Cache,key:MATERIAL_MAPS): boolean {\r\n        for(let i=0, primitive:Primitive; primitive = this._primitives[i]; i++) {\r\n            const material = cache.get<Material>(CACHE_TYPE.MATERIAL, primitive.material);\r\n            if(material) {\r\n                return material.hasMap(key);\r\n            }\r\n        }\r\n    }\r\n\r\n    public unload():void{\r\n        //TODO: destroy data and each mesh vao\r\n    }\r\n\r\n    public addPrimitive(mesh:Primitive):Primitive{\r\n        this._primitives.push(mesh);\r\n        return mesh;\r\n    }\r\n\r\n    public get primitives():Array<Primitive> {\r\n        return this._primitives;\r\n    }\r\n\r\n    public set primitives(value:Array<Primitive>) {\r\n        this._primitives = value;\r\n    }\r\n\r\n    get name(): string {\r\n        return this._name;\r\n    }\r\n\r\n    set name(value: string) {\r\n        this._name = value;\r\n    }\r\n\r\n    addBufferView(idx:number,bufferView:BufferView) {\r\n        this._bufferViews[idx] = bufferView;\r\n    }\r\n}","/**\n * @file Automatically generated by barrelsby.\n */\n\nexport * from \"./primitive\";\n","import {GL_PRIMITIVES, GL_TYPES, GLBuffer, GLVertexArrayObject} from \"curbl-gl-util\";\r\nimport {Accessor, ACCESSOR_TYPE} from \"../data/accessor\";\r\n\r\n/**\r\n * GLTF Primitive wrapper\r\n * Primitive is a Geometric piece of the Mesh that uses a specific material\r\n * or. a stream of vertices that can be rendered together\r\n */\r\nexport class Primitive {\r\n    private _name:string;\r\n    private _draw_mode:number;\r\n    private _attributes:{[id:string]:Accessor};\r\n    private _indices:Accessor;\r\n    private _material:string;\r\n    private _vertexArrayObject:GLVertexArrayObject;\r\n\r\n    constructor(){\r\n        this._attributes = Object.create(null);\r\n        this._draw_mode = 4; //GL_TRIANGLE\r\n        this._material = \"__default__\";\r\n    }\r\n\r\n    /**\r\n     * Check if this mesh has the attribute\r\n     * @param key - name/key of the attribute e.g. TANGENT,NORMAL,POSITION etc.\r\n     */\r\n    hasAttribute(key:GL_PRIMITIVES|string):boolean {\r\n        return !!this._attributes[key];\r\n    }\r\n\r\n    /**\r\n     * adds an attribute to the MeshPrimitive, that is later send to the GPU via an VAO\r\n     * @param {GL_PRIMITIVES | string} key\r\n     * @param {number} accessorType\r\n     * @param {GL_TYPES} glType\r\n     * @param {boolean} normalized\r\n     * @param {number} stride\r\n     * @param {number} byteOffset\r\n     * @param {number} bufferView\r\n     * @param {ACCESSOR_TYPE} componentType\r\n     * @param count\r\n     * @param min\r\n     * @param max\r\n     * @returns {Accessor}\r\n     */\r\n    public addAttribute(\r\n        key:GL_PRIMITIVES|string,\r\n        accessorType:ACCESSOR_TYPE,\r\n        glType:GL_TYPES,\r\n        normalized:boolean=false,\r\n        stride:number=0,\r\n        byteOffset:number=0,\r\n        bufferView:number,\r\n        min:Array<number>=[],\r\n        max:Array<number>=[]\r\n    ):Accessor{\r\n        const accessor = new Accessor();\r\n        accessor.bufferView = bufferView;\r\n        accessor.type = accessorType;\r\n        accessor.componentType = glType;\r\n        accessor.normalized = normalized;\r\n        accessor.stride = stride;\r\n        accessor.byteOffset = byteOffset;\r\n        accessor.min = min;\r\n        accessor.max = max;\r\n        this._attributes[key] = accessor;\r\n        return this._attributes[key];\r\n    }\r\n\r\n    /**\r\n     * Sets the index accessor that is later used for the IndexBuffer as an attribute and send to the GPU\r\n     * @param {number} count\r\n     * @param {GL_TYPES} type\r\n     * @param {number} byteOffset\r\n     * @param {number} bufferView\r\n     * @returns {IndexAccessor}\r\n     */\r\n    public setIndices(count:number, type:GL_TYPES, byteOffset:number=0, bufferView:number):Accessor{\r\n        this._indices = new Accessor();\r\n        this._indices.bufferView = bufferView;\r\n        this._indices.count = count;\r\n        this._indices.componentType = type;\r\n        this._indices.byteOffset = byteOffset;\r\n        return this._indices;\r\n    }\r\n\r\n    initVertexArrayObject(gl:WebGL2RenderingContext,indexBuffer:GLBuffer,vao?:GLVertexArrayObject):void{\r\n        this._vertexArrayObject = vao||new GLVertexArrayObject(gl);\r\n        this._vertexArrayObject.setIndexBuffer(indexBuffer);\r\n    }\r\n\r\n    /**\r\n     * Should only be called by the Models draw method, to calculate the actual offset\r\n     * which is the bufferOffset + bufferDataOffset + indexAccessorOffset\r\n     * @param {number} mode\r\n     * @param {number} size\r\n     * @param {number} type\r\n     * @param {number} offset\r\n     */\r\n    draw(mode:number=this._draw_mode, size:number=this._indices.count, type:number=this._indices.componentType, offset:number=this._indices.byteOffset):void{\r\n        if(this._vertexArrayObject) {\r\n            this._vertexArrayObject.bind();\r\n            this._vertexArrayObject.draw(mode, size, type, offset);\r\n            this._vertexArrayObject.unbind();\r\n        }\r\n    }\r\n\r\n    public get name():string {\r\n        return this._name;\r\n    }\r\n\r\n    public set name(value:string) {\r\n        this._name = value;\r\n    }\r\n\r\n    public get draw_mode():number {\r\n        return this._draw_mode;\r\n    }\r\n\r\n    public set draw_mode(value:number) {\r\n        this._draw_mode = value;\r\n    }\r\n\r\n    public get attributes():{ [p:string]:Accessor } {\r\n        return this._attributes;\r\n    }\r\n\r\n    public set attributes(value:{ [p:string]:Accessor }) {\r\n        this._attributes = value;\r\n    }\r\n\r\n    public get indices():Accessor {\r\n        return this._indices;\r\n    }\r\n\r\n    public set indices(value:Accessor) {\r\n        this._indices = value;\r\n    }\r\n\r\n    public get material():string {\r\n        return this._material;\r\n    }\r\n\r\n    public set material(value:string) {\r\n        this._material = value;\r\n    }\r\n\r\n    public get vertexArrayObject():GLVertexArrayObject {\r\n        return this._vertexArrayObject;\r\n    }\r\n\r\n    public set vertexArrayObject(value:GLVertexArrayObject) {\r\n        this._vertexArrayObject = value;\r\n    }\r\n}","import {SceneNode} from \"./sceneNode\";\r\nimport {GLAttribute, GL_PRIMITIVES, GLBuffer} from \"curbl-gl-util\";\r\nimport {Shader} from \"./shader\";\r\nimport {Cache} from \"../cache\";\r\nimport {Mesh} from \"./mesh\";\r\nimport {Animation} from \"./animation\";\r\n\r\nexport class Scene {\r\n    private _name:string;\r\n    private _meshes:Array<Mesh>;\r\n    private _animations:Array<Animation>;\r\n    private _nodes:Array<SceneNode>;\r\n\r\n    constructor() {\r\n        this._nodes = [];\r\n        this._meshes = [];\r\n        this._animations = [];\r\n    }\r\n\r\n    /**\r\n     * init the scene creating the GPUBuffers(Vertex- and Indexbuffer) or using an existing MeshBuffermap\r\n     * or upload the data to an existing buffer\r\n     * @param {WebGL2RenderingContext} gl\r\n     * @param {GLBuffer} vertexBuffer - use existing VertexBuffer and add the gltf data into it\r\n     * @param {GLBuffer} indexBuffer - use existing IndexBuffer and add the gltf indices into it\r\n     * @returns {Mesh}\r\n     */\r\n    init(gl:WebGL2RenderingContext,vertexBuffer?:GLBuffer,indexBuffer?:GLBuffer):Scene {\r\n        for(let i=0, node: SceneNode; node = this._nodes[i]; i++) {\r\n                node.init(gl, vertexBuffer, indexBuffer);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Make sure to initialize(init) the Mesh before uploading the data\r\n     * Create the GPU_Buffers and upload this Mesh to the GPU\r\n     * @returns {Mesh}\r\n     */\r\n    upload():Scene {\r\n        for(let i=0, node: SceneNode; node = this._nodes[i]; i++) {\r\n            node.upload();\r\n        }\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Draws all Meshes in the scene\r\n     * @param {Shader} shader - Shader that should be used for all primitives/Materials\r\n     * @param {Cache} cache - cache to get the materials\r\n     */\r\n    draw(shader: Shader, cache: Cache):void {\r\n        for(let i=0, node: SceneNode; node = this._nodes[i]; i++) {\r\n            shader.applyScene(this);\r\n            node.draw(shader, cache);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Add an attribute to the VAO\r\n     * @param {GL_PRIMITIVES} key\r\n     * @param {Shader} shader\r\n     * @param {Attributes.GLAttribute} glAttribute\r\n     */\r\n    addAttribute(key:GL_PRIMITIVES,glAttribute:GLAttribute):void{\r\n        for(let i=0, node: SceneNode; node = this._nodes[i]; i++) {\r\n            node.addAttribute(key, glAttribute);\r\n        }\r\n    }\r\n\r\n    addNode(...nodes:SceneNode[]) {\r\n        for(let i=0, node:SceneNode; node = nodes[i]; i++) {\r\n            this._nodes.push(node);\r\n        }\r\n    }\r\n\r\n    get name(): string {\r\n        return this._name;\r\n    }\r\n\r\n    set name(value: string) {\r\n        this._name = value;\r\n    }\r\n\r\n\r\n    get meshes(): Array<Mesh> {\r\n        return this._meshes;\r\n    }\r\n\r\n    set meshes(value: Array<Mesh>) {\r\n        this._meshes = value;\r\n    }\r\n\r\n    get animations(): Array<Animation> {\r\n        return this._animations;\r\n    }\r\n\r\n    set animations(value: Array<Animation>) {\r\n        this._animations = value;\r\n    }\r\n\r\n    get root():SceneNode {\r\n        return this._nodes[0];\r\n    }\r\n}","import {Transform} from \"./transform\";\r\nimport {Mesh} from \"./mesh\";\r\nimport {GLAttribute, GL_PRIMITIVES, GLBuffer} from \"curbl-gl-util\";\r\nimport {Shader} from \"./shader\";\r\nimport {Cache} from \"../cache\";\r\nimport {Skin} from \"./skin/skin\";\r\n\r\nexport class SceneNode {\r\n    children?: Array<SceneNode>;\r\n    transform?: Transform;\r\n    mesh?:Mesh;\r\n    skin?:Skin;\r\n    name:string;\r\n\r\n    constructor() {\r\n        this.children = [];\r\n    }\r\n\r\n    init(gl: WebGL2RenderingContext, vertexBuffer?: GLBuffer, indexBuffer?:GLBuffer):SceneNode {\r\n        if(this.mesh) {\r\n            this.mesh.init(gl, vertexBuffer, indexBuffer);\r\n        }\r\n        if(this.skin) {\r\n            this.skin.init(gl);\r\n        }\r\n        for(let i=0, child:SceneNode; child = this.children[i]; i++) {\r\n            child.init(gl, vertexBuffer, indexBuffer);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    upload(): SceneNode {\r\n        if(this.mesh) {\r\n            this.mesh.upload();\r\n        }\r\n        for(let i=0, child:SceneNode; child = this.children[i]; i++) {\r\n            child.upload();\r\n        }\r\n        return this;\r\n    }\r\n\r\n    draw(shader: Shader, cache:Cache):void {\r\n        if(this.mesh) {\r\n            shader.applyNode(this);\r\n            this.mesh.draw(shader, cache);\r\n        }\r\n        for(let i=0, child:SceneNode; child = this.children[i]; i++) {\r\n            child.draw(shader, cache);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Add an attribute to the VAO\r\n     * @param {GL_PRIMITIVES} key\r\n     * @param {Shader} shader\r\n     * @param {Attributes.GLAttribute} glAttribute\r\n     */\r\n    addAttribute(key:GL_PRIMITIVES,glAttribute:GLAttribute):void{\r\n        if(this.mesh) {\r\n            this.mesh.addAttribute(key, glAttribute);\r\n        }\r\n        for(let i=0, child:SceneNode; child = this.children[i]; i++) {\r\n            child.addAttribute(key, glAttribute);\r\n        }\r\n    }\r\n\r\n    addChild(child:SceneNode) {\r\n        this.children.push(child);\r\n    }\r\n}","import {GLShader} from \"curbl-gl-util\";\r\nimport {Material} from \"../material\";\r\nimport {Mesh} from \"./mesh\";\r\nimport {SceneNode} from \"./sceneNode\";\r\nimport {Scene} from \"./scene\";\r\n\r\nexport interface IShader extends Shader {\r\n    applyMaterial(...args):void;\r\n}\r\n\r\nexport class Shader extends GLShader implements IShader {\r\n\r\n    constructor(gl: WebGL2RenderingContext, vertexSrc?:string, fragmentSrc?:string){\r\n        super(gl, vertexSrc, fragmentSrc);\r\n    }\r\n\r\n    apply():void {}\r\n    applyMaterial(material: Material):void {}\r\n    applyMesh(mesh: Mesh):void {}\r\n    applyNode(node: SceneNode): void {}\r\n    applyScene(scene: Scene): void {}\r\n}","/**\n * @file Automatically generated by barrelsby.\n */\n\nexport * from \"./skin\";\n","import {SceneNode} from \"../sceneNode\";\r\nimport {mat4} from \"gl-matrix\";\r\nimport {GLUniformBufferObject} from \"curbl-gl-util\";\r\nimport {UBO_BINDINGS} from \"../../viewer/constants\";\r\n\r\nconst NUM_MAX_JOINTS = 65;\r\n\r\nexport class Skin {\r\n    private _data:Float32Array;\r\n    private _joints:Array<SceneNode>;\r\n    private _skeleton:SceneNode;\r\n    private _inverseBindMatrices:Array<mat4>;\r\n    private _jointMatrices:Array<mat4>;\r\n    private _ubo:GLUniformBufferObject;\r\n    private _dirty:boolean;\r\n\r\n    constructor() {\r\n        this._joints = [];\r\n        this._inverseBindMatrices = [];\r\n        this._jointMatrices = [];\r\n        this._data = new Float32Array(NUM_MAX_JOINTS * 16);\r\n        this._dirty = true;\r\n    }\r\n\r\n    init(gl: WebGL2RenderingContext) {\r\n        for(let i=0; i < this._joints.length; i++) {\r\n            this._jointMatrices.push(mat4.create());\r\n        }\r\n        this._ubo = new GLUniformBufferObject(gl, UBO_BINDINGS.SKIN);\r\n        this._ubo.addItem('matrix', 'mat4', this._data);\r\n        this._ubo.upload();\r\n        this._ubo.bindUBO();\r\n\r\n        //this.update();\r\n    }\r\n\r\n    update():void {\r\n        if(!this._dirty) {\r\n            return;\r\n        }\r\n\r\n        for(let i=0, jointMatrix:mat4; jointMatrix = this._jointMatrices[i]; i++) {\r\n            this._data.set(jointMatrix, i*16);\r\n        }\r\n\r\n        this._ubo.updateItem(\"matrix\", this._data, true);\r\n        this._dirty = false;\r\n    }\r\n\r\n    get joints(): Array<SceneNode> {\r\n        return this._joints;\r\n    }\r\n\r\n    set joints(value: Array<SceneNode>) {\r\n        this._joints = value;\r\n    }\r\n\r\n    get skeleton(): SceneNode {\r\n        return this._skeleton;\r\n    }\r\n\r\n    set skeleton(value: SceneNode) {\r\n        this._skeleton = value;\r\n    }\r\n\r\n    get inverseBindMatrices() {\r\n        return this._inverseBindMatrices;\r\n    }\r\n\r\n    set inverseBindMatrices(value) {\r\n        this._inverseBindMatrices = value;\r\n    }\r\n\r\n    get jointMatrices(): Array<mat4> {\r\n        this._dirty = true;\r\n        return this._jointMatrices;\r\n    }\r\n\r\n    set jointMatrices(value: Array<mat4>) {\r\n        this._dirty = true;\r\n        this._jointMatrices = value;\r\n    }\r\n\r\n    get ubo(): GLUniformBufferObject {\r\n        return this._ubo;\r\n    }\r\n\r\n    set ubo(value: GLUniformBufferObject) {\r\n        this._ubo = value;\r\n    }\r\n}","import {mat4, quat, vec3} from \"gl-matrix\";\r\n\r\nexport type TransformConfig = {\r\n    position:{x:number,y:number,z:number},\r\n    rotation:{x:number,y:number,z:number,w:number},\r\n    scale:{x:number,y:number,z:number}\r\n};\r\n\r\nexport class Transform {\r\n    private _level:number;\r\n    private _parent:Transform;\r\n    private _children:Transform[];\r\n    private _localMatrix:mat4;\r\n    private _worldMatrix:mat4;\r\n    private _rotation:quat;\r\n    private _translation:vec3;\r\n    private _scale:vec3;\r\n    private _dirty:boolean;\r\n\r\n    constructor(config:TransformConfig={\r\n        position: {x:0,y:0,z:0},\r\n        rotation: {x:0,y:0,z:0,w:1},\r\n        scale: {x:1,y:1,z:1}\r\n    }){\r\n        this.init(config);\r\n    }\r\n\r\n    init(config:TransformConfig={\r\n        position: {x:0,y:0,z:0},\r\n        rotation: {x:0,y:0,z:0,w:1},\r\n        scale: {x:1,y:1,z:1}\r\n    }):void{\r\n        //M=T*R*S\r\n        this._localMatrix = mat4.create();\r\n        if(!config){\r\n            config = Object.create(null);\r\n        }\r\n        if(!config.position){\r\n            config.position = {x:0,y:0,z:0}\r\n        }\r\n        if(!config.rotation){\r\n            config.rotation = {x:0,y:0,z:0,w:1};\r\n        }\r\n        if(!config.scale){\r\n            config.scale = {x:1,y:1,z:1};\r\n        }\r\n\r\n        this._rotation = quat.fromValues(config.rotation.x,config.rotation.y,config.rotation.z,config.rotation.w);\r\n        this._translation = vec3.fromValues(config.position.x,config.position.y,config.position.z);\r\n        this._scale = vec3.fromValues(config.scale.x,config.scale.y,config.scale.z);\r\n        this._children = [];\r\n        this._level = 0;\r\n        this._dirty = true;\r\n        this._worldMatrix = mat4.create();\r\n        this.apply();\r\n    }\r\n\r\n    public addChild(child:Transform):void {\r\n        if(child._parent) {\r\n            child._parent.removeChild(child);\r\n        }\r\n        child._parent = this;\r\n        child._level = this._level+1;\r\n        this._children.push(child);\r\n    }\r\n\r\n    public removeChild(child:Transform):void {\r\n        const index = this._children.indexOf(child);\r\n        if (index > -1) {\r\n            child._level = 0;\r\n            child._parent = undefined;\r\n            this._children.splice(index, 1);\r\n        }\r\n    }\r\n\r\n    private apply():mat4{\r\n        if(this._dirty) {\r\n            mat4.fromRotationTranslationScale(\r\n                this._localMatrix,\r\n                this._rotation,\r\n                this._translation,\r\n                this._scale\r\n            );\r\n            this._dirty = false;\r\n        }\r\n        return this._localMatrix;\r\n    }\r\n\r\n    //TODO: check if we need to recalculate worldMatrix\r\n    get worldMatrix(): mat4 {\r\n        if(!this._parent){\r\n            return this.apply();\r\n        }else{\r\n            return mat4.multiply(\r\n                this._worldMatrix,\r\n                this._parent.worldMatrix,\r\n                this.localMatrix\r\n            );\r\n        }\r\n    }\r\n\r\n    get modelMatrix(): mat4 {\r\n        return this.worldMatrix;\r\n    }\r\n\r\n    /**\r\n     * Returns the LocalTransformation Matrix\r\n     * @returns {Matrix}\r\n     */\r\n    public get localMatrix():mat4 {\r\n        return this.apply();\r\n    }\r\n\r\n    public set localMatrix(value:mat4) {\r\n        mat4.getRotation(this._rotation, value);\r\n        mat4.getTranslation(this._translation, value);\r\n        mat4.getScaling(this._scale, value);\r\n        this._dirty = true;\r\n    }\r\n\r\n    public get translation():vec3 {\r\n        this._dirty = true;\r\n        return this._translation;\r\n    }\r\n\r\n    public set translation(value:vec3) {\r\n        this._dirty = true;\r\n        this._translation = value;\r\n    }\r\n\r\n    public get rotation():quat {\r\n        this._dirty = true;\r\n        return this._rotation;\r\n    }\r\n\r\n    public set rotation(value:quat) {\r\n        this._dirty = true;\r\n        this._rotation = value;\r\n    }\r\n\r\n    public get scale():vec3 {\r\n        this._dirty = true;\r\n        return this._scale;\r\n    }\r\n\r\n    public set scale(value:vec3) {\r\n        this._dirty = true;\r\n        this._scale = value;\r\n    }\r\n\r\n    get level(): number {\r\n        return this._level;\r\n    }\r\n\r\n    get parent(): Transform {\r\n        return this._parent;\r\n    }\r\n\r\n    set parent(value: Transform) {\r\n        this._parent = value;\r\n    }\r\n\r\n    get children(): Transform[] {\r\n        return this._children;\r\n    }\r\n\r\n    set children(value: Transform[]) {\r\n        this._children = value;\r\n    }\r\n\r\n    get dirty(): boolean {\r\n        return this._dirty;\r\n    }\r\n}","import {Shader} from \"../scene/shader\";\r\nimport {GLTexture} from \"curbl-gl-util\";\r\nimport {Cache, CACHE_TYPE} from \"../cache\";\r\nimport {GLOBAL_TEXTURES, UBO_BINDINGS} from \"../viewer/constants\";\r\n\r\nexport class SkyboxShader extends Shader {\r\n\r\n    private cache: Cache;\r\n\r\n    constructor(gl:WebGL2RenderingContext, cache: Cache){\r\n        super(gl);\r\n        this.cache = cache;\r\n    }\r\n\r\n    apply():void {\r\n        this.applyCamera();\r\n        const texture = this.cache.get<GLTexture>(CACHE_TYPE.TEXTURE, GLOBAL_TEXTURES.SKYBOX);\r\n        texture.bind(0);\r\n        this.uniforms.u_Skybox = 0;\r\n    }\r\n\r\n    applyCamera():void{\r\n        this.uniforms.Matrices = UBO_BINDINGS.CAMERA;\r\n    }\r\n}","/**\n * @file Automatically generated by barrelsby.\n */\n\nexport * from \"./khronosPbrShader\";\nexport * from \"./SkyboxShader\";\n","import {Shader} from \"../scene/shader\";\r\nimport {Mesh} from \"../scene\";\r\nimport {ALPHA_MODE, Material, MATERIAL_MAPS} from \"../material\";\r\nimport {MetallicRoughness} from \"../material/metallicRoughness\";\r\nimport {GL_PRIMITIVES, GLTexture, GLCubemap} from \"curbl-gl-util\";\r\nimport {Cache, CACHE_TYPE} from \"../cache\";\r\nimport {GLOBAL_TEXTURES, UBO_BINDINGS} from \"../viewer/constants\";\r\nimport {SceneNode} from \"../scene/sceneNode\";\r\nimport {Scene} from \"../scene/scene\";\r\nimport {mat4} from \"gl-matrix\";\r\n\r\nconst TEXTURES = {\r\n    DIFFUSE_ENVIRONMENT: 0,\r\n    SPECULAR_ENVIRONMENT: 1,\r\n    BRDF_LUT: 2,\r\n    DIFFUSE: 3,\r\n    METALLIC_ROUGHNESS: 4,\r\n    NORMAL: 5,\r\n    EMISSIVE: 6,\r\n    OCCLUSION: 7\r\n};\r\n\r\nexport class KhronosPbrShader extends Shader {\r\n\r\n    private cache: Cache;\r\n\r\n    constructor(gl:WebGL2RenderingContext, cache :Cache){\r\n        super(gl);\r\n        this.cache = cache;\r\n    }\r\n\r\n    public initializeDefines(model:Mesh) {\r\n        if (model.hasAttribute(GL_PRIMITIVES.NORMAL)) {\r\n            this.addDefine(\"HAS_NORMALS\", 1);\r\n        }\r\n        if (model.hasAttribute(GL_PRIMITIVES.TANGENT)) {\r\n            this.addDefine(\"HAS_TANGENTS\", 1);\r\n        }\r\n        if (model.hasAttribute(GL_PRIMITIVES.TEXCOORD_0)) {\r\n            this.addDefine(\"HAS_UV\", 1);\r\n        }\r\n        if(model.hasAttribute(GL_PRIMITIVES.JOINTS_0) && model.hasAttribute(GL_PRIMITIVES.WEIGHTS_0)) {\r\n            this.addDefine(\"HAS_SKIN\", 1);\r\n        }\r\n        if(model.hasAttribute(GL_PRIMITIVES.JOINTS_1) && model.hasAttribute(GL_PRIMITIVES.WEIGHTS_1)) {\r\n            this.addDefine(\"SKIN_VEC8\", 1);\r\n        }\r\n        if(model.hasMap(this.cache, MATERIAL_MAPS.ALBEDO)) {\r\n            this.addDefine(\"HAS_BASECOLORMAP\", 1);\r\n        }\r\n        if(model.hasMap(this.cache, MATERIAL_MAPS.METAL_ROUGHNESS)) {\r\n            this.addDefine(\"HAS_METALROUGHNESSMAP\", 1);\r\n        }\r\n        if(model.hasMap(this.cache, MATERIAL_MAPS.NORMAL)) {\r\n            this.addDefine(\"HAS_NORMALMAP\", 1);\r\n        }\r\n        if(model.hasMap(this.cache, MATERIAL_MAPS.EMISSIVE)) {\r\n            this.addDefine(\"HAS_EMISSIVEMAP\", 1);\r\n        }\r\n        if(model.hasMap(this.cache, MATERIAL_MAPS.OCCLUSION)) {\r\n            this.addDefine(\"HAS_OCCLUSIONMAP\", 1);\r\n        }\r\n\r\n        const brdfLUT = this.cache.get<GLCubemap>(CACHE_TYPE.TEXTURE, GLOBAL_TEXTURES.BRDF_LUT);\r\n        const diffuseEnv = this.cache.get<GLCubemap>(CACHE_TYPE.TEXTURE, GLOBAL_TEXTURES.DIFFUSE_ENVIRONMENT);\r\n        const specularEnv = this.cache.get<GLCubemap>(CACHE_TYPE.TEXTURE, GLOBAL_TEXTURES.SPECULAR_ENVIRONMENT);\r\n\r\n        if(brdfLUT && diffuseEnv && specularEnv) {\r\n            this.addDefine(\"USE_IBL\", 1);\r\n        }\r\n    }\r\n\r\n    applyMesh(model:Mesh):void {}\r\n\r\n    applyNode(node: SceneNode): void {\r\n        this.uniforms.u_ModelMatrix = node.transform.modelMatrix;\r\n\r\n        if(node.skin) {\r\n            const inverseTransformMatrix = mat4.create();\r\n            //TODO: skin.skeleton.transform.modelMatrix if skeleton provided\r\n            mat4.invert(inverseTransformMatrix, node.transform.modelMatrix);\r\n\r\n            for(let i=0, join:SceneNode; join = node.skin.joints[i]; i++) {\r\n                const joinMatrix = node.skin.jointMatrices[i];\r\n                mat4.mul(joinMatrix, join.transform.modelMatrix, node.skin.inverseBindMatrices[i]);\r\n                mat4.mul(joinMatrix, inverseTransformMatrix, joinMatrix);\r\n            }\r\n\r\n            node.skin.update();\r\n        }\r\n    }\r\n\r\n    applyScene(scene: Scene): void {\r\n\r\n    }\r\n\r\n    applyMaterial(material?:Material<MetallicRoughness>) {\r\n        this.applyCamera();\r\n        this.applyTextures(material);\r\n        this.applyIBL();\r\n\r\n        this.uniforms.u_BaseColorFactor = material.model.baseColorFactor;\r\n        this.uniforms.u_RoughnessFactor = material.model.roughnessFactor;\r\n        this.uniforms.u_MetallicFactor = material.model.metallicFactor;\r\n\r\n        //TODO: sort after materials\r\n        if(!material.doubleSided) {\r\n            this.gl.enable(this.gl.CULL_FACE);\r\n        } else {\r\n            this.gl.disable(this.gl.CULL_FACE);\r\n        }\r\n\r\n        //TODO: BLEND Mode\r\n        this.uniforms.u_AlphaCutoff = material.alphaCutoff;\r\n        this.uniforms.u_IgnoreAlpha = material.alphaMode === ALPHA_MODE.OPAQUE ? 1 : 0;\r\n    }\r\n\r\n    private applyIBL() {\r\n        /*******************************IBL*************************************/\r\n\r\n        const brdfLUT = this.cache.get<GLCubemap>(CACHE_TYPE.TEXTURE, GLOBAL_TEXTURES.BRDF_LUT);\r\n        if (brdfLUT) {\r\n            brdfLUT.bind(TEXTURES.BRDF_LUT);\r\n            this.uniforms.u_brdfLUT = TEXTURES.BRDF_LUT;\r\n        }\r\n\r\n        const diffuseEnv = this.cache.get<GLCubemap>(CACHE_TYPE.TEXTURE, GLOBAL_TEXTURES.DIFFUSE_ENVIRONMENT);\r\n        if(diffuseEnv){\r\n            diffuseEnv.bind(TEXTURES.DIFFUSE_ENVIRONMENT);\r\n            this.uniforms.u_DiffuseEnvSampler = TEXTURES.DIFFUSE_ENVIRONMENT;\r\n        }\r\n\r\n        const specularEnv = this.cache.get<GLCubemap>(CACHE_TYPE.TEXTURE, GLOBAL_TEXTURES.SPECULAR_ENVIRONMENT);\r\n        if(specularEnv){\r\n            specularEnv.bind(TEXTURES.SPECULAR_ENVIRONMENT);\r\n            this.uniforms.u_SpecularEnvSampler = TEXTURES.SPECULAR_ENVIRONMENT;\r\n        }\r\n    }\r\n\r\n    private applyTextures(material?:Material<MetallicRoughness>):void {\r\n        //applyMaterial BaseColor Texture\r\n        if (material.maps[MATERIAL_MAPS.ALBEDO] && this.cache.get(CACHE_TYPE.TEXTURE, material.maps[MATERIAL_MAPS.ALBEDO].texture)) {\r\n            const texture = this.cache.get<GLTexture>(CACHE_TYPE.TEXTURE, material.maps[MATERIAL_MAPS.ALBEDO].texture);\r\n            texture.bind(TEXTURES.DIFFUSE);\r\n            this.uniforms.u_BaseColorSampler = TEXTURES.DIFFUSE;\r\n        }\r\n        //applyMaterial MetallicRoughnessSampler\r\n        if(material.maps[MATERIAL_MAPS.METAL_ROUGHNESS] && this.cache.get(CACHE_TYPE.TEXTURE, material.maps[MATERIAL_MAPS.METAL_ROUGHNESS].texture)){\r\n            let texture = this.cache.get<GLTexture>(CACHE_TYPE.TEXTURE, material.maps[MATERIAL_MAPS.METAL_ROUGHNESS].texture);\r\n            texture.bind(TEXTURES.METALLIC_ROUGHNESS);\r\n            this.uniforms.u_MetallicRoughnessSampler = TEXTURES.METALLIC_ROUGHNESS;\r\n        }\r\n        //applyMaterial NormalMaps\r\n        if (material.maps[MATERIAL_MAPS.NORMAL] && this.cache.get(CACHE_TYPE.TEXTURE, material.maps[MATERIAL_MAPS.NORMAL].texture)) {\r\n            let texture = this.cache.get<GLTexture>(CACHE_TYPE.TEXTURE, material.maps[MATERIAL_MAPS.NORMAL].texture);\r\n            texture.bind(TEXTURES.NORMAL);\r\n            this.uniforms.u_NormalSampler = TEXTURES.NORMAL;\r\n            this.uniforms.u_NormalScale = material.model.normalScale;\r\n        }\r\n        //applyMaterial emissive map\r\n        if(material.maps[MATERIAL_MAPS.EMISSIVE] && this.cache.get(CACHE_TYPE.TEXTURE, material.maps[MATERIAL_MAPS.EMISSIVE].texture)){\r\n            let texture = this.cache.get<GLTexture>(CACHE_TYPE.TEXTURE, material.maps[MATERIAL_MAPS.EMISSIVE].texture);\r\n            texture.bind(TEXTURES.EMISSIVE);\r\n            this.uniforms.u_EmissiveSampler = TEXTURES.EMISSIVE;\r\n            this.uniforms.u_EmissiveFactor = material.model.emissiveFactor;\r\n        }\r\n        //applyMesh Occlusion map\r\n        if(material.maps[MATERIAL_MAPS.OCCLUSION] && this.cache.get(CACHE_TYPE.TEXTURE, material.maps[MATERIAL_MAPS.OCCLUSION].texture)) {\r\n            let texture = this.cache.get<GLTexture>(CACHE_TYPE.TEXTURE, material.maps[MATERIAL_MAPS.OCCLUSION].texture);\r\n            texture.bind(TEXTURES.OCCLUSION);\r\n            this.uniforms.u_OcclusionSampler = TEXTURES.OCCLUSION;\r\n            this.uniforms.u_OcclusionStrength = material.model.occlusionStrength;\r\n        }\r\n    }\r\n\r\n    private applyCamera():void{\r\n        this.uniforms.Matrices = UBO_BINDINGS.CAMERA;\r\n        this.uniforms.JointMatrix = UBO_BINDINGS.SKIN;\r\n    }\r\n}","import {ECS, IEntity, System} from \"curbl-ecs\";\r\nimport {AnimationComponent} from \"../../components/scene/animationComponent\";\r\nimport {Animation} from \"../../scene/animation\";\r\nimport {Cache,CACHE_TYPE} from \"../../cache\";\r\n\r\n\r\n@ECS.System(AnimationComponent)\r\nexport class AnimationSystem extends System {\r\n\r\n    private cache:Cache;\r\n\r\n    constructor(cache: Cache) {\r\n        super();\r\n        this.cache = cache;\r\n    }\r\n\r\n    setUp(): void {\r\n    }\r\n\r\n    tearDown(): void {\r\n    }\r\n\r\n    update(t:number) {\r\n        for(let i=0, entity:IEntity; entity = this.entities[i]; i++) {\r\n            const animationComponent = entity.get(AnimationComponent);\r\n\r\n            if(animationComponent.autoStart && animationComponent.loop && !animationComponent.running) {\r\n                animationComponent.start();\r\n            }\r\n\r\n            const animation = this.cache.get<Animation>(CACHE_TYPE.ANIMATION, animationComponent.key);\r\n\r\n            const pauseDuration = (animationComponent.pauseEnd - animationComponent.pauseStart);\r\n            const time = t - animationComponent.startTime - pauseDuration;\r\n\r\n            if(!animationComponent.paused && animationComponent.running) {\r\n                animation.animate(time);\r\n            }\r\n\r\n            if(time >= animation.durationMS) {\r\n                animationComponent.stop();\r\n            }\r\n        }\r\n    }\r\n}","/**\n * @file Automatically generated by barrelsby.\n */\n\nexport * from \"./AnimationSystem\";\n","import {ECS, IEntity, System} from \"curbl-ecs\";\r\nimport {CameraComponent, TransformComponent} from \"../../components\";\r\nimport {GLUniformBufferObject} from \"curbl-gl-util\";\r\nimport {UBO_BINDINGS} from \"../../viewer/constants\";\r\nimport {SYSTEM_EVENTS} from \"curbl-ecs/lib/Events\";\r\nimport {mat4, vec3} from \"gl-matrix\";\r\n\r\n/**\r\n * Handle Camera component\r\n */\r\n@ECS.System(TransformComponent,CameraComponent)\r\nexport class CameraSystem extends System {\r\n\r\n    /**\r\n     * Active Camera Entity\r\n     */\r\n    private _camera:IEntity;\r\n    private cameraUBO: GLUniformBufferObject;\r\n    private gl:WebGL2RenderingContext;\r\n\r\n    private translation:vec3;\r\n\r\n    constructor(config:{gl: WebGL2RenderingContext}){\r\n        super();\r\n        this.gl = config.gl;\r\n        this.translation = vec3.create();\r\n    }\r\n\r\n    setUp():void{\r\n        const initMatrix = mat4.create();\r\n        this.cameraUBO = new GLUniformBufferObject(this.gl,UBO_BINDINGS.CAMERA);\r\n        this.cameraUBO.addItem(\"projectionMatrix\",\"mat4\");\r\n        this.cameraUBO.addItem(\"viewMatrix\",\"mat4\");\r\n        this.cameraUBO.addItem(\"viewPos\",\"vec3\");\r\n        this.cameraUBO.updateItem(\"projectionMatrix\", initMatrix);\r\n        this.cameraUBO.updateItem(\"viewMatrix\", initMatrix);\r\n        this.cameraUBO.updateItem(\"viewPos\", this.translation);\r\n        this.cameraUBO.upload();\r\n        this.cameraUBO.bindUBO();\r\n        this.events.on(SYSTEM_EVENTS.ENTITY_ADDED,this.initEntity,this);\r\n        this.events.on(SYSTEM_EVENTS.ENTITY_REMOVED,this.removeEntity,this);\r\n    }\r\n\r\n    initEntity(entity:IEntity):void {\r\n        if(!this._camera){\r\n            this._camera = entity;\r\n            const camera = this._camera.get(CameraComponent);\r\n            const transform = this._camera.get(TransformComponent);\r\n            this.cameraUBO.updateItem(\"projectionMatrix\",camera.projMatrix);\r\n            this.cameraUBO.updateItem(\"viewMatrix\",camera.viewMatrix);\r\n            this.cameraUBO.updateItem(\"viewPos\",mat4.getTranslation(this.translation, transform.modelMatrix));\r\n            this.cameraUBO.upload();\r\n            this.cameraUBO.bindUBO();\r\n        }\r\n    }\r\n\r\n    removeEntity(entity:IEntity):void{\r\n        if(entity === this._camera){\r\n            this._camera = undefined;\r\n        }\r\n    }\r\n\r\n    render():void {\r\n        if(this._camera) {\r\n            const camera = this._camera.get(CameraComponent);\r\n            const transform = this._camera.get(TransformComponent);\r\n            this.cameraUBO.updateItem(\"projectionMatrix\",camera.projMatrix, true);\r\n            this.cameraUBO.updateItem(\"viewMatrix\",camera.viewMatrix, true);\r\n            this.cameraUBO.updateItem(\"viewPos\",mat4.getTranslation(this.translation, transform.modelMatrix), true);\r\n        }\r\n    }\r\n\r\n    public get camera():IEntity {\r\n        return this._camera;\r\n    }\r\n\r\n    public set camera(value:IEntity) {\r\n        this._camera = value;\r\n    }\r\n}","import {CameraComponent, LookAtCameraComponent, TransformComponent} from \"../../components\";\r\nimport {ECS, IEntity, ISystem, System} from \"curbl-ecs\";\r\nimport {Math3d} from \"../../math\";\r\nimport {DomEvents} from \"../../events/DomEvents\";\r\nimport {mat4, quat, vec3} from \"gl-matrix\";\r\nimport {Canvas} from \"../../canvas\";\r\n\r\n@ECS.System(TransformComponent,CameraComponent,LookAtCameraComponent)\r\nexport class LookAtCameraControlSystem extends System implements ISystem {\r\n    private lastMouseX:number;\r\n    private lastMouseY:number;\r\n    private drag:boolean;\r\n    private canvas:Canvas;\r\n\r\n    constructor(canvas:Canvas){\r\n        super();\r\n        this.canvas = canvas;\r\n        this.lastMouseX = -1;\r\n        this.lastMouseY = -1;\r\n        this.drag = false;\r\n    }\r\n\r\n    setUp():void{\r\n        this.canvas.element.addEventListener('mousedown', (ev)=>this.onMouseDown(ev));\r\n        this.canvas.element.addEventListener('mouseup', (ev)=>this.onMouseUp(ev));\r\n        this.canvas.element.addEventListener('mousemove', (ev)=>this.onMouseMove(ev));\r\n\r\n        DomEvents.onWheel.add(this.onMouseWheel,this);\r\n        DomEvents.onKeyDown.add(this.onKeyDown,this);\r\n    }\r\n\r\n    public onMouseDown(ev:MouseEvent){\r\n        this.drag = true;\r\n        if(this.lastMouseX===-1){\r\n            this.lastMouseX = ev.x;\r\n        }\r\n        if(this.lastMouseY===-1){\r\n            this.lastMouseY = ev.y;\r\n        }\r\n    }\r\n\r\n    private calcTranslation(panning:vec3, zooming:vec3, rotation:quat):vec3 {\r\n        const translation = vec3.create();\r\n        vec3.add(translation, translation, panning);\r\n        vec3.add(translation, translation, zooming);\r\n        const vec3Rotation = vec3.fromValues(\r\n            rotation[0]/rotation[3],\r\n            rotation[1]/rotation[3],\r\n            rotation[2]/rotation[3]\r\n        );\r\n        return vec3.add(translation, translation, vec3Rotation);\r\n    }\r\n\r\n    public onMouseUp(ev:MouseEvent){\r\n        for(let i=0,entity:IEntity; entity = this.entities[i]; i++){\r\n            let transform = entity.get(TransformComponent);\r\n            let perspective = entity.get(LookAtCameraComponent);\r\n\r\n            const translation = this.calcTranslation(\r\n                perspective.panning,\r\n                perspective.zooming,\r\n                transform.rotation\r\n            );\r\n            vec3.add(transform.translation, transform.translation, translation);\r\n\r\n            vec3.add(perspective.target, perspective.target, perspective.panning);\r\n            quat.set(transform.rotation, 0, 0, 0, transform.rotation[3]);\r\n            vec3.set(perspective.panning, 0, 0, 0);\r\n            vec3.set(perspective.zooming, 0, 0, 0);\r\n        }\r\n        this.drag = false;\r\n        this.lastMouseX = -1;\r\n        this.lastMouseY = -1;\r\n    }\r\n\r\n    public onMouseWheel(ev:WheelEvent){\r\n        for(let i=0,entity:IEntity; entity = this.entities[i]; i++) {\r\n            let transform = entity.get(TransformComponent);\r\n            let perspective = entity.get(LookAtCameraComponent);\r\n\r\n            this.zoom(entity, ev.deltaY, 0.001);\r\n            const translation = this.calcTranslation(\r\n                perspective.panning,\r\n                perspective.zooming,\r\n                transform.rotation\r\n            );\r\n            vec3.add(transform.translation, transform.translation, translation);\r\n            vec3.set(perspective.zooming, 0, 0, 0);\r\n        }\r\n    }\r\n\r\n    public onMouseMove(ev:MouseEvent){\r\n        if(this.drag){\r\n            for(let i=0,entity:IEntity; entity = this.entities[i]; i++) {\r\n                this.rotate(entity,ev.x, ev.y);\r\n                this.lastMouseX = ev.x;\r\n                this.lastMouseY = ev.y;\r\n            }\r\n        }\r\n    }\r\n\r\n    public onKeyDown(ev:KeyboardEvent):void{\r\n        let y = 0;\r\n        let x = 0;\r\n        //W\r\n        if(ev.key === \"w\") {\r\n            y += 0.1;\r\n        }\r\n        //S\r\n        if(ev.key === \"s\"){\r\n            y -= 0.1;\r\n        }\r\n        //A\r\n        if(ev.key === \"a\"){\r\n            x += 0.1;\r\n        }\r\n        //D\r\n        if(ev.key === \"d\"){\r\n            x -= 0.1;\r\n        }\r\n\r\n        for(let i=0,entity:IEntity; entity = this.entities[i]; i++) {\r\n            const perspective = entity.get(LookAtCameraComponent);\r\n            const transform = entity.get(TransformComponent);\r\n            this.pan(entity,x, y);\r\n            const translation = this.calcTranslation(\r\n                perspective.panning,\r\n                perspective.zooming,\r\n                transform.rotation\r\n            );\r\n            vec3.add(transform.translation, transform.translation, translation);\r\n            vec3.add(perspective.target, perspective.target, perspective.panning);\r\n            vec3.set(perspective.panning, 0, 0, 0);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Calculate the panning-plane\r\n     */\r\n    protected pan(entity:IEntity,dx:number,dy:number){\r\n        const perspective = entity.get(LookAtCameraComponent);\r\n        const transform = entity.get(TransformComponent);\r\n\r\n        const aDir = vec3.create();\r\n        vec3.subtract(aDir, perspective.target, transform.translation); //Vektor von Target nach Position\r\n        vec3.normalize(aDir, aDir);\r\n        const aRight = vec3.create();\r\n        vec3.cross(aRight, aDir, perspective.up);\r\n        vec3.normalize(aRight, aRight);\r\n        const aUp = vec3.create();\r\n        vec3.cross(aUp, aDir, aRight);\r\n        //calc out vector(overwriting aRight, aUp)\r\n        vec3.scale(aRight, aRight, dx);\r\n        vec3.scale(aUp, aUp, dy);\r\n        vec3.add(perspective.panning, aRight, aUp);\r\n    }\r\n\r\n    /**\r\n     * Calculate camera zoom\r\n     */\r\n    protected zoom(entity:IEntity,wheelDelta:number,delta:number){\r\n        const perspective = entity.get(LookAtCameraComponent);\r\n        const transform = entity.get(TransformComponent);\r\n        const dz = (perspective.zoomPos - wheelDelta) * delta;\r\n        const aDir = vec3.create();\r\n        vec3.subtract(aDir, perspective.target, transform.translation);\r\n        const dist = vec3.length(aDir);\r\n        vec3.normalize(aDir, aDir);\r\n        if(dist-dz <= 1.0){\r\n            vec3.scale(perspective.zooming, aDir, dist-1.0);\r\n        }else {\r\n            vec3.scale(perspective.zooming, aDir, dz);\r\n        }\r\n    }\r\n\r\n    protected rotate(entity:IEntity,x:number,y:number){\r\n        const perspective = entity.get(LookAtCameraComponent);\r\n        const transform = entity.get(TransformComponent);\r\n        const po = Math3d.getVSpherePos(this.lastMouseX,this.lastMouseY,this.canvas.width,this.canvas.height);\r\n        const pn = Math3d.getVSpherePos(x,y,this.canvas.width,this.canvas.height);\r\n\r\n        const poPn = vec3.create();\r\n        vec3.subtract(poPn, po, pn);\r\n        if(vec3.squaredLength(poPn) < 0.0001 ){\r\n            return;\r\n        }\r\n\r\n        let cosangle = vec3.dot(po, pn);\r\n        if(cosangle > 1.0){\r\n            cosangle = 1;\r\n        }\r\n        else if(cosangle < -1.0){\r\n            cosangle = -1;\r\n        }\r\n\r\n        let angle = Math.acos(cosangle);\r\n        const rotAxis = vec3.create();\r\n        vec3.cross(rotAxis, pn, po);\r\n        vec3.normalize(rotAxis, rotAxis);\r\n        const subTranslationPerspective = vec3.create();\r\n        vec3.subtract(subTranslationPerspective, transform.translation, perspective.target);\r\n        let diff = vec3.fromValues(0, 0, vec3.length(subTranslationPerspective));\r\n        let rotDiff = Math3d.rotateAxisAngle(diff,rotAxis,angle);\r\n\r\n        const cDir = vec3.create();\r\n        vec3.subtract(cDir, perspective.target, transform.translation);\r\n        vec3.normalize(cDir, cDir);\r\n        const cRight = vec3.create();\r\n        vec3.cross(cRight, cDir, perspective.up);\r\n        vec3.normalize(cRight, cRight);\r\n\r\n        const cUp = vec3.create();\r\n        vec3.cross(cUp, cRight, cDir);\r\n\r\n        const rotDiffW:vec3 = vec3.fromValues(\r\n            cRight[0] * rotDiff[0] + cUp[0] * rotDiff[1] +  -cDir[0] * rotDiff[2],\r\n            cRight[1] * rotDiff[0] + cUp[1] * rotDiff[1] +  -cDir[1] * rotDiff[2],\r\n            cRight[2] * rotDiff[0] + cUp[2] * rotDiff[1] +  -cDir[2] * rotDiff[2],\r\n        );\r\n        const out = vec3.create();\r\n        vec3.subtract(out, rotDiffW, vec3.subtract(out, transform.translation, perspective.target));\r\n        const w = transform.rotation[3];\r\n        quat.set(transform.rotation, out[0]/w, out[1]/w, out[2]/w, w);\r\n    }\r\n\r\n    update():void{\r\n        for(let i=0, entity:IEntity; entity = this.entities[i]; i++){\r\n            const camera = entity.get(CameraComponent);\r\n            const transform = entity.get(TransformComponent);\r\n            const perspective = entity.get(LookAtCameraComponent);\r\n\r\n            //Update\r\n            const translation = this.calcTranslation(\r\n                perspective.panning,\r\n                perspective.zooming,\r\n                transform.rotation\r\n            );\r\n            vec3.add(transform.translation, transform.translation, translation);\r\n            vec3.add(perspective.target, perspective.target, perspective.panning);\r\n\r\n            quat.set(transform.rotation, 0, 0, 0, transform.rotation[3]);\r\n            vec3.set(perspective.panning, 0, 0, 0);\r\n            vec3.set(perspective.zooming, 0, 0, 0);\r\n\r\n            //Apply to camera localMatrix\r\n            const target = vec3.create();\r\n            vec3.add(target, perspective.target, perspective.panning);\r\n            const position = vec3.create();\r\n            vec3.add(position, perspective.panning, perspective.zooming);\r\n            vec3.add(position, position, transform.translation);\r\n            mat4.lookAt(\r\n                camera.viewMatrix,\r\n                position,\r\n                target,\r\n                perspective.up\r\n            );\r\n        }\r\n    }\r\n}","/**\n * @file Automatically generated by barrelsby.\n */\n\nexport * from \"./CameraSystem\";\nexport * from \"./LookAtCameraControlSystem\";\n","import {ECS, IEntity, System} from \"curbl-ecs\";\r\nimport * as dat from \"dat.gui\";\r\nimport {SYSTEM_EVENTS} from \"curbl-ecs/lib/Events\";\r\nimport {GUIComponent} from \"../../components/gui/GUIComponent\";\r\nimport {GUIController} from \"dat.gui\";\r\n\r\n@ECS.System(GUIComponent)\r\nexport class GUISystem extends System {\r\n\r\n    private gui:dat.GUI;\r\n\r\n    constructor() {\r\n        super();\r\n        this.gui = new dat.GUI()\r\n    }\r\n\r\n    setUp() {\r\n        this.events.on(SYSTEM_EVENTS.ENTITY_ADDED, this.onEntityAdded, this);\r\n    }\r\n\r\n    onEntityAdded(entity:IEntity) {\r\n        const config = entity.get(GUIComponent).config;\r\n        let folder = this.gui;\r\n        let controller: GUIController;\r\n\r\n        if(config.folder) {\r\n            folder = this.gui.addFolder(config.folder);\r\n        }\r\n\r\n        for(let property of config.properties) {\r\n            if (property.isColor) {\r\n                controller = folder.addColor(property.prop, property.propName);\r\n            } else if(property.items){\r\n                controller = folder.add(property.prop, property.propName, property.items);\r\n            }else {\r\n                controller = folder.add(property.prop, property.propName, property.min, property.max);\r\n            }\r\n\r\n            controller.onChange(property.onChange).onFinishChange(property.onFinishChange);\r\n        }\r\n    }\r\n}","/**\n * @file Automatically generated by barrelsby.\n */\n\nexport * from \"./GUISystem\";\n","/**\n * @file Automatically generated by barrelsby.\n */\n\nexport * from \"./animation/index\";\nexport * from \"./camera/index\";\nexport * from \"./gui/index\";\nexport * from \"./rendering/index\";\nexport * from \"./world/index\";\n","import {ECS, IEntity, System} from \"curbl-ecs\";\r\nimport {LightComponent} from \"../../components\";\r\nimport {Cache} from \"../../cache\";\r\nimport {ForwardScenePass} from \"./ForwardScenePass\";\r\nimport {Shader} from \"../../scene/shader\";\r\n\r\n@ECS.System(LightComponent)\r\nexport class ForwardLightPass extends System {\r\n\r\n    private gl:WebGL2RenderingContext;\r\n    private cache:Cache;\r\n    private scenePass:ForwardScenePass;\r\n    private shader: Shader;\r\n\r\n    constructor(config:{gl: WebGL2RenderingContext, cache: Cache, shader: Shader}){\r\n        super();\r\n        this.gl = config.gl;\r\n        this.cache = config.cache;\r\n        this.shader = config.shader;\r\n    }\r\n\r\n    setUp():void{\r\n        this.scenePass = ECS.addSystem(new ForwardScenePass({gl:this.gl,cache:this.cache,shader:this.shader}));\r\n    }\r\n\r\n    tearDown():void {\r\n        ECS.removeSystem(this.scenePass);\r\n    }\r\n    \r\n    render():void {\r\n\r\n        //this.gl.enable(this.gl.CULL_FACE);\r\n        this.gl.enable(this.gl.DEPTH_TEST);\r\n        //this.gl.enable(this.gl.BLEND);\r\n        //this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);\r\n\r\n        this.shader.bind();\r\n        for(let i=0, light:IEntity; light = this.entities[i]; i++) {\r\n            this.shader.uniforms.u_LightColor = light.get(LightComponent).color.elements;\r\n            this.shader.uniforms.u_LightDirection = light.get(LightComponent).direction;\r\n            this.scenePass.draw();\r\n        }\r\n        this.shader.unbind();\r\n\r\n        //this.gl.disable(this.gl.CULL_FACE);\r\n        //this.gl.disable(this.gl.BLEND);\r\n        this.gl.disable(this.gl.DEPTH_TEST);\r\n    }\r\n\r\n}","import {ECS, IEntity, System} from \"curbl-ecs\";\r\nimport {SceneComponent} from \"../../components\";\r\nimport {Cache, CACHE_TYPE} from \"../../cache\";\r\nimport {SYSTEM_EVENTS} from \"curbl-ecs/lib/Events\";\r\nimport {GL_PRIMITIVES} from \"curbl-gl-util\";\r\nimport {Scene, Shader} from \"../../scene\";\r\n\r\n\r\n@ECS.System(SceneComponent)\r\nexport class ForwardScenePass extends System {\r\n\r\n    private gl:WebGL2RenderingContext;\r\n    private cache:Cache;\r\n    private shader: Shader;\r\n    //use the same data for all scenes/meshes etc.\r\n    // private vertexBuffer:GLBuffer;\r\n    // private indexBuffer:GLBuffer;\r\n\r\n    constructor(config:{gl: WebGL2RenderingContext, cache: Cache, shader: Shader}){\r\n        super();\r\n        this.gl = config.gl;\r\n        this.cache = config.cache;\r\n        this.shader = config.shader;\r\n        // this.vertexBuffer = GLBuffer.createVertexBuffer(this.gl);\r\n        // this.indexBuffer = GLBuffer.createIndexBuffer(this.gl);\r\n    }\r\n\r\n    setUp():void{\r\n        this.events.on(SYSTEM_EVENTS.ENTITY_ADDED,this.initEntity,this);\r\n    }\r\n\r\n    /**\r\n     * Init Shader for the Meshes\r\n     * @param entity\r\n     */\r\n    private initEntity(entity:IEntity):void{\r\n        const sceneComponent = entity.get(SceneComponent);\r\n        const scene = this.cache.get<Scene>(CACHE_TYPE.SCENE,sceneComponent.key);\r\n        if(scene){\r\n            scene.init(this.gl);\r\n            scene.upload();\r\n            this.initShaderAttributes(scene);\r\n        }else{\r\n            console.warn('Their is no scene for key '+sceneComponent.key+' in the cache.');\r\n        }\r\n    }\r\n\r\n    private initShaderAttributes(scene:Scene):void{\r\n        scene.addAttribute(GL_PRIMITIVES.POSITION,this.shader.attributes.getAttribute('a_Position'));\r\n        scene.addAttribute(GL_PRIMITIVES.NORMAL,this.shader.attributes.getAttribute('a_Normal'));\r\n        scene.addAttribute(GL_PRIMITIVES.TANGENT,this.shader.attributes.getAttribute('a_Tangent'));\r\n        scene.addAttribute(GL_PRIMITIVES.TEXCOORD_0,this.shader.attributes.getAttribute('a_UV'));\r\n        scene.addAttribute(GL_PRIMITIVES.JOINTS_0,this.shader.attributes.getAttribute('a_Joint0'));\r\n        scene.addAttribute(GL_PRIMITIVES.WEIGHTS_0,this.shader.attributes.getAttribute('a_Weight0'));\r\n    }\r\n\r\n    draw():void{\r\n        for(let i=0, entity:IEntity; entity = this.entities[i]; i++) {\r\n            this.drawScene(entity);\r\n        }\r\n    }\r\n\r\n    private drawScene(entity:IEntity):void {\r\n        const key = entity.get(SceneComponent).key;\r\n        const scene = this.cache.get<Scene>(CACHE_TYPE.SCENE,key);\r\n        this.shader.apply();\r\n        scene.draw(this.shader,this.cache);\r\n    }\r\n\r\n}","import {ECS, System} from \"curbl-ecs\";\r\nimport {Cache} from \"../../cache\";\r\nimport {ForwardLightPass} from \"./ForwardLightPass\";\r\nimport {Shader} from \"../../scene/shader\";\r\n\r\n@ECS.System()\r\nexport class ForwardShadingSystem extends System {\r\n\r\n    private gl: WebGL2RenderingContext;\r\n    private cache: Cache;\r\n    private forwardLightningPass: ForwardLightPass;\r\n    private shader: Shader;\r\n\r\n    constructor(config: {gl: WebGL2RenderingContext, cache: Cache, shader: Shader}) {\r\n        super();\r\n        this.gl = config.gl;\r\n        this.cache = config.cache;\r\n        this.shader = config.shader;\r\n    }\r\n\r\n    setUp(): void {\r\n        this.forwardLightningPass = ECS.addSystem(new ForwardLightPass({gl: this.gl, cache: this.cache, shader: this.shader}));\r\n    }\r\n\r\n    tearDown(): void {\r\n        ECS.removeSystem(this.forwardLightningPass);\r\n        ECS.removeSystem(this);\r\n    }\r\n}","import {ECS, System} from \"curbl-ecs\";\r\n\r\n@ECS.System()\r\nexport class PrePass extends System {\r\n\r\n    private gl:WebGL2RenderingContext;\r\n\r\n    constructor(gl:WebGL2RenderingContext) {\r\n        super();\r\n        this.gl = gl;\r\n    }\r\n\r\n    /**\r\n     * Clear rendering Context\r\n     * @param colorBuffer\r\n     * @param depthBuffer\r\n     * @param color\r\n     */\r\n    private clearContext(colorBuffer:boolean=true,depthBuffer:boolean=false,color:{r:number,g:number,b:number,a:number}={r:0,g:0,b:0,a:1}){\r\n        this.gl.clearColor(color.r,color.g,color.b,color.a);\r\n        if(colorBuffer && depthBuffer){\r\n            this.gl.clear(this.gl.COLOR_BUFFER_BIT | this.gl.DEPTH_BUFFER_BIT | this.gl.STENCIL_BUFFER_BIT);\r\n        }else if(colorBuffer){\r\n            this.gl.clear(this.gl.COLOR_BUFFER_BIT);\r\n        }else if(depthBuffer){\r\n            this.gl.clear(this.gl.DEPTH_BUFFER_BIT);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        this.clearContext(true,true, {r: 0, g:0, b: 0, a:1});\r\n    }\r\n}","import {ECS, System} from \"curbl-ecs\";\r\nimport {Shader} from \"../../scene/shader\";\r\nimport {GLCube} from \"curbl-gl-util\";\r\nimport {Cache, CACHE_TYPE} from \"../../cache\";\r\nimport {GLOBAL_TEXTURES} from \"../../viewer/constants\";\r\n\r\n@ECS.System()\r\nexport class SkyboxPass extends System {\r\n\r\n    private gl:WebGL2RenderingContext;\r\n    private cache:Cache;\r\n    private shader:Shader;\r\n    private cube:GLCube;\r\n\r\n    constructor(config:  {gl: WebGL2RenderingContext, cache: Cache, shader: Shader}){\r\n        super();\r\n        this.gl = config.gl;\r\n        this.cache = config.cache;\r\n        this.shader = config.shader;\r\n        this.cube = new GLCube(this.gl);\r\n    }\r\n\r\n    setUp(){\r\n        this.shader.bind();\r\n        this.cube.vertexArrayObject.bind();\r\n        this.cube.vertexArrayObject.addAttribute(this.cube.vertexBuffer,this.shader.attributes.getAttribute('a_Position'),3,this.gl.FLOAT,false,24,0);\r\n        this.cube.vertexArrayObject.unbind();\r\n        this.shader.unbind();\r\n    }\r\n\r\n    tearDown(): void {\r\n    }\r\n\r\n    render():void{\r\n        if(this.cache.has(CACHE_TYPE.TEXTURE, GLOBAL_TEXTURES.SKYBOX)) {\r\n            this.gl.enable(this.gl.DEPTH_TEST);\r\n            this.gl.depthFunc(this.gl.LEQUAL);\r\n            this.gl.disable(this.gl.CULL_FACE);\r\n\r\n            this.shader.bind();\r\n            this.shader.apply();\r\n            this.cube.draw();\r\n            this.shader.unbind();\r\n\r\n            this.gl.depthFunc(this.gl.LESS);\r\n            this.gl.disable(this.gl.DEPTH_TEST);\r\n        }\r\n    }\r\n}","/**\n * @file Automatically generated by barrelsby.\n */\n\nexport * from \"./ForwardLightPass\";\nexport * from \"./ForwardScenePass\";\nexport * from \"./ForwardShadingSystem\";\nexport * from \"./PrePass\";\nexport * from \"./SkyboxPass\";\n","/**\n * @file Automatically generated by barrelsby.\n */\n\nexport * from \"./worldScene\";\nexport * from \"./worldSystem\";\n","import {ECS, IEntity} from \"curbl-ecs\";\r\nimport {ResourceLoader} from \"curbl-loader\";\r\nimport {Cache} from \"../../cache\";\r\n\r\nexport interface SceneConfig {\r\n    name: string;\r\n}\r\n\r\nexport abstract class WorldScene {\r\n    /**\r\n     * Each Scene needs a unique name\r\n     */\r\n    private readonly _name:string;\r\n\r\n    /**\r\n     * if systems is active and should be updated\r\n     */\r\n    private _active:boolean;\r\n\r\n    private _loader:ResourceLoader;\r\n    private _cache:Cache;\r\n\r\n    private entities:{[id:string]:IEntity};\r\n\r\n    constructor(config: SceneConfig){\r\n        this.entities = {};\r\n        this._name = config.name;\r\n    }\r\n\r\n    /**\r\n     * setUp the scene loading necessary elements\r\n     * calls preload and triggers the loader\r\n     * once the loader finished loading the create method is called\r\n     */\r\n    setUp(loader:ResourceLoader, cache: Cache):void {\r\n        this._loader = loader;\r\n        this._cache = cache;\r\n        this._active = true;\r\n\r\n        this.preload();\r\n        this._loader.onComplete.once(this.create,this);\r\n        this._loader.load();\r\n    }\r\n\r\n    /**\r\n     * tearDown the scene removing all Entities from the scene\r\n     * it will destroy all entities if destroyOnTearDown is true{default: false}\r\n     */\r\n    tearDown():void {\r\n        this.shutdown();\r\n        this._active = false;\r\n        const keys = Object.keys(this.entities);\r\n        for (let i = 0, entity: IEntity; entity = this.entities[keys[i]]; i++) {\r\n            ECS.removeEntity(entity);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Restore the Scene, adding all Entities previously removed, with their latest values\r\n     */\r\n    restore():void{\r\n        for(let i=0, entity:IEntity; entity = this.entities[i]; i++){\r\n            ECS.addEntity(entity);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * add Entity to the Scene\r\n     * @param entity\r\n     */\r\n    add<T extends IEntity = IEntity>(entity:T):T {\r\n        this.entities[entity.id] = ECS.addEntity(entity);\r\n        return entity;\r\n    }\r\n\r\n    /**\r\n     * Remove entity from the scene and ecs\r\n     * @param entity\r\n     */\r\n    remove<T extends IEntity = IEntity>(entity:T):T {\r\n        delete this.entities[entity.id];\r\n        return ECS.removeEntity(entity) as T;\r\n    }\r\n\r\n    /**\r\n     * called once the scene starts\r\n     */\r\n    abstract preload():void;\r\n\r\n    /**\r\n     * called once the scene finished loading\r\n     * use this.add to add Entities to the Scene otherwise it will be globally added to the ECS\r\n     * and not removed on scene shutdown\r\n     */\r\n    abstract create():void;\r\n\r\n    /**\r\n     * called before the scene gets removed\r\n     */\r\n    abstract shutdown():void;\r\n\r\n    /**\r\n     * called by the worldSystem for each ECS update tick\r\n     * usually its not needed since we just use systems and entities for the game logic\r\n     */\r\n    abstract update():void;\r\n\r\n    get name(): string {\r\n        return this._name;\r\n    }\r\n\r\n    get active(): boolean {\r\n        return this._active;\r\n    }\r\n\r\n    set active(value: boolean) {\r\n        this._active = value;\r\n    }\r\n\r\n    get loader(): ResourceLoader {\r\n        return this._loader;\r\n    }\r\n\r\n    set loader(value: ResourceLoader) {\r\n        this._loader = value;\r\n    }\r\n\r\n    get cache(): Cache {\r\n        return this._cache;\r\n    }\r\n\r\n    set cache(value: Cache) {\r\n        this._cache = value;\r\n    }\r\n}","import {ECS, System} from \"curbl-ecs\";\r\nimport {WorldScene} from \"./worldScene\";\r\nimport {Cache} from \"../../cache\";\r\nimport {ResourceLoader} from \"curbl-loader\";\r\n\r\n@ECS.System()\r\nexport class WorldSystem extends System {\r\n    /**\r\n     * The World consists of scenes\r\n     */\r\n    private _scenes:{[key:string]:WorldScene};\r\n    private _loader: ResourceLoader;\r\n    private _cache: Cache;\r\n\r\n    constructor(config:{loader:ResourceLoader, cache:Cache}){\r\n        super();\r\n        this._loader = config.loader;\r\n        this._cache = config.cache;\r\n    }\r\n\r\n    setUp(): void {\r\n        this._scenes = Object.create(null);\r\n    }\r\n\r\n    tearDown(): void {\r\n        const keys = Object.keys(this._scenes);\r\n        for(let i=0, scene:WorldScene; scene = this._scenes[keys[i]]; i++){\r\n            this.removeScene(scene);\r\n        }\r\n    }\r\n\r\n    update():void {\r\n        const keys = Object.keys(this._scenes);\r\n        for(let i=0, scene:WorldScene; scene = this._scenes[keys[i]]; i++){\r\n            if(scene.active){\r\n                scene.update();\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Return the key of the given scene\r\n     * @param scene\r\n     */\r\n    private getKey(scene:WorldScene|string):string {\r\n        let key:string = scene as string;\r\n        if(scene instanceof WorldScene)\r\n        {\r\n            key = scene.name;\r\n        }\r\n        return key;\r\n    }\r\n\r\n    addScene(scene:WorldScene):WorldScene{\r\n        this._scenes[scene.name] = scene;\r\n        return scene;\r\n    }\r\n\r\n    removeScene(scene:WorldScene|string):WorldScene{\r\n        const key = this.getKey(scene);\r\n        const sceneObj = this._scenes[key];\r\n        sceneObj.tearDown();\r\n        delete this._scenes[key];\r\n        return sceneObj;\r\n    }\r\n\r\n    start(scene:WorldScene|string):WorldScene {\r\n        const key = this.getKey(scene);\r\n        this._scenes[key].setUp(this._loader, this._cache);\r\n        return this._scenes[key];\r\n    }\r\n\r\n    stop(scene:WorldScene|string):WorldScene {\r\n        const key = this.getKey(scene);\r\n        this._scenes[key].tearDown();\r\n        return this._scenes[key];\r\n    }\r\n\r\n    restore(scene:WorldScene|string):WorldScene {\r\n        const key = this.getKey(scene);\r\n        this._scenes[key].restore();\r\n        return this._scenes[key];\r\n    }\r\n}","import {Canvas} from \"../canvas/Canvas\";\r\nimport {MiddlewareData, ResourceLoader} from \"curbl-loader\";\r\nimport {CubemapLoader} from \"../loader/CubemapLoader\";\r\nimport {TextureLoader} from \"../loader/TextureLoader\";\r\nimport {GLTFLoader} from \"../loader/GLTFLoader\";\r\nimport {BaseCache, Cache, CACHE_TYPE} from \"../cache\";\r\nimport {GLTexture} from \"curbl-gl-util\";\r\nimport {Animation, Mesh} from \"../scene\";\r\nimport {Material, MATERIAL_MAPS, Materialmap} from \"../material\";\r\nimport {ECS} from \"curbl-ecs\";\r\nimport {GLSLLoader} from \"../loader/GLSLLoader\";\r\nimport {KhronosPbrShader} from \"../shader/khronosPbrShader\";\r\nimport {SkyboxShader} from \"../shader/SkyboxShader\";\r\nimport {Scene} from \"../scene/scene\";\r\nimport {SkyboxPass} from \"../systems/rendering/SkyboxPass\";\r\nimport {ForwardShadingSystem} from \"../systems/rendering/ForwardShadingSystem\";\r\nimport {PrePass} from \"../systems/rendering/PrePass\";\r\nimport {GUISystem} from \"../systems/gui/GUISystem\";\r\nimport {LookAtCameraControlSystem} from \"../systems/camera/LookAtCameraControlSystem\";\r\nimport {CameraSystem} from \"../systems/camera/CameraSystem\";\r\nimport {MetallicRoughness} from \"../material/metallicRoughness\";\r\nimport {vec4} from \"gl-matrix\";\r\nimport {AnimationSystem} from \"../systems/animation/AnimationSystem\";\r\nimport {WorldSystem} from \"../systems/world/worldSystem\";\r\n\r\nexport class Viewer {\r\n    private _cache:Cache;\r\n    private _canvas:Canvas;\r\n    private _loader: ResourceLoader;\r\n    private _gl: WebGL2RenderingContext;\r\n    private _shader: KhronosPbrShader;\r\n    private _skyboxShader: SkyboxShader;\r\n    private _world: WorldSystem;\r\n\r\n    constructor(config:{width: number, height:number}={width:1280, height: 720}) {\r\n        this._canvas = new Canvas({width:config.width, height: config.height});\r\n        this._loader = new ResourceLoader();\r\n        this._cache = new Cache();\r\n    }\r\n\r\n    init(onLoaded:()=>void) {\r\n        this._canvas.appendCanvas(\"root\");\r\n        const gl = this._canvas.context;\r\n        this._gl = gl;\r\n\r\n        //Create cache\r\n        this._cache.addCache(CACHE_TYPE.MATERIAL, new BaseCache<Material>());\r\n        this._cache.addCache(CACHE_TYPE.MESH, new BaseCache<Mesh>());\r\n        this._cache.addCache(CACHE_TYPE.TEXTURE, new BaseCache<GLTexture>());\r\n        this._cache.addCache(CACHE_TYPE.SCENE, new BaseCache<Scene>());\r\n        this._cache.addCache(CACHE_TYPE.ANIMATION, new BaseCache<Animation>());\r\n\r\n        //Set loader Middlewares\r\n        this._loader.addMiddleware(new CubemapLoader(gl), CubemapLoader);\r\n        this._loader.addMiddleware(new TextureLoader(gl), TextureLoader);\r\n        this._loader.addMiddleware(new GLTFLoader(gl, this._cache), GLTFLoader);\r\n        this._loader.addMiddleware(new GLSLLoader(gl), GLSLLoader);\r\n\r\n        //Cache them all\r\n        this._loader.onLoadComplete.on((data:MiddlewareData<any>) => {\r\n            this._cache.add(data.type as number,data.key,data.data);\r\n        });\r\n\r\n        this.defaultMaterial();\r\n        //Create shader\r\n        this._shader = new KhronosPbrShader(this._gl, this._cache);\r\n        this._skyboxShader = new SkyboxShader(this._gl, this._cache);\r\n        //Load shader\r\n        this._loader.get(GLSLLoader).add(\r\n            \"shader\",\r\n            \"https://raw.githubusercontent.com/Xan0C/curbl-gltf-viewer/master/assets/shader/pbr-vert.glsl\",\r\n            \"https://raw.githubusercontent.com/Xan0C/curbl-gltf-viewer/master/assets/shader/pbr-frag.glsl\",\r\n            this._shader\r\n        );\r\n        this._loader.get(GLSLLoader).add(\r\n            \"skyboxShader\",\r\n            \"https://raw.githubusercontent.com/Xan0C/curbl-gltf-viewer/master/assets/shader/skybox-vert.glsl\",\r\n            \"https://raw.githubusercontent.com/Xan0C/curbl-gltf-viewer/master/assets/shader/skybox-frag.glsl\",\r\n            this._skyboxShader\r\n        );\r\n\r\n        this.load(onLoaded);\r\n    }\r\n\r\n    private defaultMaterial() {\r\n        const gl = this._gl;\r\n        const texture = GLTexture.fromData(gl,new Uint8Array([128, 128, 128, 255]) as any,1,1,0,gl.RGBA,gl.RGBA,gl.UNSIGNED_BYTE);\r\n        texture.enableNearestScaling();\r\n        texture.enableWrapClamp();\r\n\r\n        this._cache.getCache(CACHE_TYPE.TEXTURE).add('__default__', texture);\r\n\r\n        const mat = new MetallicRoughness();\r\n        mat.baseColorFactor = vec4.fromValues(0.5, 0.5, 0.5, 1);\r\n        const material = new Material<MetallicRoughness>(name, mat);\r\n        material.maps[MATERIAL_MAPS.ALBEDO] = new Materialmap('__default__');\r\n\r\n        this._cache.getCache(CACHE_TYPE.MATERIAL).add('__default__', material);\r\n    }\r\n\r\n    private createSystems() {\r\n        //Create Systems\r\n        ECS.systemUpdateMethods = ['update', 'render'];\r\n        this._world = ECS.addSystem(new WorldSystem({loader: this._loader, cache: this._cache}));\r\n        ECS.addSystem(new CameraSystem({gl: this._gl}));\r\n        ECS.addSystem(new LookAtCameraControlSystem(this._canvas));\r\n        ECS.addSystem(new GUISystem());\r\n        ECS.addSystem(new AnimationSystem(this._cache));\r\n        ECS.addSystem(new PrePass(this._gl));\r\n        ECS.addSystem(new ForwardShadingSystem({gl: this._gl, cache: this._cache, shader: this._shader}));\r\n        ECS.addSystem(new SkyboxPass({gl: this._gl, cache: this._cache, shader: this._skyboxShader}));\r\n    }\r\n\r\n    private load(onLoaded:()=>void) {\r\n        this._loader.load(()=>{\r\n            this._shader.upload();\r\n            this._skyboxShader.upload();\r\n            this.createSystems();\r\n            onLoaded();\r\n            this.update(0);\r\n        });\r\n    }\r\n\r\n    private update(t:number){\r\n        ECS.update(t);\r\n        requestAnimationFrame((t)=>{this.update(t)});\r\n    }\r\n\r\n    get cache(): Cache {\r\n        return this._cache;\r\n    }\r\n\r\n    set cache(value: Cache) {\r\n        this._cache = value;\r\n    }\r\n\r\n    get canvas(): Canvas {\r\n        return this._canvas;\r\n    }\r\n\r\n    set canvas(value: Canvas) {\r\n        this._canvas = value;\r\n    }\r\n\r\n    get loader(): ResourceLoader {\r\n        return this._loader;\r\n    }\r\n\r\n    set loader(value: ResourceLoader) {\r\n        this._loader = value;\r\n    }\r\n\r\n    get gl(): WebGL2RenderingContext {\r\n        return this._gl;\r\n    }\r\n\r\n    set gl(value: WebGL2RenderingContext) {\r\n        this._gl = value;\r\n    }\r\n\r\n    get shader(): KhronosPbrShader {\r\n        return this._shader;\r\n    }\r\n\r\n    set shader(value: KhronosPbrShader) {\r\n        this._shader = value;\r\n    }\r\n\r\n    get skyboxShader(): SkyboxShader {\r\n        return this._skyboxShader;\r\n    }\r\n\r\n    set skyboxShader(value: SkyboxShader) {\r\n        this._skyboxShader = value;\r\n    }\r\n\r\n    get world(): WorldSystem {\r\n        return this._world;\r\n    }\r\n\r\n    set world(value: WorldSystem) {\r\n        this._world = value;\r\n    }\r\n}","export const GLOBAL_TEXTURES = {\r\n    BRDF_LUT:'brdfLUT',\r\n    DIFFUSE_ENVIRONMENT: 'diffuseEnvironment',\r\n    SPECULAR_ENVIRONMENT: 'specularEnvironment',\r\n    SKYBOX:'skybox'\r\n};\r\n\r\nexport enum UBO_BINDINGS {\r\n    CAMERA = 0,\r\n    SKIN = 1\r\n}","/**\n * @file Automatically generated by barrelsby.\n */\n\nexport * from \"./constants\";\nexport * from \"./Viewer\";\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ECS_1 = require(\"./ECS\");\nvar ComponentBitmaskMap = /** @class */ (function () {\n    function ComponentBitmaskMap() {\n        this._bitmaskMap = Object.create(null);\n    }\n    ComponentBitmaskMap.prototype.has = function (component) {\n        if (typeof component === \"string\") {\n            return !!this._bitmaskMap[component];\n        }\n        else {\n            return !!this._bitmaskMap[component.prototype.constructor.name];\n        }\n    };\n    ComponentBitmaskMap.prototype.add = function (component) {\n        if (typeof component === \"string\") {\n            this._bitmaskMap[component] = 1 << this.size;\n        }\n        else {\n            this._bitmaskMap[component.prototype.constructor.name] = 1 << this.size;\n        }\n    };\n    ComponentBitmaskMap.prototype.get = function (component) {\n        if (!this.has(component)) {\n            this.add(component);\n        }\n        if (typeof component === \"string\") {\n            return this._bitmaskMap[component] || 0;\n        }\n        return this._bitmaskMap[component.prototype.constructor.name] || 0;\n    };\n    ComponentBitmaskMap.prototype.getCompound = function (components) {\n        if (components === void 0) { components = []; }\n        var bitmask = 0;\n        for (var i = 0, component = void 0; component = components[i]; i++) {\n            bitmask = bitmask | this.get(component);\n        }\n        return bitmask;\n    };\n    Object.defineProperty(ComponentBitmaskMap.prototype, \"size\", {\n        get: function () {\n            return Object.keys(this._bitmaskMap).length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ComponentBitmaskMap.prototype.set = function (map) {\n        this._bitmaskMap = map;\n    };\n    Object.defineProperty(ComponentBitmaskMap.prototype, \"bitmaskMap\", {\n        get: function () {\n            return this._bitmaskMap;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ComponentBitmaskMap;\n}());\nexports.ComponentBitmaskMap = ComponentBitmaskMap;\nvar COMPONENT_PROPERTIES = {};\nvar COMPONENT_PROTOTYPE = {\n    remove: function () { return ECS_1.ECS.noop; }\n};\nexports.COMPONENT_PROPERTY_DECORATOR = {\n    id: function (component) {\n        Object.defineProperty(component, \"id\", {\n            get: function () { return this._id || (this._id = this.constructor.name); },\n            set: function (id) { this._id = id; }\n        });\n    }\n};\nfunction injectComponent(component) {\n    for (var propKey in COMPONENT_PROPERTIES) {\n        if (component[propKey] === undefined || component[propKey] === null) {\n            component[propKey] = COMPONENT_PROPERTIES[propKey]();\n        }\n    }\n    for (var propKey in exports.COMPONENT_PROPERTY_DECORATOR) {\n        if (component[propKey] === undefined || component[propKey] === null) {\n            exports.COMPONENT_PROPERTY_DECORATOR[propKey](component);\n        }\n    }\n    for (var protoKey in COMPONENT_PROTOTYPE) {\n        if (component.constructor && component.constructor.prototype) {\n            if (component.constructor.prototype[protoKey] === undefined || component.constructor.prototype[protoKey] === null) {\n                component.constructor.prototype[protoKey] = COMPONENT_PROTOTYPE[protoKey]();\n            }\n        }\n        else {\n            if (component[protoKey] === undefined || component[protoKey] === null) {\n                component[protoKey] = COMPONENT_PROTOTYPE[protoKey]();\n            }\n        }\n    }\n}\nexports.injectComponent = injectComponent;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar InjectorService_1 = require(\"./InjectorService\");\nvar EntityComponentWorker_1 = require(\"./EntityComponentWorker\");\nvar EntityComponentSystem_1 = require(\"./EntityComponentSystem\");\nvar ECS = /** @class */ (function () {\n    function ECS() {\n    }\n    Object.defineProperty(ECS, \"instance\", {\n        get: function () {\n            if (ECS._instance) {\n                return ECS._instance;\n            }\n            //@ts-ignore\n            if (typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope) {\n                return ECS._instance = new EntityComponentWorker_1.EntityComponentWorker();\n            }\n            else {\n                return ECS._instance = new EntityComponentSystem_1.EntityComponentSystem();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ECS.setPrototypeOf = function (obj, proto) {\n        //@ts-ignore\n        var fn = Object.setPrototypeOf || function (obj, proto) {\n            obj.__proto__ = proto;\n            return obj;\n        };\n        return fn(obj, proto);\n    };\n    Object.defineProperty(ECS, \"Injector\", {\n        get: function () {\n            return InjectorService_1.InjectorService.instance;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ECS.noop = function () { };\n    /**\n     * create an entity\n     * @param entity {optional} - use existing entity\n     * @param components {optional} - components to add to the entity if provided this will override the current components of the entity if any\n     */\n    ECS.createEntity = function (entity, components) {\n        return ECS.instance.ecm.createEntity(entity, components);\n    };\n    /**\n     * adds the Entity with the provided components(or existing ones) to the ECS\n     * @param entity - Entity to add to the ECS\n     * @param components - Components for the entity, if provided this will override the current components of the entity if any\n     */\n    ECS.addEntity = function (entity, components) {\n        return ECS.instance.ecm.addEntity(entity, components);\n    };\n    /**\n     * Return a list of entities with the specified components\n     * since we need to check all entities this can be quite slow\n     * @param components - list of components the entity needs to have\n     */\n    ECS.getEntities = function () {\n        var _a;\n        var components = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            components[_i] = arguments[_i];\n        }\n        return (_a = ECS.instance.ecm).getEntities.apply(_a, components);\n    };\n    /**\n     * removes the entity from the ECS, it will keep all of its components\n     * @param entity - Entity to remove\n     * @returns {IEntity}\n     */\n    ECS.removeEntity = function (entity) {\n        return ECS.instance.ecm.removeEntity(entity);\n    };\n    /**\n     * removes all entities from the ecs\n     */\n    ECS.removeAllEntities = function () {\n        return ECS.instance.ecm.removeAllEntities();\n    };\n    ECS.hasEntity = function (entity) {\n        return ECS.instance.ecm.hasEntity(entity);\n    };\n    ECS.removeComponent = function (entity, component) {\n        return ECS.instance.ecm.removeComponent(entity, component);\n    };\n    ECS.addComponent = function (entity, component) {\n        return ECS.instance.ecm.addComponent(entity, component);\n    };\n    ECS.addSystem = function (system, componentMask) {\n        return ECS.instance.scm.add(system, componentMask);\n    };\n    ECS.hasSystem = function (system) {\n        return ECS.instance.scm.has(system);\n    };\n    ECS.hasSystemOf = function (constructor) {\n        return ECS.instance.scm.hasOf(constructor);\n    };\n    ECS.removeSystem = function (system) {\n        return ECS.instance.scm.remove(system);\n    };\n    ECS.removeSystemOf = function (constructor) {\n        return ECS.instance.scm.removeOf(constructor);\n    };\n    ECS.getSystemComponentMaskOf = function (constructor) {\n        return ECS.instance.scm.getComponentMaskOf(constructor);\n    };\n    ECS.removeEntityFromSystem = function (entity, system) {\n        ECS.instance.scm.removeEntity(entity, system);\n    };\n    ECS.getSystem = function (constructor) {\n        return ECS.instance.scm.get(constructor);\n    };\n    ECS.update = function (a1, a2, a3, a4, a5, a6, a7, a8, a9) {\n        ECS.instance.update(a1, a2, a3, a4, a5, a6, a7, a8, a9);\n    };\n    /**\n     * Calls a specific method for all systems (e.g. update)\n     * @param functionName - name of the function to be called\n     */\n    ECS.callSystemMethod = function (functionName) {\n        ECS.instance.scm.callSystemMethod(functionName);\n    };\n    ECS.addWorker = function (worker) {\n        ECS.instance.addWorker(worker);\n    };\n    ECS.init = function (cb) {\n        ECS.instance.init(cb);\n    };\n    ECS.createComponentsFromDecorator = function (components) {\n        var comps = Object.create(null);\n        var component;\n        for (var _i = 0, components_1 = components; _i < components_1.length; _i++) {\n            var dec = components_1[_i];\n            component = new dec.component(dec.config);\n            comps[component.id] = component;\n        }\n        return comps;\n    };\n    ECS.Component = function (id) {\n        var getter = id ? function () {\n            return this._id || (this._id = id);\n        } : function () {\n            return this._id || (this._id = this.constructor.name);\n        };\n        var setter = function (id) {\n            this._id = id;\n        };\n        return function (constructor) {\n            Object.defineProperty(constructor.prototype, \"id\", {\n                get: getter,\n                set: setter\n            });\n            return constructor;\n        };\n    };\n    ECS.System = function () {\n        var components = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            components[_i] = arguments[_i];\n        }\n        return function (constructor) {\n            Object.defineProperty(constructor.prototype, \"id\", {\n                get: function () {\n                    return this._id || (this._id = this.constructor.name);\n                }\n            });\n            Object.defineProperty(constructor.prototype, \"bitmask\", {\n                get: function () {\n                    return this._bitmask || (this._bitmask = ECS.instance.componentBitmaskMap.getCompound(components));\n                },\n                set: function (bitmask) {\n                    this._bitmask = bitmask;\n                }\n            });\n            return constructor;\n        };\n    };\n    ECS.Entity = function () {\n        var components = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            components[_i] = arguments[_i];\n        }\n        return function (constructor) {\n            Object.defineProperty(constructor.prototype, \"components\", {\n                get: function () {\n                    return this._components || (this._components = ECS.createComponentsFromDecorator(components));\n                },\n                set: function (components) {\n                    this._components = components;\n                }\n            });\n            return constructor;\n        };\n    };\n    Object.defineProperty(ECS, \"uuid\", {\n        get: function () {\n            return ECS.instance.ecm.uuid;\n        },\n        set: function (value) {\n            ECS.instance.ecm.uuid = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ECS, \"systemUpdateMethods\", {\n        get: function () {\n            return ECS.instance.scm.systemUpdateMethods;\n        },\n        set: function (methods) {\n            ECS.instance.scm.systemUpdateMethods = methods;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ECS, \"events\", {\n        get: function () {\n            return ECS.instance.events;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ECS;\n}());\nexports.ECS = ECS;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EntityComponentManager_1 = require(\"./EntityComponentManager\");\nvar EntitySystemManager_1 = require(\"./EntitySystemManager\");\nvar Component_1 = require(\"./Component\");\nvar EventEmitter = require(\"eventemitter3\");\nvar ECSBase = /** @class */ (function () {\n    function ECSBase() {\n        this.componentBitmaskMap = new Component_1.ComponentBitmaskMap();\n        this.events = new EventEmitter();\n        this.ecm = new EntityComponentManager_1.EntityComponentManager(this.componentBitmaskMap, this.events);\n        this.scm = new EntitySystemManager_1.EntitySystemManager(this.componentBitmaskMap, this.events);\n        this.registerEvents();\n    }\n    return ECSBase;\n}());\nexports.ECSBase = ECSBase;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ECS_1 = require(\"./ECS\");\nvar ENTITY_PROPERTIES = {\n    id: function () { return ECS_1.ECS.uuid(); },\n    components: function () { return this.components || Object.create(null); },\n    bitmask: function () { return 0; }\n};\nvar Entity = /** @class */ (function () {\n    function Entity(uuid) {\n        this.id = uuid || ENTITY_PROPERTIES.id();\n        this.components = ENTITY_PROPERTIES.components();\n        this.bitmask = ENTITY_PROPERTIES.bitmask();\n    }\n    Entity.prototype.getAll = function () {\n        return this.components;\n    };\n    Entity.prototype.get = function (component) {\n        if (typeof component === 'string') {\n            return this.components[component];\n        }\n        return this.components[component.prototype.constructor.name];\n    };\n    Entity.prototype.has = function (component) {\n        if (typeof component === 'string') {\n            return !!this.components[component];\n        }\n        return !!this.components[component.prototype.constructor.name];\n    };\n    Entity.prototype.add = function (component) {\n        return ECS_1.ECS.addComponent(this, component);\n    };\n    Entity.prototype.remove = function (component) {\n        return ECS_1.ECS.removeComponent(this, component);\n    };\n    Entity.prototype.dispose = function () {\n        return ECS_1.ECS.removeEntity(this);\n    };\n    return Entity;\n}());\nexports.Entity = Entity;\nvar ENTITY_PROTOTYPE = {\n    get: function () { return Entity.prototype.get; },\n    getAll: function () { return Entity.prototype.getAll; },\n    has: function () { return Entity.prototype.has; },\n    add: function () { return Entity.prototype.add; },\n    remove: function () { return Entity.prototype.remove; },\n    dispose: function () { return Entity.prototype.dispose; },\n};\nexports.ENTITY_PROPERTY_DECORATOR = {};\nfunction injectEntity(entity) {\n    for (var propKey in ENTITY_PROPERTIES) {\n        if (entity[propKey] === undefined || entity[propKey] === null) {\n            entity[propKey] = ENTITY_PROPERTIES[propKey]();\n        }\n    }\n    for (var propKey in exports.ENTITY_PROPERTY_DECORATOR) {\n        if (entity[propKey] === undefined || entity[propKey] === null) {\n            exports.ENTITY_PROPERTY_DECORATOR[propKey](entity);\n        }\n    }\n    for (var protoKey in ENTITY_PROTOTYPE) {\n        if (entity.constructor && entity.constructor.prototype) {\n            if (entity.constructor.prototype[protoKey] === undefined || entity.constructor.prototype[protoKey] === null) {\n                entity.constructor.prototype[protoKey] = ENTITY_PROTOTYPE[protoKey]();\n            }\n        }\n        else {\n            if (entity[protoKey] === undefined || entity[protoKey] === null) {\n                entity[protoKey] = ENTITY_PROTOTYPE[protoKey]();\n            }\n        }\n    }\n}\nexports.injectEntity = injectEntity;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Component_1 = require(\"./Component\");\nvar Entity_1 = require(\"./Entity\");\nvar UUIDGenerator_1 = require(\"./UUIDGenerator\");\nvar Events_1 = require(\"./Events\");\n/**\n * The EntityComponentManager stores and manages all Entities and their components\n * Its also responsible for adding and removing components from and entity or creating/removing entities\n */\nvar EntityComponentManager = /** @class */ (function () {\n    function EntityComponentManager(componentBitmaskMap, events, uuid) {\n        if (uuid === void 0) { uuid = UUIDGenerator_1.UUIDGenerator.uuid; }\n        this._events = events;\n        this._uuid = uuid;\n        this.componentBitmask = componentBitmaskMap;\n        this._entities = Object.create(null);\n    }\n    /**\n     * Creates an Entity, adds it to the list of Entities but does not add it to the actual ECS\n     * @param entity\n     * @param components\n     */\n    EntityComponentManager.prototype.createEntity = function (entity, components) {\n        if (!entity) {\n            entity = new Entity_1.Entity();\n        }\n        Entity_1.injectEntity(entity);\n        entity.components = components || Object.create(null);\n        entity.bitmask = 0;\n        this.updateComponentBitmask(entity);\n        return entity;\n    };\n    EntityComponentManager.prototype.updateComponentBitmask = function (entity) {\n        var keys = Object.keys(entity.components);\n        for (var i = 0, component = void 0; component = entity.components[keys[i]]; i++) {\n            entity.bitmask = entity.bitmask | this.componentBitmask.get(component.id);\n        }\n    };\n    /**\n     * Adds the Entity with the provided Components(or existing ones) to the ECS,\n     * @param entity - Entity to add to the ECS\n     * @param components - Components for the entity, if provided this will override the current components of the entity\n     * @param silent - dispatch the entityAdded signal(If added silent the entity wont be added to an system)\n     * @param silentWorker - do not dispatch entity added worker - used to manage shared entities between WebWorkers\n     */\n    EntityComponentManager.prototype.addEntity = function (entity, components, silent, silentWorker) {\n        if (silent === void 0) { silent = false; }\n        if (silentWorker === void 0) { silentWorker = false; }\n        Entity_1.injectEntity(entity);\n        this._entities[entity.id] = entity;\n        entity.components = components || entity.components || Object.create(null);\n        entity.bitmask = entity.bitmask || 0;\n        this.updateComponentBitmask(entity);\n        if (!silent) {\n            this._events.emit(Events_1.ECM_EVENTS.ENTITY_ADDED, entity);\n        }\n        if (!silentWorker) {\n            this._events.emit(Events_1.ECM_WORKER_EVENTS.ENTITY_ADDED, entity);\n        }\n        return entity;\n    };\n    /**\n     * Updates entities, if the entity already exists the old and new components will be merged\n     * otherwise the entity will be added as a new entity\n     * @param entities\n     * @param silent\n     * @param silentWorker\n     */\n    EntityComponentManager.prototype.updateEntities = function (entities, silent, silentWorker) {\n        var keys = Object.keys(entities);\n        for (var i = 0, entity = void 0; entity = entities[keys[i]]; i++) {\n            var components = __assign({}, entity.components);\n            if (this.hasEntity(entity)) {\n                components = __assign({}, this._entities[entity.id].components, entity.components);\n            }\n            this.addEntity(new Entity_1.Entity(entity.id), components, true);\n        }\n        if (!silent) {\n            this._events.emit(Events_1.ECM_EVENTS.ENTITIES_UPDATED, entities);\n        }\n        if (!silentWorker) {\n            this._events.emit(Events_1.ECM_WORKER_EVENTS.ENTITIES_UPDATED, entities);\n        }\n    };\n    /**\n     * returns a list of entities that match the given bitmask\n     * @param bitmask\n     */\n    EntityComponentManager.prototype.getEntitiesByBitmask = function (bitmask) {\n        var entities = [];\n        var keys = Object.keys(this._entities);\n        for (var i = 0, entity = void 0; entity = this._entities[keys[i]]; i++) {\n            if ((entity.bitmask & bitmask) === bitmask) {\n                entities.push(entity);\n            }\n        }\n        return entities;\n    };\n    /**\n     * Return a list of entities with the specified components\n     * since we need to check all entities this can be quite slow\n     * @param components - list of components the entity needs to have\n     */\n    EntityComponentManager.prototype.getEntities = function () {\n        var components = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            components[_i] = arguments[_i];\n        }\n        var bitmask = 0;\n        for (var i = 0, component = void 0; component = components[i]; i++) {\n            bitmask = bitmask | this.componentBitmask.get(component);\n        }\n        var keys = Object.keys(this._entities);\n        var entities = [];\n        for (var i = 0, entity = void 0; entity = this._entities[keys[i]]; i++) {\n            if ((entity.bitmask & bitmask) === bitmask) {\n                entities.push(entity);\n            }\n        }\n        return entities;\n    };\n    /**\n     * @param entity - Entity to remove\n     * @param silent - do not dispatch onEntityRemoved Signal(Removing the Entity from the Systems)#\n     * @param silentWorker - do not dispatch WorkerEvent\n     * @returns {IEntity} - the removed Entity\n     */\n    EntityComponentManager.prototype.removeEntity = function (entity, silent, silentWorker) {\n        if (silent === void 0) { silent = false; }\n        if (this.hasEntity(entity)) {\n            if (!silent) {\n                this._events.emit(Events_1.ECM_EVENTS.ENTITY_REMOVED, entity);\n            }\n            if (!silentWorker) {\n                this._events.emit(Events_1.ECM_WORKER_EVENTS.ENTITY_REMOVED, entity);\n            }\n            delete this._entities[entity.id];\n            return entity;\n        }\n        return entity;\n    };\n    /**\n     * removes all Entities from the ecs\n     */\n    EntityComponentManager.prototype.removeAllEntities = function () {\n        var entities = [];\n        var keys = Object.keys(this._entities);\n        for (var i = 0, entity = void 0; entity = this._entities[keys[i]]; i++) {\n            entities.push(this.removeEntity(entity));\n        }\n        return entities;\n    };\n    /**\n     * Returns true if the entity is in the ECS\n     * @param entity\n     * @returns {boolean}\n     */\n    EntityComponentManager.prototype.hasEntity = function (entity) {\n        return !!this._entities[entity.id];\n    };\n    /**\n     * Adds a component to the Entity\n     * @param entity - Entity\n     * @param component - Component to add\n     * @param silent - If true this onComponentAdded signal is not dispatched and no system is updated\n     * @param silentWorker - if true no worker signal is dispatched\n     */\n    EntityComponentManager.prototype.addComponent = function (entity, component, silent, silentWorker) {\n        if (silent === void 0) { silent = false; }\n        Component_1.injectComponent(component);\n        entity.components[component.id] = component;\n        entity.bitmask = entity.bitmask | this.componentBitmask.get(component.id);\n        if (!silent && this.hasEntity(entity)) {\n            this._events.emit(Events_1.ECM_EVENTS.COMPONENT_ADDED, entity, component);\n        }\n        if (!silentWorker && this.hasEntity(entity)) {\n            this._events.emit(Events_1.ECM_WORKER_EVENTS.COMPONENT_ADDED, entity, component);\n        }\n    };\n    /**\n     * Removes a component from the Entity\n     * @param entity - Entity\n     * @param component - Component type to remove or the Id\n     * @param silent - if true the onComponentRemoved signal is not dispatched and no system will be updated\n     * @param silentWorker\n     * @returns {boolean}\n     */\n    EntityComponentManager.prototype.removeComponent = function (entity, component, silent, silentWorker) {\n        if (silent === void 0) { silent = false; }\n        var comp;\n        if (typeof component === 'string') {\n            comp = entity.components[component];\n        }\n        else {\n            comp = entity.components[component.prototype.constructor.name];\n        }\n        if (comp) {\n            entity.bitmask = entity.bitmask ^ this.componentBitmask.get(comp.id);\n            if (!silent && this.hasEntity(entity)) {\n                this._events.emit(Events_1.ECM_EVENTS.COMPONENT_REMOVED, entity, comp);\n            }\n            if (!silentWorker && this.hasEntity(entity)) {\n                this._events.emit(Events_1.ECM_WORKER_EVENTS.COMPONENT_REMOVED, entity, comp);\n            }\n            comp.remove();\n            return delete entity.components[comp.id];\n        }\n        return false;\n    };\n    Object.defineProperty(EntityComponentManager.prototype, \"entities\", {\n        get: function () {\n            return this._entities;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EntityComponentManager.prototype, \"uuid\", {\n        get: function () {\n            return this._uuid;\n        },\n        set: function (value) {\n            this._uuid = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EntityComponentManager.prototype, \"events\", {\n        get: function () {\n            return this._events;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return EntityComponentManager;\n}());\nexports.EntityComponentManager = EntityComponentManager;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ECSBase_1 = require(\"./ECSBase\");\nvar Events_1 = require(\"./Events\");\nvar Component_1 = require(\"./Component\");\nvar EntityComponentSystem = /** @class */ (function (_super) {\n    __extends(EntityComponentSystem, _super);\n    function EntityComponentSystem() {\n        var _this = _super.call(this) || this;\n        _this.workers = [];\n        _this.workerBitmasks = [];\n        return _this;\n    }\n    EntityComponentSystem.prototype.registerEvents = function () {\n        this.events.on(Events_1.ECM_EVENTS.ENTITY_ADDED, this.onEntityAdded.bind(this));\n        this.events.on(Events_1.ECM_EVENTS.ENTITY_REMOVED, this.onEntityRemoved.bind(this));\n        this.events.on(Events_1.ECM_EVENTS.COMPONENT_ADDED, this.onComponentAdded.bind(this));\n        this.events.on(Events_1.ECM_EVENTS.COMPONENT_REMOVED, this.onComponentRemoved.bind(this));\n        this.events.on(Events_1.ESM_EVENTS.SYSTEM_ADDED, this.onSystemAdded.bind(this));\n        this.events.on(Events_1.ECM_EVENTS.ENTITIES_UPDATED, this.onEntitiesUpdated.bind(this));\n        this.events.on(Events_1.ECM_WORKER_EVENTS.ENTITY_ADDED, this.onEntityAddedToWorker.bind(this));\n        this.events.on(Events_1.ECM_WORKER_EVENTS.ENTITY_REMOVED, this.onEntityRemovedFromWorker.bind(this));\n        this.events.on(Events_1.ECM_WORKER_EVENTS.COMPONENT_ADDED, this.onComponentAddedToWorker.bind(this));\n        this.events.on(Events_1.ECM_WORKER_EVENTS.COMPONENT_REMOVED, this.onComponentRemovedFromWorker.bind(this));\n        this.events.on(Events_1.ECM_WORKER_EVENTS.ENTITIES_UPDATED, this.onEntitiesUpdatedForWorker.bind(this));\n    };\n    EntityComponentSystem.prototype.onEntityAdded = function (entity) {\n        this.scm.updateEntity(entity);\n    };\n    EntityComponentSystem.prototype.onEntityAddedToWorker = function (entity) {\n        for (var i = 0, worker = void 0; worker = this.workers[i]; i++) {\n            if ((this.workerBitmasks[i] & entity.bitmask) !== 0) {\n                worker.postMessage({\n                    message: Events_1.ECM_WORKER_EVENTS.ENTITY_ADDED,\n                    entity: entity\n                });\n            }\n        }\n    };\n    EntityComponentSystem.prototype.onEntityRemoved = function (entity) {\n        this.scm.removeEntity(entity);\n    };\n    EntityComponentSystem.prototype.onEntityRemovedFromWorker = function (entity) {\n        for (var i = 0, worker = void 0; worker = this.workers[i]; i++) {\n            if ((this.workerBitmasks[i] & entity.bitmask) !== 0) {\n                worker.postMessage({\n                    message: Events_1.ECM_WORKER_EVENTS.ENTITY_REMOVED,\n                    entity: entity\n                });\n            }\n        }\n    };\n    EntityComponentSystem.prototype.onComponentAdded = function (entity) {\n        this.scm.updateEntity(entity);\n    };\n    EntityComponentSystem.prototype.onComponentAddedToWorker = function (entity, component) {\n        for (var i = 0, worker = void 0; worker = this.workers[i]; i++) {\n            if ((this.workerBitmasks[i] & entity.bitmask) !== 0) {\n                worker.postMessage({\n                    message: Events_1.ECM_WORKER_EVENTS.COMPONENT_ADDED,\n                    entity: entity,\n                    component: component\n                });\n            }\n        }\n    };\n    EntityComponentSystem.prototype.onEntitiesUpdated = function (entities) {\n        var keys = Object.keys(entities);\n        for (var i = 0, entity = void 0; entity = entities[keys[i]]; i++) {\n            this.scm.updateEntity(entity);\n        }\n    };\n    EntityComponentSystem.prototype.onEntitiesUpdatedForWorker = function (entities) {\n        var keys = Object.keys(entities);\n        for (var k = 0, worker = void 0; worker = this.workers[k]; k++) {\n            var workerEntities = {};\n            for (var i = 0, entity = void 0; entity = entities[keys[i]]; i++) {\n                if ((this.workerBitmasks[i] & entity.bitmask) !== 0) {\n                    workerEntities[entity.id] = entity;\n                }\n            }\n            if (Object.keys(workerEntities).length !== 0) {\n                worker.postMessage({\n                    message: Events_1.ECM_WORKER_EVENTS.ENTITIES_UPDATED,\n                    entities: workerEntities,\n                    bitmaskMap: this.componentBitmaskMap.bitmaskMap\n                });\n            }\n        }\n    };\n    EntityComponentSystem.prototype.onComponentRemoved = function (entity) {\n        this.scm.updateEntity(entity);\n    };\n    EntityComponentSystem.prototype.onComponentRemovedFromWorker = function (entity, component) {\n        for (var i = 0, worker = void 0; worker = this.workers[i]; i++) {\n            if ((this.workerBitmasks[i] & entity.bitmask) !== 0) {\n                worker.postMessage({\n                    message: Events_1.ECM_WORKER_EVENTS.COMPONENT_REMOVED,\n                    entity: entity,\n                    component: component\n                });\n            }\n        }\n    };\n    EntityComponentSystem.prototype.onSystemAdded = function (system) {\n        for (var id in this.ecm.entities) {\n            this.scm.updateEntity(this.ecm.entities[id], system);\n        }\n    };\n    EntityComponentSystem.prototype.sendEventToWorker = function (worker, message) {\n        worker.postMessage(message);\n    };\n    EntityComponentSystem.prototype.sendEventToAllWorkers = function (message) {\n        for (var i = 0, worker = void 0; worker = this.workers[i]; i++) {\n            worker.postMessage(message);\n        }\n    };\n    EntityComponentSystem.prototype.injectEntities = function (entities) {\n        var keys = Object.keys(entities);\n        for (var i = 0, entity = void 0; entity = entities[keys[i]]; i++) {\n            this.injectComponents(entity.components);\n        }\n    };\n    EntityComponentSystem.prototype.injectComponents = function (components) {\n        var keys = Object.keys(components);\n        for (var i = 0, component = void 0; component = components[keys[i]]; i++) {\n            this.injectComponent(component);\n        }\n    };\n    EntityComponentSystem.prototype.injectComponent = function (component) {\n        Component_1.injectComponent(component);\n    };\n    EntityComponentSystem.prototype.delegateWorkerEvents = function (ev) {\n        switch (ev.data.message) {\n            case Events_1.ECS_WORKER_EVENTS.INIT_WORKER:\n                this.sendInitEvent(ev.target);\n                break;\n            case Events_1.ECM_WORKER_EVENTS.ENTITY_ADDED:\n                this.injectComponents(ev.data.entity.components);\n                this.ecm.addEntity(ev.data.entity, ev.data.entity.components);\n                break;\n            case Events_1.ECM_WORKER_EVENTS.ENTITY_REMOVED:\n                this.injectComponents(ev.data.entity.components);\n                this.injectComponent(ev.data.component);\n                this.ecm.removeEntity(ev.data.entity);\n                break;\n            case Events_1.ECM_WORKER_EVENTS.COMPONENT_ADDED:\n                this.injectComponents(ev.data.entity.components);\n                this.injectComponent(ev.data.component);\n                this.ecm.addComponent(ev.data.entity, ev.data.component);\n                break;\n            case Events_1.ECM_WORKER_EVENTS.COMPONENT_REMOVED:\n                this.injectComponents(ev.data.entity.components);\n                this.injectComponent(ev.data.component);\n                this.ecm.removeComponent(ev.data.entity, ev.data.component.id);\n                break;\n            case Events_1.ESM_WORKER_EVENTS.SYSTEM_ADDED:\n                this.sendSystemEntitiesToWorker(ev);\n                break;\n            case Events_1.ECS_WORKER_EVENTS.UPDATE_WORKER:\n                this.injectEntities(ev.data.entities);\n                this.ecm.updateEntities(ev.data.entities);\n                break;\n        }\n    };\n    EntityComponentSystem.prototype.sendSystemEntitiesToWorker = function (ev) {\n        var index = this.workers.indexOf(ev.target);\n        if (index !== -1) {\n            this.workerBitmasks[index] = this.workerBitmasks[index] | ev.data.bitmask;\n            var entities = this.ecm.getEntitiesByBitmask(ev.data.bitmask);\n            this.sendEventToWorker(ev.target, {\n                message: Events_1.ESM_WORKER_EVENTS.SYSTEM_ADDED,\n                entities: entities,\n                bitmaskMap: this.componentBitmaskMap.bitmaskMap\n            });\n        }\n    };\n    EntityComponentSystem.prototype.sendInitEvent = function (worker) {\n        worker.postMessage({\n            message: Events_1.ECS_WORKER_EVENTS.INIT_WORKER,\n            bitmaskMap: this.componentBitmaskMap.bitmaskMap\n        });\n    };\n    EntityComponentSystem.prototype.registerWorker = function (worker) {\n        var _this = this;\n        worker.addEventListener(\"message\", function (ev) { return _this.delegateWorkerEvents(ev); });\n        this.sendInitEvent(worker);\n    };\n    EntityComponentSystem.prototype.addWorker = function (worker) {\n        if (this.workers.indexOf(worker) === -1) {\n            this.workers.push(worker);\n            this.workerBitmasks.push(0);\n            this.registerWorker(worker);\n        }\n    };\n    EntityComponentSystem.prototype.update = function (a1, a2, a3, a4, a5, a6, a7, a8, a9) {\n        this.scm.update(a1, a2, a3, a4, a5, a6, a7, a8, a9);\n        this.sendEventToAllWorkers({\n            message: Events_1.ECS_WORKER_EVENTS.UPDATE_WORKER,\n            args: [a1, a2, a3, a4, a5, a6, a7, a8, a9]\n        });\n    };\n    EntityComponentSystem.prototype.init = function (cb) {\n        throw \"init is only used by workers\";\n    };\n    return EntityComponentSystem;\n}(ECSBase_1.ECSBase));\nexports.EntityComponentSystem = EntityComponentSystem;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Component_1 = require(\"./Component\");\nvar Events_1 = require(\"./Events\");\nvar ECSBase_1 = require(\"./ECSBase\");\nvar EntityComponentWorker = /** @class */ (function (_super) {\n    __extends(EntityComponentWorker, _super);\n    function EntityComponentWorker() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EntityComponentWorker.prototype.registerEvents = function () {\n        var _this = this;\n        this.events.on(Events_1.ECM_EVENTS.ENTITY_ADDED, this.onEntityAdded.bind(this));\n        this.events.on(Events_1.ECM_EVENTS.ENTITY_REMOVED, this.onEntityRemoved.bind(this));\n        this.events.on(Events_1.ECM_EVENTS.COMPONENT_ADDED, this.onComponentAdded.bind(this));\n        this.events.on(Events_1.ECM_EVENTS.COMPONENT_REMOVED, this.onComponentRemoved.bind(this));\n        this.events.on(Events_1.ESM_EVENTS.SYSTEM_ADDED, this.onSystemAdded.bind(this));\n        this.events.on(Events_1.ECM_EVENTS.ENTITIES_UPDATED, this.onEntitiesUpdated.bind(this));\n        this.events.on(Events_1.ECM_WORKER_EVENTS.ENTITY_ADDED, this.onEntityAddedToWorker.bind(this));\n        this.events.on(Events_1.ECM_WORKER_EVENTS.ENTITY_REMOVED, this.onEntityRemovedFromWorker.bind(this));\n        this.events.on(Events_1.ECM_WORKER_EVENTS.COMPONENT_ADDED, this.onComponentAddedToWorker.bind(this));\n        this.events.on(Events_1.ECM_WORKER_EVENTS.COMPONENT_REMOVED, this.onComponentRemovedFromWorker.bind(this));\n        self.addEventListener(\"message\", function (ev) { return _this.delegateWorkerEvents(ev); });\n    };\n    EntityComponentWorker.prototype.onEntityAdded = function (entity) {\n        this.scm.updateEntity(entity);\n    };\n    EntityComponentWorker.prototype.onEntityAddedToWorker = function (entity) {\n        this.sendEventToMaster({\n            message: Events_1.ECM_WORKER_EVENTS.ENTITY_ADDED,\n            entity: entity\n        });\n    };\n    EntityComponentWorker.prototype.onEntityRemoved = function (entity) {\n        this.scm.removeEntity(entity);\n    };\n    EntityComponentWorker.prototype.onEntityRemovedFromWorker = function (entity) {\n        this.sendEventToMaster({\n            message: Events_1.ECM_WORKER_EVENTS.ENTITY_REMOVED,\n            entity: entity\n        });\n    };\n    EntityComponentWorker.prototype.onComponentAdded = function (entity) {\n        this.scm.updateEntity(entity);\n    };\n    EntityComponentWorker.prototype.onComponentAddedToWorker = function (entity, component) {\n        this.sendEventToMaster({\n            message: Events_1.ECM_WORKER_EVENTS.COMPONENT_ADDED,\n            entity: entity,\n            component: component\n        });\n    };\n    EntityComponentWorker.prototype.onComponentRemoved = function (entity) {\n        this.scm.updateEntity(entity);\n    };\n    EntityComponentWorker.prototype.onComponentRemovedFromWorker = function (entity, component) {\n        this.sendEventToMaster({\n            message: Events_1.ECM_WORKER_EVENTS.COMPONENT_REMOVED,\n            entity: entity,\n            component: component\n        });\n    };\n    EntityComponentWorker.prototype.onSystemAdded = function (system) {\n        for (var id in this.ecm.entities) {\n            this.scm.updateEntity(this.ecm.entities[id], system);\n        }\n        this.sendEventToMaster({\n            message: Events_1.ESM_WORKER_EVENTS.SYSTEM_ADDED,\n            id: system.id,\n            bitmask: system.bitmask,\n        });\n    };\n    EntityComponentWorker.prototype.onEntitiesUpdated = function (entities) {\n        var keys = Object.keys(entities);\n        for (var i = 0, entity = void 0; entity = entities[keys[i]]; i++) {\n            this.scm.updateEntity(entity);\n        }\n    };\n    EntityComponentWorker.prototype.sendEventToMaster = function (message) {\n        //@ts-ignore\n        self.postMessage(message);\n    };\n    EntityComponentWorker.prototype.triggerInit = function (ev) {\n        if (!this.initialized) {\n            this.componentBitmaskMap.set(ev.data.bitmaskMap);\n            this.initialized = true;\n            if (this.initcb) {\n                this.initcb();\n            }\n        }\n    };\n    EntityComponentWorker.prototype.injectComponents = function (components) {\n        var keys = Object.keys(components);\n        for (var i = 0, component = void 0; component = components[keys[i]]; i++) {\n            this.injectComponent(component);\n        }\n    };\n    EntityComponentWorker.prototype.injectComponent = function (component) {\n        Component_1.injectComponent(component);\n    };\n    EntityComponentWorker.prototype.delegateWorkerEvents = function (ev) {\n        switch (ev.data.message) {\n            case Events_1.ECS_WORKER_EVENTS.INIT_WORKER:\n                this.triggerInit(ev);\n                break;\n            case Events_1.ECS_WORKER_EVENTS.UPDATE_WORKER:\n                this.update.apply(this, ev.data.args);\n                break;\n            case Events_1.ECM_WORKER_EVENTS.ENTITY_ADDED:\n                this.injectComponents(ev.data.entity.components);\n                this.ecm.addEntity(ev.data.entity, ev.data.entity.components, false, true);\n                break;\n            case Events_1.ECM_WORKER_EVENTS.ENTITY_REMOVED:\n                this.injectComponents(ev.data.entity.components);\n                this.ecm.removeEntity(ev.data.entity, false, true);\n                break;\n            case Events_1.ECM_WORKER_EVENTS.COMPONENT_ADDED:\n                this.injectComponents(ev.data.entity.components);\n                this.injectComponent(ev.data.component);\n                this.ecm.addComponent(ev.data.entity, ev.data.component, false, true);\n                break;\n            case Events_1.ECM_WORKER_EVENTS.COMPONENT_REMOVED:\n                this.injectComponents(ev.data.entity.components);\n                this.injectComponent(ev.data.component);\n                this.ecm.removeComponent(ev.data.entity, ev.data.component.id, false, true);\n                break;\n            case Events_1.ESM_WORKER_EVENTS.SYSTEM_ADDED:\n                this.componentBitmaskMap.set(ev.data.bitmaskMap);\n                this.addEntitiesForSystem(ev.data.entities);\n                break;\n            case Events_1.ECM_WORKER_EVENTS.ENTITIES_UPDATED:\n                this.componentBitmaskMap.set(ev.data.bitmaskMap);\n                this.updateEntities(ev.data.entities);\n                break;\n        }\n    };\n    EntityComponentWorker.prototype.updateEntities = function (entities) {\n        var keys = Object.keys(entities);\n        for (var i = 0, entity = void 0; entity = entities[keys[i]]; i++) {\n            this.injectComponents(entity.components);\n        }\n        this.ecm.updateEntities(entities, false, true);\n    };\n    EntityComponentWorker.prototype.addEntitiesForSystem = function (entities) {\n        for (var i = 0, entity = void 0; entity = entities[i]; i++) {\n            this.injectComponents(entity.components);\n            this.ecm.addEntity(entity, entity.components, false, true);\n        }\n    };\n    EntityComponentWorker.prototype.addWorker = function (worker) {\n        throw \"WebWorkers can only be added to the main thread\";\n    };\n    EntityComponentWorker.prototype.update = function (a1, a2, a3, a4, a5, a6, a7, a8, a9) {\n        this.scm.update(a1, a2, a3, a4, a5, a6, a7, a8, a9);\n        this.sendEventToMaster({\n            message: Events_1.ECS_WORKER_EVENTS.UPDATE_WORKER,\n            entities: this.ecm.entities\n        });\n    };\n    EntityComponentWorker.prototype.init = function (cb) {\n        this.initcb = cb;\n        this.sendEventToMaster({\n            message: Events_1.ECS_WORKER_EVENTS.INIT_WORKER\n        });\n    };\n    return EntityComponentWorker;\n}(ECSBase_1.ECSBase));\nexports.EntityComponentWorker = EntityComponentWorker;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar System_1 = require(\"./System\");\nvar Events_1 = require(\"./Events\");\nvar EntitySystemManager = /** @class */ (function () {\n    function EntitySystemManager(componentBitmaskMap, events) {\n        this._events = events;\n        this._systemUpdateMethods = ['update'];\n        this.componentBitmask = componentBitmaskMap;\n        this.systems = Object.create(null);\n        this.ids = [];\n    }\n    /**\n     * update the system bitmask\n     * @param system\n     * @param componentMask\n     */\n    EntitySystemManager.prototype.updateBitmask = function (system, componentMask) {\n        if (componentMask === void 0) { componentMask = []; }\n        for (var i = 0, component = void 0; component = componentMask[i]; i++) {\n            system.bitmask = system.bitmask | this.componentBitmask.get(component);\n        }\n        return system;\n    };\n    /**\n     * Add the system to the ECS so its methods will be called by the update methods\n     * Before the existing entities get added into the system the setUp method is called\n     * @param system\n     * @param componentMask - componentBitmask for the System\n     * @param silent - if true the ECS wont be notified that a System got added to the ECS\n     */\n    EntitySystemManager.prototype.add = function (system, componentMask, silent) {\n        if (componentMask === void 0) { componentMask = []; }\n        if (silent === void 0) { silent = false; }\n        if (!this.has(system)) {\n            System_1.injectSystem(system, this.systemUpdateMethods);\n            this.systems[system.id] = system;\n            this.ids.push(system.id);\n            this.updateBitmask(system, componentMask);\n            system.setUp();\n            if (!silent) {\n                this._events.emit(Events_1.ESM_EVENTS.SYSTEM_ADDED, system);\n            }\n        }\n        else {\n            console.warn('System ' + system + ' already exists! And can only exists ones');\n        }\n        return system;\n    };\n    /**\n     * Checks if the system is in the ECS\n     * @param system\n     * @returns {boolean}\n     */\n    EntitySystemManager.prototype.has = function (system) {\n        return !!this.systems[system.id];\n    };\n    /**\n     * Checks if a system of the class exists in the ECS\n     * @param constructor\n     * @returns {boolean}\n     */\n    EntitySystemManager.prototype.hasOf = function (constructor) {\n        return !!this.systems[constructor.prototype.constructor.name];\n    };\n    /**\n     * Removes the system\n     * @param system\n     * @param silent\n     * @returns {boolean}\n     */\n    EntitySystemManager.prototype.remove = function (system, silent) {\n        if (silent === void 0) { silent = false; }\n        if (this.has(system)) {\n            if (!silent) {\n                this._events.emit(Events_1.ESM_EVENTS.SYSTEM_REMOVED, system);\n            }\n            system.tearDown();\n            this.ids.splice(this.ids.indexOf(system.id), 1);\n            return delete this.systems[system.id];\n        }\n        return false;\n    };\n    /**\n     * Removes the System of the provided type from the ECS\n     * @param constructor\n     * @param silent\n     * @returns {boolean}\n     */\n    EntitySystemManager.prototype.removeOf = function (constructor, silent) {\n        return this.remove(this.get(constructor), silent);\n    };\n    /**\n     * Returns entities for the system of the type if it exists in the ECS\n     * @param constructor\n     * @returns {undefined|Map<string, IEntity>}\n     */\n    EntitySystemManager.prototype.getEntitiesOf = function (constructor) {\n        var system = this.get(constructor);\n        if (system) {\n            return system.entities;\n        }\n        return undefined;\n    };\n    EntitySystemManager.prototype.getComponentMaskOf = function (constructor) {\n        var system = this.get(constructor);\n        if (system) {\n            return system.bitmask;\n        }\n        return undefined;\n    };\n    EntitySystemManager.prototype.get = function (constructor) {\n        return this.systems[constructor.prototype.constructor.name];\n    };\n    /**\n     * Adds the entity to the system, or adds it to all Systems\n     * @param entity\n     * @param system - optional system to add the entity to\n     */\n    EntitySystemManager.prototype.addEntity = function (entity, system) {\n        if (system) {\n            if (system.bitmask !== 0 && (entity.bitmask & system.bitmask) === system.bitmask) {\n                system.entityMap[entity.id] = system.entities.push(entity) - 1;\n                system.events.emit(Events_1.SYSTEM_EVENTS.ENTITY_ADDED, entity);\n            }\n        }\n        else {\n            var ids = this.ids;\n            var systems = this.systems;\n            for (var i = 0, system_1; system_1 = systems[ids[i]]; i++) {\n                this.addEntity(entity, system_1);\n            }\n        }\n    };\n    /**\n     * Removes an entity from the system or all systems\n     * @param entity\n     * @param system\n     */\n    EntitySystemManager.prototype.removeEntity = function (entity, system) {\n        if (system) {\n            var idx = system.entityMap[entity.id];\n            if (idx >= 0) {\n                system.entities.splice(idx, 1);\n                delete system.entityMap[entity.id];\n            }\n            system.events.emit(Events_1.SYSTEM_EVENTS.ENTITY_REMOVED, entity);\n        }\n        else {\n            var ids = this.ids;\n            var systems = this.systems;\n            for (var i = 0, system_2; system_2 = systems[ids[i]]; i++) {\n                this.removeEntity(entity, system_2);\n            }\n        }\n    };\n    /**\n     * Updates the Entity adds it to the right systems and removes it from systems if it does not fit anymore\n     * @param entity\n     * @param system - optional only update for for the given system(ether add or remove the entity from the system)\n     */\n    EntitySystemManager.prototype.updateEntity = function (entity, system) {\n        if (system) {\n            this.addEntityToSystem(system, entity);\n        }\n        else {\n            var ids = this.ids;\n            var systems = this.systems;\n            for (var i = 0, system_3; system_3 = systems[ids[i]]; i++) {\n                this.addEntityToSystem(system_3, entity);\n            }\n        }\n    };\n    EntitySystemManager.prototype.updateSystemEntity = function (entity, system) {\n        if (system.bitmask !== 0 && (entity.bitmask & system.bitmask) === system.bitmask) {\n            var idx = system.entityMap[entity.id];\n            system.entities[idx] = entity;\n        }\n    };\n    EntitySystemManager.prototype.addEntityToSystem = function (system, entity) {\n        if ((entity.bitmask & system.bitmask) === system.bitmask) {\n            if (!system.has(entity)) {\n                this.addEntity(entity, system);\n            }\n            else {\n                this.updateSystemEntity(entity, system);\n            }\n        }\n        else if (system.has(entity)) {\n            this.removeEntity(entity, system);\n        }\n    };\n    /**\n     * Calls the Method for all Systems and Subsystems\n     */\n    EntitySystemManager.prototype.callSystemMethod = function (id, a1, a2, a3, a4, a5, a6, a7, a8, a9) {\n        var ids = this.ids;\n        var systems = this.systems;\n        for (var i = 0, system = void 0; system = systems[ids[i]]; i++) {\n            system[id](a1, a2, a3, a4, a5, a6, a7, a8, a9);\n        }\n    };\n    /**\n     * Calls all system update methods for all system and child systems\n     */\n    EntitySystemManager.prototype.update = function (a1, a2, a3, a4, a5, a6, a7, a8, a9) {\n        for (var i = 0, method = void 0; method = this._systemUpdateMethods[i]; i++) {\n            this.callSystemMethod(method, a1, a2, a3, a4, a5, a6, a7, a8, a9);\n        }\n    };\n    /**\n     * Injects the SystemMethods into all systems if the methods does not exist a noop method will be added\n     */\n    EntitySystemManager.prototype.updateSystemMethods = function () {\n        var ids = this.ids;\n        var systems = this.systems;\n        var methods = this.systemUpdateMethods;\n        for (var i = 0, system = void 0; system = systems[ids[i]]; i++) {\n            System_1.injectSystem(system, methods);\n        }\n    };\n    Object.defineProperty(EntitySystemManager.prototype, \"events\", {\n        get: function () {\n            return this._events;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EntitySystemManager.prototype, \"systemUpdateMethods\", {\n        get: function () {\n            return this._systemUpdateMethods;\n        },\n        set: function (value) {\n            this._systemUpdateMethods = value;\n            this.updateSystemMethods();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return EntitySystemManager;\n}());\nexports.EntitySystemManager = EntitySystemManager;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ESM_EVENTS;\n(function (ESM_EVENTS) {\n    ESM_EVENTS[\"SYSTEM_ADDED\"] = \"entitySystemManager.systemAdded\";\n    ESM_EVENTS[\"SYSTEM_REMOVED\"] = \"entitySystemManager.systemRemoved\";\n})(ESM_EVENTS = exports.ESM_EVENTS || (exports.ESM_EVENTS = {}));\nvar SYSTEM_EVENTS;\n(function (SYSTEM_EVENTS) {\n    SYSTEM_EVENTS[\"ENTITY_ADDED\"] = \"system.entityAdded\";\n    SYSTEM_EVENTS[\"ENTITY_REMOVED\"] = \"system.entityRemoved\";\n})(SYSTEM_EVENTS = exports.SYSTEM_EVENTS || (exports.SYSTEM_EVENTS = {}));\nvar ECM_EVENTS;\n(function (ECM_EVENTS) {\n    ECM_EVENTS[\"ENTITY_ADDED\"] = \"entityComponentManager.entityAdded\";\n    ECM_EVENTS[\"ENTITY_REMOVED\"] = \"entityComponentManager.entityRemoved\";\n    ECM_EVENTS[\"ENTITIES_UPDATED\"] = \"entityComponentManager.entitiesUpdated\";\n    ECM_EVENTS[\"COMPONENT_ADDED\"] = \"entityComponentManager.componentAdded\";\n    ECM_EVENTS[\"COMPONENT_REMOVED\"] = \"entityComponentManager.componentRemoved\";\n})(ECM_EVENTS = exports.ECM_EVENTS || (exports.ECM_EVENTS = {}));\nvar ESM_WORKER_EVENTS;\n(function (ESM_WORKER_EVENTS) {\n    ESM_WORKER_EVENTS[\"SYSTEM_ADDED\"] = \"worker.entitySystemManager.systemAdded\";\n})(ESM_WORKER_EVENTS = exports.ESM_WORKER_EVENTS || (exports.ESM_WORKER_EVENTS = {}));\nvar ECM_WORKER_EVENTS;\n(function (ECM_WORKER_EVENTS) {\n    ECM_WORKER_EVENTS[\"ENTITY_ADDED\"] = \"worker.entityComponentManager.entityAdded\";\n    ECM_WORKER_EVENTS[\"ENTITY_REMOVED\"] = \"worker.entityComponentManager.entityRemoved\";\n    ECM_WORKER_EVENTS[\"ENTITIES_UPDATED\"] = \"worker.entityComponentManager.entitiesUpdated\";\n    ECM_WORKER_EVENTS[\"COMPONENT_ADDED\"] = \"worker.entityComponentManager.componentAdded\";\n    ECM_WORKER_EVENTS[\"COMPONENT_REMOVED\"] = \"worker.entityComponentManager.componentRemoved\";\n})(ECM_WORKER_EVENTS = exports.ECM_WORKER_EVENTS || (exports.ECM_WORKER_EVENTS = {}));\nvar ECS_WORKER_EVENTS;\n(function (ECS_WORKER_EVENTS) {\n    ECS_WORKER_EVENTS[\"INIT_WORKER\"] = \"worker.entityComponentSystem.init\";\n    ECS_WORKER_EVENTS[\"UPDATE_WORKER\"] = \"worker.entityComponentSystem.update\";\n})(ECS_WORKER_EVENTS = exports.ECS_WORKER_EVENTS || (exports.ECS_WORKER_EVENTS = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ECS_1 = require(\"./ECS\");\nvar InjectorService = /** @class */ (function () {\n    function InjectorService() {\n    }\n    Object.defineProperty(InjectorService, \"instance\", {\n        get: function () {\n            if (InjectorService._instance) {\n                return InjectorService._instance;\n            }\n            return InjectorService._instance = new InjectorService();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Injects an existing system into the class\n     * @param {{new(config?: {[p: string]: any}) => T}} system\n     * @returns {(target: Object, propKey: (number | string)) => void}\n     * @constructor\n     */\n    InjectorService.prototype.System = function (systems) {\n        return function (constructor) {\n            var wrapper = function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                return new (constructor.bind.apply(constructor, [void 0].concat(args)))();\n            };\n            var DecoratorInjector = function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                var object = wrapper.apply(this, args);\n                ECS_1.ECS.setPrototypeOf(object, Object.getPrototypeOf(this));\n                var keys = Object.keys(systems);\n                for (var i = 0, system = void 0; system = systems[keys[i]]; i++) {\n                    object[keys[i]] = ECS_1.ECS.getSystem(system);\n                }\n                return object;\n            };\n            DecoratorInjector.prototype = constructor.prototype;\n            return DecoratorInjector;\n        };\n    };\n    return InjectorService;\n}());\nexports.InjectorService = InjectorService;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ECS_1 = require(\"./ECS\");\nvar EventEmitter = require(\"eventemitter3\");\nexports.SYSTEM_PROPERTIES = {\n    entityMap: function () { return Object.create(null); },\n    entities: function () { return []; },\n    events: function () { return new EventEmitter(); }\n};\nvar System = /** @class */ (function () {\n    function System() {\n        this.entityMap = exports.SYSTEM_PROPERTIES.entityMap();\n        this.entities = exports.SYSTEM_PROPERTIES.entities();\n        this.events = exports.SYSTEM_PROPERTIES.events();\n    }\n    System.prototype.has = function (entity) {\n        return !!this.entities[this.entityMap[entity.id]];\n    };\n    System.prototype.remove = function (entity, fromECS) {\n        if (fromECS === void 0) { fromECS = true; }\n        if (fromECS) {\n            ECS_1.ECS.removeEntity(entity);\n        }\n        ECS_1.ECS.removeEntityFromSystem(entity, this);\n    };\n    System.prototype.dispose = function () {\n        ECS_1.ECS.removeSystem(this);\n    };\n    return System;\n}());\nexports.System = System;\nexports.SYSTEM_PROTOTYPE = {\n    setUp: function () { return ECS_1.ECS.noop; },\n    tearDown: function () { return ECS_1.ECS.noop; },\n    has: function () { return System.prototype.has; },\n    remove: function () { return System.prototype.remove; },\n    dispose: function () { return System.prototype.dispose; }\n};\nexports.SYSTEM_PROPERTY_DECORATOR = {};\nfunction injectSystem(system, updateMethods) {\n    for (var propKey in exports.SYSTEM_PROPERTIES) {\n        if (system[propKey] === undefined || system[propKey] === null) {\n            system[propKey] = exports.SYSTEM_PROPERTIES[propKey]();\n        }\n    }\n    for (var propKey in exports.SYSTEM_PROPERTY_DECORATOR) {\n        if (system[propKey] === undefined || system[propKey] === null) {\n            exports.SYSTEM_PROPERTY_DECORATOR[propKey](system);\n        }\n    }\n    for (var protoKey in exports.SYSTEM_PROTOTYPE) {\n        if (system.constructor && system.constructor.prototype) {\n            if (system.constructor.prototype[protoKey] === undefined || system.constructor.prototype[protoKey] === null) {\n                system.constructor.prototype[protoKey] = exports.SYSTEM_PROTOTYPE[protoKey]();\n            }\n        }\n        else {\n            if (system[protoKey] === undefined || system[protoKey] === null) {\n                system[protoKey] = exports.SYSTEM_PROTOTYPE[protoKey]();\n            }\n        }\n    }\n    for (var i = 0, protoKey = void 0; protoKey = updateMethods[i]; i++) {\n        if (system.constructor && system.constructor.prototype) {\n            if (system.constructor.prototype[protoKey] === undefined || system.constructor.prototype[protoKey] === null) {\n                system.constructor.prototype[protoKey] = ECS_1.ECS.noop;\n            }\n        }\n        else {\n            if (system[protoKey] === undefined || system[protoKey] === null) {\n                system[protoKey] = ECS_1.ECS.noop;\n            }\n        }\n    }\n}\nexports.injectSystem = injectSystem;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UUIDGenerator = {\n    uuid: function () { return (\"\" + 1e7 + -1e3 + -4e3 + -8e3 + -1e11).replace(/1|0/g, function () { return (0 | Math.random() * 16).toString(16); }); }\n};\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./Component\"));\n__export(require(\"./ECS\"));\n__export(require(\"./Entity\"));\n__export(require(\"./EntityComponentManager\"));\n__export(require(\"./EntitySystemManager\"));\n__export(require(\"./InjectorService\"));\n__export(require(\"./System\"));\n__export(require(\"./UUIDGenerator\"));\n__export(require(\"./Events\"));\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","\"use strict\";\n/*\n * This file contains code that was taken from, or heavily based upon, code\n * from the pixi.js project. Those sections are used under the terms of The\n * Pixi License, detailed below:\n *\n * The Pixi License\n *\n * Copyright (c) 2013-2016 Mathew Groves\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar GLBuffer = /** @class */ (function () {\n    function GLBuffer(gl, type, data, drawType) {\n        if (type === void 0) { type = gl.ARRAY_BUFFER; }\n        if (drawType === void 0) { drawType = gl.STATIC_DRAW; }\n        this.gl = gl;\n        this.type = type;\n        this.arrayBuffers = [];\n        this._byteLength = 0;\n        this.buffer = gl.createBuffer();\n        this.drawType = drawType;\n        if (data) {\n            this.upload(data);\n        }\n    }\n    /**\n     * Add Data to the MeshBuffermap that should be uploaded\n     * @param {ArrayBuffer | ArrayBufferView} data\n     */\n    GLBuffer.prototype.addData = function (data) {\n        this.arrayBuffers.push(data);\n        this._byteLength += data.byteLength;\n    };\n    /**\n     * Remove data from the MeshBuffermap\n     * @param {ArrayBuffer | ArrayBufferView} data\n     */\n    GLBuffer.prototype.removeData = function (data) {\n        var index = this.arrayBuffers.indexOf(data);\n        if (index > -1) {\n            var data_1 = this.arrayBuffers[index];\n            this._byteLength -= data_1.byteLength;\n            this.arrayBuffers.splice(index, 1);\n        }\n    };\n    /**\n     * Uploads the new data to the GPU and all the previous data\n     * @param data {ArrayBuffer|ArrayBufferView} an array of data to upload\n     */\n    GLBuffer.prototype.upload = function (data) {\n        if (data) {\n            this.addData(data);\n        }\n        this.bind();\n        var gl = this.gl;\n        gl.bufferData(this.type, this._byteLength, this.drawType);\n        var offset = 0;\n        for (var i = 0, data_2; (data_2 = this.arrayBuffers[i]); i++) {\n            gl.bufferSubData(this.type, offset, data_2);\n            offset += data_2.byteLength;\n        }\n        this.unbind();\n        return this._byteLength;\n    };\n    GLBuffer.prototype.bind = function () {\n        this.gl.bindBuffer(this.type, this.buffer);\n    };\n    GLBuffer.prototype.unbind = function () {\n        this.gl.bindBuffer(this.type, null);\n    };\n    GLBuffer.prototype.destroy = function () {\n        if (this.gl.isBuffer(this.buffer)) {\n            this.gl.deleteBuffer(this.buffer);\n        }\n        this.gl = null;\n        this.buffer = null;\n    };\n    Object.defineProperty(GLBuffer.prototype, \"byteLength\", {\n        /**\n         * sum of the ByteLength of all ArrayBuffers stored in this GLBuffer\n         * @returns {number}\n         */\n        get: function () {\n            return this._byteLength;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GLBuffer.prototype, \"length\", {\n        /**\n         * Length of the ArrayBuffers stored in this MeshBuffermap\n         * @returns {number}\n         */\n        get: function () {\n            return this.arrayBuffers.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    GLBuffer.createVertexBuffer = function (gl, data, drawType) {\n        if (data === void 0) { data = null; }\n        if (drawType === void 0) { drawType = gl.STATIC_DRAW; }\n        return new GLBuffer(gl, gl.ARRAY_BUFFER, data, drawType);\n    };\n    GLBuffer.createIndexBuffer = function (gl, data, drawType) {\n        if (data === void 0) { data = null; }\n        if (drawType === void 0) { drawType = gl.STATIC_DRAW; }\n        return new GLBuffer(gl, gl.ELEMENT_ARRAY_BUFFER, data, drawType);\n    };\n    GLBuffer.create = function (gl, type, data, drawType) {\n        if (data === void 0) { data = null; }\n        if (drawType === void 0) { drawType = gl.STATIC_DRAW; }\n        return new GLBuffer(gl, type, data, drawType);\n    };\n    return GLBuffer;\n}());\nexports.GLBuffer = GLBuffer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar GLBuffer_1 = require(\"./GLBuffer\");\nvar GLVertexArrayObject_1 = require(\"./GLVertexArrayObject\");\nvar gl_matrix_1 = require(\"gl-matrix\");\n/**\n * Created by Soeren on 18.05.2017.\n */\nvar GLCube = /** @class */ (function () {\n    function GLCube(gl) {\n        this.gl = gl;\n        this.createVertexData();\n    }\n    GLCube.prototype.calcVertexData = function () {\n        var vertices = [1, 1, 1, 1, 1, -1, 1, -1, 1, 1, -1, -1, -1, -1, 1, -1, 1, 1, -1, 1, -1, -1, -1, -1];\n        var indices = [];\n        //right\n        indices[0] = 0;\n        indices[1] = 1;\n        indices[2] = 2;\n        indices[3] = 1;\n        indices[4] = 2;\n        indices[5] = 3;\n        //left\n        indices[6] = 4;\n        indices[7] = 5;\n        indices[8] = 6;\n        indices[9] = 4;\n        indices[10] = 6;\n        indices[11] = 7;\n        //top\n        indices[12] = 5;\n        indices[13] = 6;\n        indices[14] = 0;\n        indices[15] = 0;\n        indices[16] = 6;\n        indices[17] = 1;\n        //bottom\n        indices[18] = 7;\n        indices[19] = 2;\n        indices[20] = 3;\n        indices[21] = 7;\n        indices[22] = 2;\n        indices[23] = 4;\n        //back\n        indices[24] = 7;\n        indices[25] = 6;\n        indices[26] = 3;\n        indices[27] = 6;\n        indices[28] = 3;\n        indices[29] = 1;\n        //front\n        indices[30] = 5;\n        indices[31] = 4;\n        indices[32] = 0;\n        indices[33] = 0;\n        indices[34] = 4;\n        indices[35] = 2;\n        var a, b, c;\n        var fVertices = [];\n        for (var i = 0; i < indices.length; i += 3) {\n            a = gl_matrix_1.vec3.fromValues(vertices[indices[i] * 3], vertices[indices[i] * 3 + 1], vertices[indices[i] * 3 + 2]);\n            b = gl_matrix_1.vec3.fromValues(vertices[indices[i + 1] * 3], vertices[indices[i + 1] * 3 + 1], vertices[indices[i + 1] * 3 + 2]);\n            c = gl_matrix_1.vec3.fromValues(vertices[indices[i + 2] * 3], vertices[indices[i + 2] * 3 + 1], vertices[indices[i + 2] * 3 + 2]);\n            var ab = gl_matrix_1.vec3.create();\n            gl_matrix_1.vec3.subtract(ab, b, a);\n            var ac = gl_matrix_1.vec3.create();\n            gl_matrix_1.vec3.subtract(ac, c, a);\n            var normal = gl_matrix_1.vec3.create();\n            gl_matrix_1.vec3.cross(normal, ab, ac);\n            gl_matrix_1.vec3.normalize(normal, normal);\n            fVertices.push(a[0], a[1], a[2], normal[0], normal[1], normal[2]);\n            fVertices.push(b[0], b[1], b[2], normal[0], normal[1], normal[2]);\n            fVertices.push(c[0], c[1], c[2], normal[0], normal[1], normal[2]);\n        }\n        return new Float32Array(fVertices);\n    };\n    GLCube.prototype.createVertexData = function () {\n        var vertices = this.calcVertexData();\n        var indices = new Uint8Array(36);\n        for (var i = 0; i < 36; i++) {\n            indices[i] = i;\n        }\n        this._vertexBuffer = GLBuffer_1.GLBuffer.createVertexBuffer(this.gl, vertices, this.gl.STATIC_DRAW);\n        if (!this._vertexBuffer) {\n            throw 'Failed to create VertexBuffer Object';\n        }\n        this._indexBuffer = GLBuffer_1.GLBuffer.createIndexBuffer(this.gl, indices, this.gl.STATIC_DRAW);\n        if (!this._indexBuffer) {\n            throw 'Failed to create IndexBuffer Object!';\n        }\n        this._vertexArrayObject = new GLVertexArrayObject_1.GLVertexArrayObject(this.gl);\n        this.vertexArrayObject.setIndexBuffer(this._indexBuffer);\n    };\n    Object.defineProperty(GLCube.prototype, \"vertexBuffer\", {\n        get: function () {\n            return this._vertexBuffer;\n        },\n        set: function (value) {\n            this._vertexBuffer = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GLCube.prototype, \"indexBuffer\", {\n        get: function () {\n            return this._indexBuffer;\n        },\n        set: function (value) {\n            this._indexBuffer = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GLCube.prototype, \"vertexArrayObject\", {\n        get: function () {\n            return this._vertexArrayObject;\n        },\n        set: function (value) {\n            this._vertexArrayObject = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    GLCube.prototype.draw = function () {\n        this.vertexArrayObject.bind();\n        this.gl.drawElements(this.gl.TRIANGLES, GLCube.INDEX_LENGTH, this.gl.UNSIGNED_BYTE, 0);\n        this.vertexArrayObject.unbind();\n    };\n    GLCube.INDEX_LENGTH = 36;\n    return GLCube;\n}());\nexports.GLCube = GLCube;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar GLTexture_1 = require(\"./GLTexture\");\nvar GLCubemap = /** @class */ (function (_super) {\n    __extends(GLCubemap, _super);\n    function GLCubemap(gl, textureID, width, height, internalFormat, format, type) {\n        if (textureID === void 0) { textureID = 0; }\n        if (width === void 0) { width = -1; }\n        if (height === void 0) { height = -1; }\n        if (internalFormat === void 0) { internalFormat = gl.RGBA; }\n        if (format === void 0) { format = gl.RGBA; }\n        if (type === void 0) { type = gl.UNSIGNED_BYTE; }\n        var _this = _super.call(this, gl, textureID, width, height, internalFormat, format, type) || this;\n        _this.gl = gl;\n        _this._textureID = textureID;\n        _this._texture = gl.createTexture();\n        _this.mipmap = false;\n        _this.premultiplyAlpha = false;\n        _this._width = width;\n        _this._height = height;\n        _this.format = format;\n        _this.type = type;\n        return _this;\n    }\n    /**\n     * Uploads this texture to the GPU\n     * @param source {HTMLImageElement|ImageData|HTMLVideoElement}\n     * @param flip - {boolean} flip the texture\n     * @param face {number}\n     * @param level {number} mipmap level\n     */\n    GLCubemap.prototype.upload = function (source, flip, face, level) {\n        if (flip === void 0) { flip = false; }\n        if (face === void 0) { face = 0; }\n        if (level === void 0) { level = 0; }\n        this.bind();\n        var gl = this.gl;\n        gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this.premultiplyAlpha);\n        gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, flip);\n        gl.texImage2D(gl.TEXTURE_CUBE_MAP_POSITIVE_X + face, level, this.internalformat, this.format, this.type, source);\n        if (level === 0) {\n            this._width = source.width;\n            this._height = source.height;\n        }\n        this.unbind();\n    };\n    /**\n     * Use a data source and uploads this texture to the GPU\n     * @param data {TypedArray} data to upload to the texture\n     * @param width {number} new width of the texture\n     * @param height {number} new height of the texture\n     * @param flip - {boolean} flip the texture\n     * @param face {number}\n     */\n    GLCubemap.prototype.uploadData = function (data, face, width, height, flip, level) {\n        if (width === void 0) { width = this._width; }\n        if (height === void 0) { height = this._height; }\n        if (flip === void 0) { flip = false; }\n        if (level === void 0) { level = 0; }\n        this.bind();\n        var gl = this.gl;\n        gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this.premultiplyAlpha);\n        gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, flip);\n        gl.texImage2D(gl.TEXTURE_CUBE_MAP_POSITIVE_X + face, level, this.internalformat, width, height, 0, this.format, this.type, data || null);\n        if (level === 0) {\n            this._width = width;\n            this._height = height;\n        }\n        this.unbind();\n    };\n    /**\n     * Binds the texture\n     * @param location\n     */\n    GLCubemap.prototype.bind = function (location) {\n        if (location === void 0) { location = this._textureID; }\n        var gl = this.gl;\n        if (location !== undefined) {\n            gl.activeTexture(gl.TEXTURE0 + location);\n        }\n        gl.bindTexture(gl.TEXTURE_CUBE_MAP, this._texture);\n        return this;\n    };\n    GLCubemap.prototype.unbind = function (location) {\n        if (location === void 0) { location = this._textureID; }\n        var gl = this.gl;\n        if (location !== undefined) {\n            gl.activeTexture(gl.TEXTURE0 + location);\n        }\n        gl.bindTexture(gl.TEXTURE_CUBE_MAP, null);\n        return this;\n    };\n    /**\n     * Enables linear filtering\n     */\n    GLCubemap.prototype.enableLinearScaling = function () {\n        this.minFilter(true);\n        this.magFilter(true);\n    };\n    /**\n     * Enabled nearest neighbour interpolation\n     */\n    GLCubemap.prototype.enableNearestScaling = function () {\n        this.minFilter(false);\n        this.magFilter(false);\n    };\n    /**\n     * @param linear {boolean} if we want to use linear filtering or nearest neighbour interpolation\n     */\n    GLCubemap.prototype.minFilter = function (linear) {\n        this.bind();\n        var gl = this.gl;\n        if (this.mipmap) {\n            gl.texParameteri(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_MIN_FILTER, linear ? gl.LINEAR_MIPMAP_LINEAR : gl.NEAREST_MIPMAP_NEAREST);\n        }\n        else {\n            gl.texParameteri(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_MIN_FILTER, linear ? gl.LINEAR : gl.NEAREST);\n        }\n        this.unbind();\n    };\n    /**\n     * @param linear {boolean} if we want to use linear or nearest neighbour interpolation\n     */\n    GLCubemap.prototype.magFilter = function (linear) {\n        var gl = this.gl;\n        this.bind();\n        gl.texParameteri(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_MAG_FILTER, linear ? gl.LINEAR : gl.NEAREST);\n        this.unbind();\n    };\n    /**\n     * Enables mipmapping\n     */\n    GLCubemap.prototype.enableMipmap = function () {\n        var gl = this.gl;\n        this.bind();\n        this.mipmap = true;\n        gl.generateMipmap(gl.TEXTURE_CUBE_MAP);\n        this.unbind();\n    };\n    /**\n     * Enables clamping on the texture wo WebGL will not repeat it\n     */\n    GLCubemap.prototype.enableWrapClamp = function () {\n        var gl = this.gl;\n        this.bind();\n        gl.texParameteri(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_WRAP_R, gl.CLAMP_TO_EDGE);\n        this.unbind();\n    };\n    /**\n     * Enable tiling on the texture\n     */\n    GLCubemap.prototype.enableWrapRepeat = function () {\n        var gl = this.gl;\n        this.bind();\n        gl.texParameteri(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_WRAP_S, gl.REPEAT);\n        gl.texParameteri(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_WRAP_T, gl.REPEAT);\n        gl.texParameteri(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_WRAP_R, gl.REPEAT);\n        this.unbind();\n    };\n    GLCubemap.prototype.enableWrapMirrorRepeat = function () {\n        var gl = this.gl;\n        this.bind();\n        gl.texParameteri(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_WRAP_S, gl.MIRRORED_REPEAT);\n        gl.texParameteri(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_WRAP_T, gl.MIRRORED_REPEAT);\n        gl.texParameteri(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_WRAP_R, gl.MIRRORED_REPEAT);\n        this.unbind();\n    };\n    /**\n     * Destroys this texture\n     */\n    GLCubemap.prototype.destroy = function () {\n        var gl = this.gl;\n        gl.deleteTexture(this._texture);\n    };\n    Object.defineProperty(GLCubemap.prototype, \"width\", {\n        get: function () {\n            return this._width;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GLCubemap.prototype, \"height\", {\n        get: function () {\n            return this._height;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * create CubeMap from source data\n     * @param gl\n     * @param source - the src\n     * @param flip - flip the texture default: false\n     * @param premultiplyAlpha - premultiplyAlpha\n     * @param textureID - textureID\n     * @param internalformat\n     * @param format\n     * @param type\n     */\n    GLCubemap.cubemapFromSource = function (gl, source, flip, premultiplyAlpha, textureID, internalformat, format, type) {\n        if (flip === void 0) { flip = false; }\n        if (premultiplyAlpha === void 0) { premultiplyAlpha = false; }\n        if (textureID === void 0) { textureID = 0; }\n        var cubemap = new GLCubemap(gl, textureID, null, null, internalformat, format, type);\n        var sources = [].concat(source);\n        cubemap.premultiplyAlpha = premultiplyAlpha;\n        var mipLevels = Math.floor(sources.length / 6);\n        for (var j = 0; j < mipLevels; j++) {\n            for (var i = 0; i < 6; i++) {\n                cubemap.upload(sources[j * 6 + i], flip, i, j);\n            }\n        }\n        if (GLTexture_1.GLTexture.isPowerOf2(sources[0].width) && GLTexture_1.GLTexture.isPowerOf2(sources[0].height)) {\n            cubemap.enableMipmap();\n            cubemap.enableWrapRepeat();\n        }\n        else {\n            cubemap.enableWrapClamp();\n        }\n        cubemap.enableLinearScaling();\n        return cubemap;\n    };\n    GLCubemap.cubemapFromData = function (gl, data, width, height, flip, textureID, internalformat, format, type) {\n        if (flip === void 0) { flip = false; }\n        if (textureID === void 0) { textureID = 0; }\n        var cubemap = new GLCubemap(gl, textureID, null, null, internalformat, format, type);\n        var sources = [].concat(data);\n        for (var i = 0; i < 6; i++) {\n            cubemap.uploadData(sources[i], i, width, height, flip);\n        }\n        return cubemap;\n    };\n    return GLCubemap;\n}(GLTexture_1.GLTexture));\nexports.GLCubemap = GLCubemap;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*\n * This file contains code that was taken from, or heavily based upon, code\n * from the pixi.js project. Those sections are used under the terms of The\n * Pixi License, detailed below:\n *\n * The Pixi License\n *\n * Copyright (c) 2013-2016 Mathew Groves\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nvar GLTexture_1 = require(\"./GLTexture\");\nvar GLFramebuffer = /** @class */ (function () {\n    function GLFramebuffer(gl, width, height) {\n        if (width === void 0) { width = 512; }\n        if (height === void 0) { height = 512; }\n        this.drawBuffers = [];\n        this.gl = gl;\n        this.width = width;\n        this.height = height;\n        this.framebuffer = gl.createFramebuffer();\n        this.renderbuffer = null;\n        this._textures = [];\n    }\n    GLFramebuffer.prototype.checkStatus = function () {\n        var gl = this.gl;\n        var status = gl.checkFramebufferStatus(gl.FRAMEBUFFER);\n        switch (status) {\n            case gl.FRAMEBUFFER_COMPLETE:\n                return true;\n            case gl.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:\n                console.warn('Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_ATTACHMENT');\n                return false;\n            case gl.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:\n                console.warn('Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT');\n                return false;\n            case gl.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:\n                console.warn('Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_DIMENSIONS');\n                return false;\n            case gl.FRAMEBUFFER_UNSUPPORTED:\n                console.warn('Incomplete framebuffer: FRAMEBUFFER_UNSUPPORTED');\n                return false;\n            default:\n                console.warn('Incomplete framebuffer: ' + status);\n                return false;\n        }\n    };\n    /**\n     * Creates a frame buffer with a texture containing the given data\n     *\n     * @static\n     * @param {WebGL2RenderingContext} gl - The current WebGL rendering context\n     * @param {number} width - the width of the drawing area of the frame buffer\n     * @param {number} height - the height of the drawing area of the frame buffer\n     * @param {number} textureID - texture target\n     * @param {number} attachment - COLOR_ATTACHMENT\n     * @param {number} internalformat\n     * @param {number} format\n     * @param {number} type\n     * @return {GLFramebuffer} The new framebuffer.\n     */\n    GLFramebuffer.createRGBA = function (gl, width, height, textureID, attachment, internalformat, format, type) {\n        if (textureID === void 0) { textureID = 0; }\n        if (attachment === void 0) { attachment = gl.COLOR_ATTACHMENT0; }\n        return GLFramebuffer.createFloat32(gl, width, height, null, textureID, attachment, internalformat, format, type);\n    };\n    /**\n     * Creates a frame buffer with a texture containing the given data\n     *\n     * @static\n     * @param {WebGL2RenderingContext} gl - The current WebGL rendering context\n     * @param {number} width - the width of the drawing area of the frame buffer\n     * @param {number} height - the height of the drawing area of the frame buffer\n     * @param {ArrayBuffer|SharedArrayBuffer|ArrayBufferView} data - an array of data\n     * @param {number} textureID - texture target\n     * @param {number} attachment - COLOR_ATTACHMENT\n     * @param {number} internalformat\n     * @param {number} format\n     * @param {number} type\n     * @return {GLFramebuffer} The new framebuffer.\n     */\n    GLFramebuffer.createFloat32 = function (gl, width, height, data, textureID, attachment, internalformat, format, type) {\n        if (textureID === void 0) { textureID = 0; }\n        if (attachment === void 0) { attachment = gl.COLOR_ATTACHMENT0; }\n        var texture = GLTexture_1.GLTexture.fromData(gl, data, width, height, textureID, internalformat, format, type);\n        texture.enableNearestScaling();\n        texture.enableWrapClamp();\n        // now create the framebuffer object and attach the texture to it.\n        var fbo = new GLFramebuffer(gl, width, height);\n        fbo.addTargetTexture(texture, attachment);\n        fbo.unbind();\n        return fbo;\n    };\n    /**\n     * Adds a texture to the framebuffer.\n     * @param {GLTexture} texture - the texture to add.\n     * @param {Number} attachment - COLOR_ATTACHMENT\n     * @param {Number} face if used for 3d Textures\n     * @param {Boolean} setDrawBuffer - adds the attachment to the drawBuffer\n     */\n    GLFramebuffer.prototype.addTargetTexture = function (texture, attachment, face, setDrawBuffer) {\n        if (attachment === void 0) { attachment = this.gl.COLOR_ATTACHMENT0; }\n        if (setDrawBuffer === void 0) { setDrawBuffer = true; }\n        var gl = this.gl;\n        if (this._textures.indexOf(texture) > -1) {\n            this.bind();\n            return this;\n        }\n        this._textures.push(texture || new GLTexture_1.GLTexture(gl, 0));\n        var tex = this._textures[this._textures.length - 1].bind();\n        this.bind();\n        if (face || face === 0) {\n            gl.framebufferTexture2D(gl.FRAMEBUFFER, attachment, gl.TEXTURE_CUBE_MAP_POSITIVE_X + face, tex.texture, 0);\n        }\n        else {\n            gl.framebufferTexture2D(gl.FRAMEBUFFER, attachment, gl.TEXTURE_2D, tex.texture, 0);\n        }\n        if (setDrawBuffer) {\n            this.drawBuffers.push(attachment);\n            this.gl.drawBuffers(this.drawBuffers);\n        }\n        return this;\n    };\n    GLFramebuffer.prototype.setDrawBuffer = function (drawBuffers) {\n        if (drawBuffers === void 0) { drawBuffers = this.drawBuffers; }\n        this.gl.drawBuffers(drawBuffers);\n    };\n    /**\n     * Initialises the stencil buffer\n     */\n    GLFramebuffer.prototype.createRenderbuffer = function () {\n        if (this.renderbuffer) {\n            return null;\n        }\n        var gl = this.gl;\n        this.bind();\n        this.renderbuffer = gl.createRenderbuffer();\n        gl.bindRenderbuffer(gl.RENDERBUFFER, this.renderbuffer);\n        gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_STENCIL_ATTACHMENT, gl.RENDERBUFFER, this.renderbuffer);\n        gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_STENCIL, this.width, this.height);\n        this.unbind();\n        return this;\n    };\n    /**\n     * Erases the drawing area and fills it with a colour\n     *\n     * @param {number} r - the red value of the clearing colour\n     * @param {number} g - the green value of the clearing colour\n     * @param {number} b - the blue value of the clearing colour\n     * @param {number} a - the alpha value of the clearing colour\n     * @param {boolean} depthBuffer - clear DepthBuffer default: false\n     * @param {boolean} stencilBuffer - clear StencilBuffer default: false\n     */\n    GLFramebuffer.prototype.clear = function (r, g, b, a, depthBuffer, stencilBuffer) {\n        if (r === void 0) { r = 0; }\n        if (g === void 0) { g = 0; }\n        if (b === void 0) { b = 0; }\n        if (a === void 0) { a = 1; }\n        if (depthBuffer === void 0) { depthBuffer = false; }\n        if (stencilBuffer === void 0) { stencilBuffer = false; }\n        this.bind();\n        var gl = this.gl;\n        gl.clearColor(r, g, b, a);\n        if (depthBuffer && stencilBuffer) {\n            gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT | gl.STENCIL_BUFFER_BIT);\n        }\n        else if (depthBuffer) {\n            gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n        }\n        else if (stencilBuffer) {\n            gl.clear(gl.COLOR_BUFFER_BIT | gl.STENCIL_BUFFER_BIT);\n        }\n        else {\n            gl.clear(gl.COLOR_BUFFER_BIT);\n        }\n        return this;\n    };\n    /**\n     * Binds the frame buffer to the WebGL context\n     */\n    GLFramebuffer.prototype.bind = function (target) {\n        if (target === void 0) { target = this.gl.FRAMEBUFFER; }\n        var gl = this.gl;\n        for (var _i = 0, _a = this._textures; _i < _a.length; _i++) {\n            var texture = _a[_i];\n            texture.unbind();\n        }\n        gl.bindFramebuffer(target, this.framebuffer);\n        return this;\n    };\n    /**\n     * Unbinds the frame buffer to the WebGL context\n     */\n    GLFramebuffer.prototype.unbind = function (target) {\n        if (target === void 0) { target = this.gl.FRAMEBUFFER; }\n        this.gl.bindFramebuffer(target, null);\n        return this;\n    };\n    /**\n     * Resizes the drawing area of the buffer to the given width and height\n     *\n     * @param {number} width - the new width\n     * @param {number} height - the new height\n     */\n    GLFramebuffer.prototype.resize = function (width, height) {\n        var gl = this.gl;\n        this.width = width;\n        this.height = height;\n        for (var _i = 0, _a = this._textures; _i < _a.length; _i++) {\n            var texture = _a[_i];\n            texture.uploadData(null, width, height);\n        }\n        if (this.renderbuffer) {\n            // update the stencil buffer width and height\n            gl.bindRenderbuffer(gl.RENDERBUFFER, this.renderbuffer);\n            gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_STENCIL, width, height);\n        }\n        return this;\n    };\n    /**\n     * Destroys this buffer\n     */\n    GLFramebuffer.prototype.destroy = function () {\n        for (var _i = 0, _a = this._textures; _i < _a.length; _i++) {\n            var texture = _a[_i];\n            texture.destroy();\n        }\n        this.gl.deleteFramebuffer(this.framebuffer);\n        this.gl = undefined;\n        this.framebuffer = undefined;\n        this.renderbuffer = undefined;\n        this.drawBuffers.length = 0;\n        this._textures.length = 0;\n    };\n    GLFramebuffer.prototype.getTexture = function (idx) {\n        if (idx === void 0) { idx = 0; }\n        return this._textures[idx];\n    };\n    GLFramebuffer.prototype.setTexture = function (value, idx) {\n        if (idx === void 0) { idx = 0; }\n        this._textures[idx] = value;\n    };\n    Object.defineProperty(GLFramebuffer.prototype, \"texture\", {\n        get: function () {\n            return this._textures[0];\n        },\n        set: function (value) {\n            this._textures[0] = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GLFramebuffer.prototype, \"textures\", {\n        get: function () {\n            return this._textures;\n        },\n        set: function (value) {\n            this._textures = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return GLFramebuffer;\n}());\nexports.GLFramebuffer = GLFramebuffer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar GLBuffer_1 = require(\"./GLBuffer\");\nvar GLVertexArrayObject_1 = require(\"./GLVertexArrayObject\");\n/**\n * Created by Soeren on 12.02.2017.\n */\nvar GLQuad = /** @class */ (function () {\n    function GLQuad(gl) {\n        this.gl = gl;\n        this.createVertexData();\n    }\n    GLQuad.prototype.createVertexData = function () {\n        var vertices = new Float32Array([-1, 1, 0, 1, -1, -1, 0, 0, 1, 1, 1, 1, 1, -1, 1, 0]);\n        var indices = new Uint8Array(6);\n        indices[0] = 0;\n        indices[1] = 1;\n        indices[2] = 2;\n        indices[3] = 1;\n        indices[4] = 2;\n        indices[5] = 3;\n        this._vertexBuffer = GLBuffer_1.GLBuffer.createVertexBuffer(this.gl, vertices, this.gl.STATIC_DRAW);\n        if (!this._vertexBuffer) {\n            throw 'Failed to create VertexBuffer Object';\n        }\n        this._indexBuffer = GLBuffer_1.GLBuffer.createIndexBuffer(this.gl, indices, this.gl.STATIC_DRAW);\n        if (!this._indexBuffer) {\n            throw 'Failed to create IndexBuffer Object!';\n        }\n        this._vertexArrayObject = new GLVertexArrayObject_1.GLVertexArrayObject(this.gl);\n        this.vertexArrayObject.setIndexBuffer(this._indexBuffer);\n    };\n    Object.defineProperty(GLQuad.prototype, \"vertexBuffer\", {\n        get: function () {\n            return this._vertexBuffer;\n        },\n        set: function (value) {\n            this._vertexBuffer = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GLQuad.prototype, \"indexBuffer\", {\n        get: function () {\n            return this._indexBuffer;\n        },\n        set: function (value) {\n            this._indexBuffer = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GLQuad.prototype, \"vertexArrayObject\", {\n        get: function () {\n            return this._vertexArrayObject;\n        },\n        set: function (value) {\n            this._vertexArrayObject = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    GLQuad.prototype.draw = function () {\n        this.vertexArrayObject.bind();\n        this.gl.drawElements(this.gl.TRIANGLES, GLQuad.INDEX_LENGTH, this.gl.UNSIGNED_BYTE, 0);\n        this.vertexArrayObject.unbind();\n    };\n    GLQuad.INDEX_LENGTH = 6;\n    return GLQuad;\n}());\nexports.GLQuad = GLQuad;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar GLBuffer_1 = require(\"./GLBuffer\");\nvar GLVertexArrayObject_1 = require(\"./GLVertexArrayObject\");\nvar GLSphere = /** @class */ (function () {\n    function GLSphere(gl, radius, rings, sectors) {\n        if (radius === void 0) { radius = 1; }\n        if (rings === void 0) { rings = 12; }\n        if (sectors === void 0) { sectors = 12; }\n        this.gl = gl;\n        this.createVertexData(radius, rings, sectors);\n    }\n    GLSphere.prototype.createVertexData = function (radius, rings, sectors) {\n        var R = 1.0 / (rings - 1);\n        var S = 1.0 / (sectors - 1);\n        var vertexData = new Float32Array(rings * sectors * 8);\n        var indexData = new Uint32Array(rings * sectors * 6);\n        var index = 0;\n        for (var r = 0; r < rings; r++) {\n            for (var s = 0; s < sectors; s++) {\n                var x = Math.cos(2 * Math.PI * s * S) * Math.sin(Math.PI * r * R);\n                var y = Math.sin(-Math.PI / 2 + Math.PI * r * R);\n                var z = Math.sin(2 * Math.PI * s * S) * Math.sin(Math.PI * r * R);\n                vertexData[index++] = x * radius;\n                vertexData[index++] = y * radius;\n                vertexData[index++] = z * radius;\n                vertexData[index++] = x;\n                vertexData[index++] = y;\n                vertexData[index++] = z;\n                vertexData[index++] = s * S;\n                vertexData[index++] = r * R;\n            }\n        }\n        this._indexcount = 0;\n        for (var r = 0; r < rings - 1; r++) {\n            for (var s = 0; s < sectors - 1; s++) {\n                indexData[this._indexcount++] = r * sectors + s;\n                indexData[this._indexcount++] = (r + 1) * sectors + s;\n                indexData[this._indexcount++] = (r + 1) * sectors + (s + 1);\n                indexData[this._indexcount++] = r * sectors + s;\n                indexData[this._indexcount++] = (r + 1) * sectors + (s + 1);\n                indexData[this._indexcount++] = r * sectors + (s + 1);\n            }\n        }\n        this._vertexBuffer = GLBuffer_1.GLBuffer.createVertexBuffer(this.gl, vertexData, this.gl.STATIC_DRAW);\n        if (!this._vertexBuffer) {\n            throw 'Failed to create VertexBuffer Object';\n        }\n        this._indexBuffer = GLBuffer_1.GLBuffer.createIndexBuffer(this.gl, indexData, this.gl.STATIC_DRAW);\n        if (!this._indexBuffer) {\n            throw 'Failed to create IndexBuffer Object!';\n        }\n        this._vertexArrayObject = new GLVertexArrayObject_1.GLVertexArrayObject(this.gl);\n        this._vertexArrayObject.setIndexBuffer(this._indexBuffer);\n    };\n    GLSphere.prototype.draw = function () {\n        this.vertexArrayObject.bind();\n        this.gl.drawElements(this.gl.TRIANGLES, this._indexcount, this.gl.UNSIGNED_INT, 0);\n        this.vertexArrayObject.unbind();\n    };\n    Object.defineProperty(GLSphere.prototype, \"vertexBuffer\", {\n        get: function () {\n            return this._vertexBuffer;\n        },\n        set: function (value) {\n            this._vertexBuffer = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GLSphere.prototype, \"indexBuffer\", {\n        get: function () {\n            return this._indexBuffer;\n        },\n        set: function (value) {\n            this._indexBuffer = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GLSphere.prototype, \"vertexArrayObject\", {\n        get: function () {\n            return this._vertexArrayObject;\n        },\n        set: function (value) {\n            this._vertexArrayObject = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GLSphere.prototype, \"indexcount\", {\n        get: function () {\n            return this._indexcount;\n        },\n        set: function (value) {\n            this._indexcount = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return GLSphere;\n}());\nexports.GLSphere = GLSphere;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar GLConstants_1 = require(\"./constants/GLConstants\");\nvar GLTexture = /** @class */ (function () {\n    function GLTexture(gl, textureID, width, height, internalformat, format, type) {\n        if (textureID === void 0) { textureID = 0; }\n        if (width === void 0) { width = -1; }\n        if (height === void 0) { height = -1; }\n        if (internalformat === void 0) { internalformat = gl.RGBA; }\n        if (format === void 0) { format = gl.RGBA; }\n        if (type === void 0) { type = gl.UNSIGNED_BYTE; }\n        this.gl = gl;\n        this._textureID = textureID;\n        this._texture = gl.createTexture();\n        this.mipmap = false;\n        this._premultiplyAlpha = false;\n        this._width = width;\n        this._height = height;\n        this.internalformat = internalformat;\n        this.format = format;\n        this.type = type;\n        this.miplevel = 0;\n    }\n    /**\n     * Uploads this texture to the GPU\n     * @param source {HTMLImageElement|ImageData|HTMLVideoElement}\n     */\n    GLTexture.prototype.upload = function (source) {\n        this.bind();\n        var gl = this.gl;\n        gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this._premultiplyAlpha);\n        var newWidth = source.width;\n        var newHeight = source.height;\n        if (newHeight !== this._height || newWidth !== this._width) {\n            gl.texImage2D(gl.TEXTURE_2D, this.miplevel, this.internalformat, this.format, this.type, source);\n        }\n        else {\n            gl.texSubImage2D(gl.TEXTURE_2D, this.miplevel, 0, 0, this.format, this.type, source);\n        }\n        this._width = newWidth;\n        this._height = newHeight;\n        this.unbind();\n    };\n    /**\n     * Use a data source and uploads this texture to the GPU\n     * @param data {TypedArray} data to upload to the texture\n     * @param width {number} new width of the texture\n     * @param height {number} new height of the texture\n     */\n    GLTexture.prototype.uploadData = function (data, width, height) {\n        this.bind();\n        var gl = this.gl;\n        gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this._premultiplyAlpha);\n        if (width !== this._width || height !== this._height) {\n            gl.texImage2D(gl.TEXTURE_2D, this.miplevel, this.internalformat, width, height, 0, this.format, this.type, data || null);\n        }\n        else {\n            gl.texSubImage2D(gl.TEXTURE_2D, this.miplevel, 0, 0, width, height, this.format, this.type, data || null);\n        }\n        this._width = width;\n        this._height = height;\n        this.unbind();\n    };\n    /**\n     * Binds the texture\n     * @param location\n     */\n    GLTexture.prototype.bind = function (location) {\n        if (location === void 0) { location = this._textureID; }\n        var gl = this.gl;\n        if (location !== undefined) {\n            gl.activeTexture(gl.TEXTURE0 + location);\n        }\n        gl.bindTexture(gl.TEXTURE_2D, this._texture);\n        return this;\n    };\n    GLTexture.prototype.unbind = function (location) {\n        if (location === void 0) { location = this._textureID; }\n        var gl = this.gl;\n        if (location !== undefined) {\n            gl.activeTexture(gl.TEXTURE0 + location);\n        }\n        gl.bindTexture(gl.TEXTURE_2D, null);\n        return this;\n    };\n    /**\n     * @param linear {boolean} if we want to use linear filtering or nearest neighbour interpolation\n     */\n    GLTexture.prototype.minFilter = function (linear) {\n        this.bind();\n        var gl = this.gl;\n        if (this.mipmap) {\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, linear ? gl.LINEAR_MIPMAP_LINEAR : gl.NEAREST_MIPMAP_NEAREST);\n        }\n        else {\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, linear ? gl.LINEAR : gl.NEAREST);\n        }\n        this.unbind();\n    };\n    GLTexture.prototype.setMinFilter = function (filter) {\n        if (!this.mipmap &&\n            (filter === GLConstants_1.MIN_FILTER.LINEAR_MIPMAP_LINEAR ||\n                filter === GLConstants_1.MIN_FILTER.LINEAR_MIPMAP_NEAREST ||\n                filter === GLConstants_1.MIN_FILTER.NEAREST_MIPMAP_LINEAR ||\n                filter === GLConstants_1.MIN_FILTER.NEAREST_MIPMAP_NEAREST)) {\n            this.enableMipmap();\n        }\n        this.bind();\n        var gl = this.gl;\n        if (this.mipmap) {\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, filter);\n        }\n        else {\n            //If there is no mipamp e.g. non power of 2 use LINEAR or NEAREST\n            var linear = filter === GLConstants_1.MIN_FILTER.LINEAR || GLConstants_1.MIN_FILTER.LINEAR_MIPMAP_LINEAR || GLConstants_1.MIN_FILTER.LINEAR_MIPMAP_NEAREST;\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, linear ? gl.LINEAR : gl.NEAREST);\n        }\n        this.unbind();\n    };\n    /**\n     * @param linear {boolean} if we want to use linear or nearest neighbour interpolation\n     */\n    GLTexture.prototype.magFilter = function (linear) {\n        var gl = this.gl;\n        this.bind();\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, linear ? gl.LINEAR : gl.NEAREST);\n        this.unbind();\n    };\n    GLTexture.prototype.setMagFilter = function (filter) {\n        var gl = this.gl;\n        this.bind();\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, filter);\n        this.unbind();\n    };\n    /**\n     * Enables mipmapping\n     */\n    GLTexture.prototype.enableMipmap = function () {\n        if (GLTexture.isPowerOf2(this._width) &&\n            GLTexture.isPowerOf2(this._height) &&\n            (this.internalformat === this.gl.RGB || this.internalformat === this.gl.RGBA)) {\n            var gl = this.gl;\n            this.bind();\n            this.mipmap = true;\n            gl.generateMipmap(gl.TEXTURE_2D);\n            this.unbind();\n        }\n    };\n    /**\n     * Enables linear filtering\n     */\n    GLTexture.prototype.enableLinearScaling = function () {\n        this.minFilter(true);\n        this.magFilter(true);\n    };\n    /**\n     * Enabled nearest neighbour interpolation\n     */\n    GLTexture.prototype.enableNearestScaling = function () {\n        this.minFilter(false);\n        this.magFilter(false);\n    };\n    /**\n     * Enables clamping on the texture wo WebGL will not repeat it\n     */\n    GLTexture.prototype.enableWrapClamp = function () {\n        var gl = this.gl;\n        this.bind();\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n        this.unbind();\n    };\n    /**\n     * Enable tiling on the texture\n     */\n    GLTexture.prototype.enableWrapRepeat = function () {\n        var gl = this.gl;\n        this.bind();\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT);\n        this.unbind();\n    };\n    GLTexture.prototype.enableWrapMirrorRepeat = function () {\n        var gl = this.gl;\n        this.bind();\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.MIRRORED_REPEAT);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.MIRRORED_REPEAT);\n        this.unbind();\n    };\n    GLTexture.prototype.setWrapS = function (mode) {\n        var gl = this.gl;\n        this.bind();\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, mode);\n        this.unbind();\n    };\n    GLTexture.prototype.setWrapT = function (mode) {\n        var gl = this.gl;\n        this.bind();\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, mode);\n        this.unbind();\n    };\n    GLTexture.prototype.flipY = function (flip) {\n        var gl = this.gl;\n        this.bind();\n        gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, flip);\n        this.unbind();\n    };\n    /**\n     * Destroys this texture\n     */\n    GLTexture.prototype.destroy = function () {\n        var gl = this.gl;\n        gl.deleteTexture(this._texture);\n    };\n    GLTexture.isPowerOf2 = function (value) {\n        return (value & (value - 1)) === 0;\n    };\n    GLTexture.nextHighestPowerOfTwo = function (x) {\n        --x;\n        for (var i = 1; i < 32; i <<= 1) {\n            x = x | (x >> i);\n        }\n        return x + 1;\n    };\n    Object.defineProperty(GLTexture.prototype, \"textureID\", {\n        get: function () {\n            return this._textureID;\n        },\n        set: function (value) {\n            this._textureID = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GLTexture.prototype, \"texture\", {\n        get: function () {\n            return this._texture;\n        },\n        set: function (value) {\n            this._texture = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GLTexture.prototype, \"premultiplyAlpha\", {\n        get: function () {\n            return this._premultiplyAlpha;\n        },\n        set: function (value) {\n            this._premultiplyAlpha = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GLTexture.prototype, \"width\", {\n        get: function () {\n            return this._width;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GLTexture.prototype, \"height\", {\n        get: function () {\n            return this._height;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     *\n     * @param gl {WebGL2RenderingContext} the current webgl context\n     * @param source {HTMLImageElement|ImageData} the source image of the texture\n     * @param premultiplyAlpha {Boolean} If we want to use pre-multiplied alpha\n     * @param textureID {number} textureID to use multiple textures in a shader\n     * @param internalformat {number} optional interal format RGBA8,RGB16 etc.\n     * @param format {number} optional the Format to use for the texture RGBA etc.\n     * @param type {number} texture type GL_FLOAT etc\n     * @returns {GLTexture}\n     */\n    GLTexture.fromSource = function (gl, source, premultiplyAlpha, textureID, internalformat, format, type) {\n        if (premultiplyAlpha === void 0) { premultiplyAlpha = false; }\n        if (textureID === void 0) { textureID = 0; }\n        var texture = new GLTexture(gl, textureID, null, null, internalformat, format, type);\n        texture._premultiplyAlpha = premultiplyAlpha;\n        texture.upload(source);\n        return texture;\n    };\n    /**\n     * @param {WebGL2RenderingContext} gl - webgl context\n     * @param {Float32Array} data - data for the texture\n     * @param {number} width - width of the texture\n     * @param {number} height - height of the texture\n     * @param {number} textureID - textureID\n     * @param {number} internalformat - optional format to use RGBA,RGB etc.\n     * @param {number} format - optional format to use RGBA,RGB etc.\n     * @param {number} type - data type default: UNSIGNED_BYTE\n     * @param {boolean} premultiplyAlpha - If we want to use pre-multiplied alpha\n     * @returns {GLTexture}\n     */\n    GLTexture.fromData = function (gl, data, width, height, textureID, internalformat, format, type, premultiplyAlpha) {\n        if (textureID === void 0) { textureID = 0; }\n        var texture = new GLTexture(gl, textureID, null, null, internalformat, format, type);\n        texture._premultiplyAlpha = premultiplyAlpha;\n        texture.uploadData(data, width, height);\n        return texture;\n    };\n    return GLTexture;\n}());\nexports.GLTexture = GLTexture;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar GLUniformBufferObject = /** @class */ (function () {\n    function GLUniformBufferObject(gl, bindPoint, drawType) {\n        if (bindPoint === void 0) { bindPoint = 0; }\n        if (drawType === void 0) { drawType = gl.DYNAMIC_DRAW; }\n        this.gl = gl;\n        this.type = gl.UNIFORM_BUFFER;\n        this.buffer = gl.createBuffer();\n        this.items = {};\n        this.drawType = drawType;\n        this._bindingPoint = bindPoint;\n        this._byteLength = 0;\n    }\n    /**\n     * Add an item/property to the UBO\n     * make sure that the order of the items is right\n     */\n    GLUniformBufferObject.prototype.addItem = function (name, type, data) {\n        this.items[name] = { type: type, offset: 0, blockSize: 0, alignedByteLength: 0, data: data };\n    };\n    /**\n     * Add an block of items/properties to the UBO\n     * make sure the order is the same as in the shader\n     */\n    GLUniformBufferObject.prototype.addBlock = function (items) {\n        for (var i = 0, item = void 0; (item = items[i]); i++) {\n            this.addItem(item.name, item.type, item.data);\n        }\n    };\n    /**\n     * Update the item data\n     * @param name - name of the item\n     * @param data - new data\n     * @param updateGL -\n     */\n    GLUniformBufferObject.prototype.updateItem = function (name, data, updateGL) {\n        if (updateGL === void 0) { updateGL = false; }\n        this.items[name].data = data;\n        if (updateGL) {\n            this.updateGL(name);\n        }\n    };\n    GLUniformBufferObject.prototype.hasItem = function (name) {\n        return !!this.items[name];\n    };\n    GLUniformBufferObject.prototype.removeItem = function (name) {\n        delete this.items[name];\n        this.upload();\n    };\n    /**\n     * Update the Buffer for a single item\n     * @param name\n     */\n    GLUniformBufferObject.prototype.updateGL = function (name) {\n        var item = this.items[name];\n        if (item.data) {\n            this.bind();\n            this.gl.bufferSubData(this.type, item.offset, item.data);\n            this.unbind();\n        }\n    };\n    /**\n     * upload one buffer instead of adding multiple small items\n     * @param data - the buffer containing all values\n     * @param byteLength - the aligned componentTypeCount of the UBO\n     */\n    GLUniformBufferObject.prototype.uploadBuffer = function (byteLength, data, length) {\n        this._byteLength = byteLength;\n        var gl = this.gl;\n        this.bind();\n        gl.bufferData(this.type, this._byteLength, this.drawType);\n        if (data) {\n            gl.bufferSubData(this.type, 0, data, length);\n        }\n        this.unbind();\n        return this._byteLength;\n    };\n    /**\n     * Uploads all data to the gpu\n     */\n    GLUniformBufferObject.prototype.upload = function () {\n        this._byteLength = this.updateItemAlignment();\n        this.bind();\n        var gl = this.gl;\n        gl.bufferData(this.type, this._byteLength, this.drawType);\n        for (var i = 0, item = void 0; (item = this.items[i]); i++) {\n            if (item.data) {\n                gl.bufferSubData(this.type, item.offset, item.data);\n            }\n        }\n        this.unbind();\n        return this._byteLength;\n    };\n    GLUniformBufferObject.prototype.bindUBO = function (bindingPoint, offset, size) {\n        if (bindingPoint === void 0) { bindingPoint = this._bindingPoint; }\n        if (offset === void 0) { offset = 0; }\n        if (size === void 0) { size = this._byteLength; }\n        if (offset === 0 && size === this._byteLength) {\n            this.gl.bindBufferBase(this.type, bindingPoint, this.buffer);\n        }\n        else {\n            this.gl.bindBufferRange(this.type, bindingPoint, this.buffer, offset, size);\n        }\n    };\n    GLUniformBufferObject.prototype.bind = function () {\n        this.gl.bindBuffer(this.type, this.buffer);\n    };\n    GLUniformBufferObject.prototype.unbind = function () {\n        this.gl.bindBuffer(this.type, null);\n    };\n    GLUniformBufferObject.prototype.destroy = function () {\n        if (this.gl.isBuffer(this.buffer)) {\n            this.gl.deleteBuffer(this.buffer);\n        }\n        this.gl = null;\n        this.buffer = null;\n    };\n    GLUniformBufferObject.prototype.updateItemAlignment = function () {\n        var prevItem = null;\n        var byteLength = 0;\n        var keys = Object.keys(this.items);\n        for (var i = 0, item = void 0; (item = this.items[keys[i]]); i++) {\n            if (!item.data) {\n                continue;\n            }\n            var sizes = GLUniformBufferObject.TYPE_TO_SIZE[item.type];\n            item.alignment = item.alignedByteLength = sizes[0];\n            item.blockSize = sizes[1];\n            //check if array\n            if (item.data.byteLength !== item.blockSize) {\n                var length_1 = item.data.byteLength / item.blockSize;\n                item.alignedByteLength = item.alignment * length_1;\n            }\n            if (prevItem) {\n                item.offset = prevItem.alignedByteLength + prevItem.offset;\n            }\n            prevItem = item;\n            byteLength += item.alignedByteLength;\n        }\n        return byteLength;\n    };\n    Object.defineProperty(GLUniformBufferObject.prototype, \"bindingPoint\", {\n        get: function () {\n            return this._bindingPoint;\n        },\n        set: function (value) {\n            this._bindingPoint = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GLUniformBufferObject.prototype, \"byteLength\", {\n        get: function () {\n            return this._byteLength;\n        },\n        set: function (value) {\n            this._byteLength = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    GLUniformBufferObject.TYPE_TO_SIZE = {\n        float: [4, 4],\n        int: [4, 4],\n        bool: [4, 4],\n        boolean: [4, 4],\n        mat4: [64, 64],\n        mat3: [48, 48],\n        vec4: [16, 16],\n        vec3: [16, 12],\n        vec2: [8, 8],\n    };\n    return GLUniformBufferObject;\n}());\nexports.GLUniformBufferObject = GLUniformBufferObject;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar GLVertexArrayObject = /** @class */ (function () {\n    function GLVertexArrayObject(gl) {\n        this.gl = gl;\n        this.vao = this.gl.createVertexArray();\n        this.attributes = [];\n        this.dirty = false;\n    }\n    /**\n     * Binds the VAO, if its dirty it will initialize the attributes for the data\n     */\n    GLVertexArrayObject.prototype.bind = function () {\n        if (this.vao) {\n            this.gl.bindVertexArray(this.vao);\n            if (this.dirty) {\n                this.activate();\n                this.dirty = false;\n                this.bind();\n            }\n        }\n        return this;\n    };\n    /**\n     * Activates the vao,\n     * binds the data and applies the Attributes\n     */\n    GLVertexArrayObject.prototype.activate = function () {\n        var gl = this.gl;\n        var lastBuffer = null;\n        this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, null);\n        this.gl.bindBuffer(this.gl.ARRAY_BUFFER, null);\n        for (var i = 0, attribute = void 0; (attribute = this.attributes[i]); i++) {\n            if (lastBuffer !== attribute.buffer) {\n                //unbind previous buffer we dont want to apply the attribute to both buffers\n                if (lastBuffer) {\n                    lastBuffer.unbind();\n                }\n                //bind attribute buffer\n                attribute.buffer.bind();\n                //update lastBuffer\n                lastBuffer = attribute.buffer;\n            }\n            GLVertexArrayObject.setVertexAttribArray(gl, attribute);\n        }\n        if (lastBuffer) {\n            lastBuffer.unbind();\n        }\n        this.indexBuffer.bind();\n        return this;\n    };\n    /**\n     * Deactivates the non native VertexArrayObject\n     */\n    GLVertexArrayObject.prototype.deactivate = function () {\n        var gl = this.gl;\n        var lastBuffer = null;\n        for (var i = 0, attribute = void 0; (attribute = this.attributes[i]); i++) {\n            if (lastBuffer !== attribute.buffer) {\n                attribute.buffer.unbind();\n                lastBuffer = attribute.buffer;\n            }\n            GLVertexArrayObject.setVertexAttribArray(gl, attribute, true);\n        }\n        this.indexBuffer.unbind();\n        return this;\n    };\n    /**\n     * Unbind the VAO\n     */\n    GLVertexArrayObject.prototype.unbind = function (force) {\n        if (force === void 0) { force = false; }\n        if (this.vao) {\n            this.gl.bindVertexArray(null);\n        }\n        else if (!this.vao || force) {\n            this.deactivate();\n        }\n        return this;\n    };\n    GLVertexArrayObject.prototype.addAttribute = function (buffer, attribute, size, type, normalized, stride, offset, initialize) {\n        if (initialize === void 0) { initialize = true; }\n        this.attributes.push({\n            buffer: buffer,\n            attribute: attribute,\n            size: size,\n            type: type,\n            normalized: normalized,\n            stride: stride,\n            offset: offset,\n            initialize: initialize,\n        });\n        this.dirty = true;\n        return this;\n    };\n    GLVertexArrayObject.prototype.setIndexBuffer = function (buffer) {\n        this.indexBuffer = buffer;\n        return this;\n    };\n    GLVertexArrayObject.prototype.draw = function (mode, size, type, offset) {\n        var gl = this.gl;\n        gl.drawElements(mode, size, type, offset);\n        return this;\n    };\n    /**\n     * Removes all attributes from this vao\n     * and deactivates the GLAttributes\n     */\n    GLVertexArrayObject.prototype.clear = function () {\n        //Bind vao\n        if (this.vao) {\n            this.gl.bindVertexArray(this.vao);\n        }\n        //Remove attributes\n        this.deactivate();\n        //clear attributes\n        this.attributes.length = 0;\n        //Remove indexBuffer\n        this.indexBuffer = null;\n        //Unbind vao\n        if (this.vao) {\n            this.gl.bindVertexArray(null);\n        }\n    };\n    /**\n     * Clears the buffer the removes all references\n     * making it free for gc\n     */\n    GLVertexArrayObject.prototype.destroy = function () {\n        this.clear();\n        if (this.vao) {\n            this.gl.deleteVertexArray(this.vao);\n        }\n        this.gl = undefined;\n        this.indexBuffer = undefined;\n        this.attributes = undefined;\n        this.vao = undefined;\n    };\n    GLVertexArrayObject.setVertexAttribArrays = function (gl, attributes, unbind) {\n        if (unbind === void 0) { unbind = false; }\n        for (var i = 0, attribute = void 0; (attribute = attributes[i]); i++) {\n            GLVertexArrayObject.setVertexAttribArray(gl, attribute, unbind);\n        }\n    };\n    GLVertexArrayObject.setVertexAttribArray = function (gl, attribute, unbind) {\n        if (unbind === void 0) { unbind = false; }\n        if (attribute.initialize && attribute.attribute) {\n            gl.vertexAttribPointer(attribute.attribute.location, attribute.size, attribute.type, attribute.normalized, attribute.stride, attribute.offset);\n            attribute.initialize = false;\n        }\n        if (unbind && attribute.attribute) {\n            gl.disableVertexAttribArray(attribute.attribute.location);\n        }\n        else if (attribute.attribute) {\n            gl.enableVertexAttribArray(attribute.attribute.location);\n        }\n    };\n    return GLVertexArrayObject;\n}());\nexports.GLVertexArrayObject = GLVertexArrayObject;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar GL_TYPES;\n(function (GL_TYPES) {\n    GL_TYPES[GL_TYPES[\"BYTE\"] = 5120] = \"BYTE\";\n    GL_TYPES[GL_TYPES[\"UNSIGNED_BYTE\"] = 5121] = \"UNSIGNED_BYTE\";\n    GL_TYPES[GL_TYPES[\"SHORT\"] = 5122] = \"SHORT\";\n    GL_TYPES[GL_TYPES[\"UNSIGNED_SHORT\"] = 5123] = \"UNSIGNED_SHORT\";\n    GL_TYPES[GL_TYPES[\"INT\"] = 5124] = \"INT\";\n    GL_TYPES[GL_TYPES[\"UNSIGNED_INT\"] = 5125] = \"UNSIGNED_INT\";\n    GL_TYPES[GL_TYPES[\"FLOAT\"] = 5126] = \"FLOAT\";\n})(GL_TYPES = exports.GL_TYPES || (exports.GL_TYPES = {}));\nexports.GL_TYPES_BYTESIZE = {\n    0x1400: 1,\n    0x1401: 1,\n    0x1402: 2,\n    0x1403: 2,\n    0x1404: 4,\n    0x1405: 4,\n    0x1406: 4,\n};\nvar GL_PRIMITIVES;\n(function (GL_PRIMITIVES) {\n    GL_PRIMITIVES[\"POSITION\"] = \"POSITION\";\n    GL_PRIMITIVES[\"NORMAL\"] = \"NORMAL\";\n    GL_PRIMITIVES[\"TANGENT\"] = \"TANGENT\";\n    GL_PRIMITIVES[\"TEXCOORD_0\"] = \"TEXCOORD_0\";\n    GL_PRIMITIVES[\"TEXCOORD_1\"] = \"TEXCOORD_1\";\n    GL_PRIMITIVES[\"COLOR_0\"] = \"COLOR_0\";\n    GL_PRIMITIVES[\"JOINTS_0\"] = \"JOINTS_0\";\n    GL_PRIMITIVES[\"WEIGHTS_0\"] = \"WEIGHTS_0\";\n    GL_PRIMITIVES[\"JOINTS_1\"] = \"JOINTS_1\";\n    GL_PRIMITIVES[\"WEIGHTS_1\"] = \"WEIGHTS_1\";\n})(GL_PRIMITIVES = exports.GL_PRIMITIVES || (exports.GL_PRIMITIVES = {}));\nvar GL_BUFFERS;\n(function (GL_BUFFERS) {\n    GL_BUFFERS[GL_BUFFERS[\"STATIC_DRAW\"] = 35044] = \"STATIC_DRAW\";\n    GL_BUFFERS[GL_BUFFERS[\"STREAM_DRAW\"] = 35040] = \"STREAM_DRAW\";\n    GL_BUFFERS[GL_BUFFERS[\"DYNAMIC_DRAW\"] = 35048] = \"DYNAMIC_DRAW\";\n    GL_BUFFERS[GL_BUFFERS[\"ARRAY_BUFFER\"] = 34962] = \"ARRAY_BUFFER\";\n    GL_BUFFERS[GL_BUFFERS[\"ELEMENT_ARRAY_BUFFER\"] = 34963] = \"ELEMENT_ARRAY_BUFFER\";\n})(GL_BUFFERS = exports.GL_BUFFERS || (exports.GL_BUFFERS = {}));\nvar MAG_FILTER;\n(function (MAG_FILTER) {\n    MAG_FILTER[MAG_FILTER[\"NEAREST\"] = 9728] = \"NEAREST\";\n    MAG_FILTER[MAG_FILTER[\"LINEAR\"] = 9729] = \"LINEAR\";\n})(MAG_FILTER = exports.MAG_FILTER || (exports.MAG_FILTER = {}));\nvar MIN_FILTER;\n(function (MIN_FILTER) {\n    MIN_FILTER[MIN_FILTER[\"NEAREST\"] = 9728] = \"NEAREST\";\n    MIN_FILTER[MIN_FILTER[\"LINEAR\"] = 9729] = \"LINEAR\";\n    MIN_FILTER[MIN_FILTER[\"NEAREST_MIPMAP_NEAREST\"] = 9984] = \"NEAREST_MIPMAP_NEAREST\";\n    MIN_FILTER[MIN_FILTER[\"LINEAR_MIPMAP_NEAREST\"] = 9985] = \"LINEAR_MIPMAP_NEAREST\";\n    MIN_FILTER[MIN_FILTER[\"NEAREST_MIPMAP_LINEAR\"] = 9986] = \"NEAREST_MIPMAP_LINEAR\";\n    MIN_FILTER[MIN_FILTER[\"LINEAR_MIPMAP_LINEAR\"] = 9987] = \"LINEAR_MIPMAP_LINEAR\";\n})(MIN_FILTER = exports.MIN_FILTER || (exports.MIN_FILTER = {}));\nvar TEXTURE_WRAP;\n(function (TEXTURE_WRAP) {\n    TEXTURE_WRAP[TEXTURE_WRAP[\"CLAMP_TO_EDGE\"] = 33071] = \"CLAMP_TO_EDGE\";\n    TEXTURE_WRAP[TEXTURE_WRAP[\"MIRRORED_REPEAT\"] = 33648] = \"MIRRORED_REPEAT\";\n    TEXTURE_WRAP[TEXTURE_WRAP[\"REPEAT\"] = 10497] = \"REPEAT\";\n})(TEXTURE_WRAP = exports.TEXTURE_WRAP || (exports.TEXTURE_WRAP = {}));\nvar GL_INTERNALFORMAT;\n(function (GL_INTERNALFORMAT) {\n    GL_INTERNALFORMAT[GL_INTERNALFORMAT[\"RGB\"] = 6407] = \"RGB\";\n    GL_INTERNALFORMAT[GL_INTERNALFORMAT[\"RGBA\"] = 6408] = \"RGBA\";\n    GL_INTERNALFORMAT[GL_INTERNALFORMAT[\"R8\"] = 33321] = \"R8\";\n    GL_INTERNALFORMAT[GL_INTERNALFORMAT[\"R16F\"] = 33325] = \"R16F\";\n    GL_INTERNALFORMAT[GL_INTERNALFORMAT[\"R32F\"] = 33326] = \"R32F\";\n    GL_INTERNALFORMAT[GL_INTERNALFORMAT[\"R8UI\"] = 33330] = \"R8UI\";\n    GL_INTERNALFORMAT[GL_INTERNALFORMAT[\"RG8\"] = 33323] = \"RG8\";\n    GL_INTERNALFORMAT[GL_INTERNALFORMAT[\"RG16F\"] = 33327] = \"RG16F\";\n    GL_INTERNALFORMAT[GL_INTERNALFORMAT[\"RG\"] = 33319] = \"RG\";\n    GL_INTERNALFORMAT[GL_INTERNALFORMAT[\"RG32F\"] = 33328] = \"RG32F\";\n    GL_INTERNALFORMAT[GL_INTERNALFORMAT[\"RGB8\"] = 32849] = \"RGB8\";\n    GL_INTERNALFORMAT[GL_INTERNALFORMAT[\"SRGB\"] = 35904] = \"SRGB\";\n    GL_INTERNALFORMAT[GL_INTERNALFORMAT[\"SRGB8\"] = 35905] = \"SRGB8\";\n    GL_INTERNALFORMAT[GL_INTERNALFORMAT[\"SRGB8_ALPHA8\"] = 35907] = \"SRGB8_ALPHA8\";\n    GL_INTERNALFORMAT[GL_INTERNALFORMAT[\"RGB565\"] = 36194] = \"RGB565\";\n    GL_INTERNALFORMAT[GL_INTERNALFORMAT[\"R11F_G11F_B10F\"] = 35898] = \"R11F_G11F_B10F\";\n    GL_INTERNALFORMAT[GL_INTERNALFORMAT[\"RGB9_E5\"] = 35901] = \"RGB9_E5\";\n    GL_INTERNALFORMAT[GL_INTERNALFORMAT[\"RGB16F\"] = 34843] = \"RGB16F\";\n    GL_INTERNALFORMAT[GL_INTERNALFORMAT[\"RGB32F\"] = 34837] = \"RGB32F\";\n    GL_INTERNALFORMAT[GL_INTERNALFORMAT[\"RGB8UI\"] = 36221] = \"RGB8UI\";\n    GL_INTERNALFORMAT[GL_INTERNALFORMAT[\"RGBA8\"] = 32856] = \"RGBA8\";\n    GL_INTERNALFORMAT[GL_INTERNALFORMAT[\"RGB5_A1\"] = 32855] = \"RGB5_A1\";\n    GL_INTERNALFORMAT[GL_INTERNALFORMAT[\"RGBA16F\"] = 34842] = \"RGBA16F\";\n    GL_INTERNALFORMAT[GL_INTERNALFORMAT[\"RGBA32F\"] = 34836] = \"RGBA32F\";\n    GL_INTERNALFORMAT[GL_INTERNALFORMAT[\"RGBA8UI\"] = 36220] = \"RGBA8UI\";\n})(GL_INTERNALFORMAT = exports.GL_INTERNALFORMAT || (exports.GL_INTERNALFORMAT = {}));\n","\"use strict\";\n/**\n * @file Automatically generated by barrelsby.\n */\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./GLConstants\"));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*\n * This file contains code that was taken from, or heavily based upon, code\n * from the pixi.js project. Those sections are used under the terms of The\n * Pixi License, detailed below:\n *\n * The Pixi License\n *\n * Copyright (c) 2013-2016 Mathew Groves\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n */\nfunction booleanArray(size) {\n    var array = new Array(size);\n    for (var i = 0; i < array.length; i++) {\n        array[i] = false;\n    }\n    return array;\n}\nfunction value(type, size) {\n    switch (type) {\n        case 'float':\n            return 0;\n        case 'vec2':\n            return new Float32Array(2 * size);\n        case 'vec3':\n            return new Float32Array(3 * size);\n        case 'vec4':\n            return new Float32Array(4 * size);\n        case 'int':\n        case 'samplerCube':\n        case 'sampler2D':\n            return 0;\n        case 'ivec2':\n            return new Int32Array(2 * size);\n        case 'ivec3':\n            return new Int32Array(3 * size);\n        case 'ivec4':\n            return new Int32Array(4 * size);\n        case 'bool':\n            return false;\n        case 'bvec2':\n            return booleanArray(2 * size);\n        case 'bvec3':\n            return booleanArray(3 * size);\n        case 'bvec4':\n            return booleanArray(4 * size);\n        case 'mat2':\n            return new Float32Array([1, 0, 0, 1]);\n        case 'mat3':\n            return new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]);\n        case 'mat4':\n            return new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]);\n        default:\n            console.warn('no default value for type ', type);\n    }\n}\nexports.value = value;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction glGetStates(gl) {\n    return {\n        BLEND: gl.BLEND,\n        DEPTH_TEST: gl.DEPTH_TEST,\n        DITHER: gl.DITHER,\n        SCISSOR_TEST: gl.SCISSOR_TEST,\n        STENCIL_TEST: gl.STENCIL_TEST,\n        TEXTURE_2D: gl.TEXTURE_2D,\n        TEXTURE_3D: gl.TEXTURE_3D,\n        TEXTURE_CUBE_MAP: gl.TEXTURE_CUBE_MAP,\n    };\n}\nfunction glGetCurrentState(gl) {\n    var states = glGetStates(gl);\n    var str = '';\n    for (var key in states) {\n        if (gl.isEnabled(states[key])) {\n            str += key + ' is enabled!\\n';\n        }\n        else {\n            str += key + ' is disabled!\\n';\n        }\n    }\n    return str;\n}\nexports.glGetCurrentState = glGetCurrentState;\nfunction glResetState(gl) {\n    var states = glGetStates(gl);\n    for (var key in states) {\n        gl.disable(states[key]);\n    }\n    gl.enable(gl.DITHER);\n}\nexports.glResetState = glResetState;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @file Automatically generated by barrelsby.\n */\nvar MapSize = require(\"./mapSize\");\nexports.MapSize = MapSize;\nvar MapType = require(\"./mapType\");\nexports.MapType = MapType;\nvar DefaultValue = require(\"./defaultValue\");\nexports.DefaultValue = DefaultValue;\nvar WebGLUtil = require(\"./webglUtil\");\nexports.WebGLUtil = WebGLUtil;\n__export(require(\"./glGet\"));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*\n * This file contains code that was taken from, or heavily based upon, code\n * from the pixi.js project. Those sections are used under the terms of The\n * Pixi License, detailed below:\n *\n * The Pixi License\n *\n * Copyright (c) 2013-2016 Mathew Groves\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n */\nvar GLSL_TO_SIZE = {\n    float: 1,\n    vec2: 2,\n    vec3: 3,\n    vec4: 4,\n    int: 1,\n    ivec2: 2,\n    ivec3: 3,\n    ivec4: 4,\n    bool: 1,\n    bvec2: 2,\n    bvec3: 3,\n    bvec4: 4,\n    mat2: 4,\n    mat3: 9,\n    mat4: 16,\n    sampler2D: 1,\n};\n/**\n * Returns the componentTypeCount in Bytes needed for the provided GLSL Type in WebGL\n * @param type\n * @returns {any}\n */\nfunction map(type) {\n    return GLSL_TO_SIZE[type];\n}\nexports.map = map;\n","\"use strict\";\n/*\n * This file contains code that was taken from, or heavily based upon, code\n * from the pixi.js project. Those sections are used under the terms of The\n * Pixi License, detailed below:\n *\n * The Pixi License\n *\n * Copyright (c) 2013-2016 Mathew Groves\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Maps the WebGL Types to the convenient GLSL Types\n */\nvar GL_TABLE = null;\nvar GL_TO_GLSL_TYPES = {\n    FLOAT: 'float',\n    FLOAT_VEC2: 'vec2',\n    FLOAT_VEC3: 'vec3',\n    FLOAT_VEC4: 'vec4',\n    INT: 'int',\n    INT_VEC2: 'ivec2',\n    INT_VEC3: 'ivec3',\n    INT_VEC4: 'ivec4',\n    BOOL: 'bool',\n    BOOL_VEC2: 'bvec2',\n    BOOL_VEC3: 'bvec3',\n    BOOL_VEC4: 'bvec4',\n    FLOAT_MAT2: 'mat2',\n    FLOAT_MAT3: 'mat3',\n    FLOAT_MAT4: 'mat4',\n    SAMPLER_2D: 'sampler2D',\n    SAMPLER_CUBE: 'samplerCube',\n};\nfunction map(gl, type) {\n    if (!GL_TABLE) {\n        var typeNames = Object.keys(GL_TO_GLSL_TYPES);\n        GL_TABLE = {};\n        for (var i = 0; i < typeNames.length; i++) {\n            var tn = typeNames[i];\n            //@ts-ignore\n            GL_TABLE[gl[tn]] = GL_TO_GLSL_TYPES[tn];\n        }\n    }\n    return GL_TABLE[type];\n}\nexports.map = map;\n","\"use strict\";\n/**\n * @fileoverview This file contains functions every webgl program will need\n * a version of one way or another.\n *\n * Instead of setting up a context manually it is recommended to\n * use. This will check for success or failure. On failure it\n * will attempt to present an approriate message to the user.\n *\n *       gl = WebGLUtils.setupWebGL(canvas);\n *\n * For animated WebGL apps use of setTimeout or setInterval are\n * discouraged. It is recommended you structure your rendering\n * loop like this.\n *\n *       function render() {\n *         window.requestAnimationFrame(render, canvas);\n *\n *         // do rendering\n *         ...\n *       }\n *       render();\n *\n * This will call your rendering function up to the refresh rate\n * of your display but will stop rendering if your app is not\n * visible.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Mesasge for getting a webgl browser\n * @type {string}\n */\nvar GET_A_WEBGL_BROWSER = '' +\n    'This page requires a browser that supports WebGL.<br/>' +\n    '<a href=\"http://get.webgl.org\">Click here to upgrade your browser.</a>';\n/**\n * Mesasge for need better hardware\n * @type {string}\n */\nvar OTHER_PROBLEM = '' + \"It doesn't appear your computer can support WebGL.<br/>\" + '<a href=\"http://get.webgl.org\">Click here for more information.</a>';\n/**\n * Creates the HTLM for a failure message\n * @param {string} canvasContainerId id of container of th\n *        canvas.\n * @return {string} The html.\n */\nfunction makeFailHTML(msg) {\n    return '' + '<div style=\"margin: auto; width:500px;z-index:10000;margin-top:20em;text-align:center;\">' + msg + '</div>';\n}\n/**\n * Creates a webgl context.\n * @param {!Canvas} canvas The canvas tag to get context\n *     from. If one is not passed in one will be created.\n * @param {!WebGLContextCreationAttirbutes} optAttribs\n *     creation attributes you want to pass in.\n * @return {!WebGLContext} The created context.\n */\nfunction create3DContext(canvas, optAttribs) {\n    var names = ['webgl2', 'webgl', 'experimental-webgl', 'webkit-3d', 'moz-webgl'];\n    var context = null;\n    for (var _i = 0, names_1 = names; _i < names_1.length; _i++) {\n        var name_1 = names_1[_i];\n        try {\n            context = canvas.getContext(name_1, optAttribs);\n        }\n        catch (e) { }\n        if (context) {\n            break;\n        }\n    }\n    //@ts-ignore\n    return context;\n}\nexports.create3DContext = create3DContext;\n/**\n * Creates a webgl context. If creation fails it will\n * change the contents of the container of the <canvas>\n * tag to an error message with the correct links for WebGL.\n * @param {Element} canvas. The canvas element to create a\n *     context from.\n * @param {WebGLContextCreationAttirbutes} optAttribs Any\n *     creation attributes you want to pass in.\n * @param {function:(msg)} optOnError An function to call\n *     if there is an error during creation.\n * @return {WebGL2RenderingContext} The created context.\n */\nfunction setupWebGL(canvas, optAttribs, optOnError) {\n    function handleCreationError(msg) {\n        var container = document.getElementsByTagName('body')[0];\n        if (container) {\n            var str = window['WebGL2RenderingContext'] ? OTHER_PROBLEM : GET_A_WEBGL_BROWSER;\n            if (msg) {\n                str += '<br/><br/>Status: ' + msg;\n            }\n            container.innerHTML = makeFailHTML(str);\n        }\n    }\n    var onError = optOnError || handleCreationError;\n    if (canvas.addEventListener) {\n        canvas.addEventListener('webglcontextcreationerr', function (event) {\n            onError(event.statusMessage);\n        }, false);\n    }\n    var context = create3DContext(canvas, optAttribs);\n    if (!context) {\n        if (!window['WebGL2RenderingContext']) {\n            onError('');\n        }\n        else {\n            onError('');\n        }\n    }\n    return context;\n}\nexports.setupWebGL = setupWebGL;\n/**\n * Provides requestAnimationFrame in a cross browser\n * way.\n */\nif (!window.requestAnimationFrame) {\n    window['requestAnimationFrame'] = (function () {\n        return (window['requestAnimationFrame'] ||\n            window['webkitRequestAnimationFrame'] ||\n            //@ts-ignore\n            window['mozRequestAnimationFrame'] ||\n            //@ts-ignore\n            window['oRequestAnimationFrame'] ||\n            //@ts-ignore\n            window['msRequestAnimationFrame'] ||\n            function (callback) {\n                window.setTimeout(callback, 1000 / 60);\n            });\n    })();\n}\n/** * ERRATA: 'cancelRequestAnimationFrame' renamed to 'cancelAnimationFrame' to reflect an update to the W3C Animation-Timing Spec.\n *\n * Cancels an animation frame request.\n * Checks for cross-browser support, falls back to clearTimeout.\n * @param {number}  Animation frame request. */\nif (!window.cancelAnimationFrame) {\n    window.cancelAnimationFrame =\n        //@ts-ignore\n        window['cancelRequestAnimationFrame'] ||\n            window['webkitCancelAnimationFrame'] ||\n            //@ts-ignore\n            window['webkitCancelRequestAnimationFrame'] ||\n            //@ts-ignore\n            window['mozCancelAnimationFrame'] ||\n            //@ts-ignore\n            window['mozCancelRequestAnimationFrame'] ||\n            //@ts-ignore\n            window['msCancelAnimationFrame'] ||\n            //@ts-ignore\n            window['msCancelRequestAnimationFrame'] ||\n            //@ts-ignore\n            window['oCancelAnimationFrame'] ||\n            //@ts-ignore\n            window['oCancelRequestAnimationFrame'] ||\n            window.clearTimeout;\n}\n","\"use strict\";\n/**\n * @file Automatically generated by barrelsby.\n */\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./GLBuffer\"));\n__export(require(\"./GLCube\"));\n__export(require(\"./GLCubemap\"));\n__export(require(\"./GLFramebuffer\"));\n__export(require(\"./GLQuad\"));\n__export(require(\"./GLSphere\"));\n__export(require(\"./GLTexture\"));\n__export(require(\"./GLUniformBufferObject\"));\n__export(require(\"./GLVertexArrayObject\"));\n__export(require(\"./constants/index\"));\n__export(require(\"./gl_util/index\"));\n__export(require(\"./shader/index\"));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*\n * This file contains code that was taken from, or heavily based upon, code\n * from the pixi.js project. Those sections are used under the terms of The\n * Pixi License, detailed below:\n *\n * The Pixi License\n *\n * Copyright (c) 2013-2016 Mathew Groves\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n */\nvar MapType = require(\"../gl_util/mapType\");\nvar MapSize = require(\"../gl_util/mapSize\");\nvar AttributeMap = /** @class */ (function () {\n    function AttributeMap() {\n        this.attributeMap = {};\n    }\n    AttributeMap.prototype.add = function (key, attribute) {\n        this.attributeMap[key] = attribute;\n    };\n    AttributeMap.prototype.remove = function (key) {\n        if (this.attributeMap[key]) {\n            this.attributeMap[key] = undefined;\n        }\n    };\n    AttributeMap.prototype.hasAttribute = function (key) {\n        return !!this.attributeMap[key];\n    };\n    AttributeMap.prototype.getAttribute = function (key) {\n        return this.attributeMap[key];\n    };\n    return AttributeMap;\n}());\nexports.AttributeMap = AttributeMap;\nvar GLAttribute = /** @class */ (function () {\n    function GLAttribute(gl, type, size, location) {\n        this.gl = gl;\n        this.type = type;\n        this.size = size;\n        this.location = location;\n    }\n    GLAttribute.prototype.pointer = function (type, normalized, stride, start) {\n        this.gl.vertexAttribPointer(this.location, this.size, type || this.gl.FLOAT, normalized || false, stride || 0, start || 0);\n    };\n    return GLAttribute;\n}());\nexports.GLAttribute = GLAttribute;\nfunction extract(gl, program) {\n    var attributes = new AttributeMap();\n    var totalAttributes = gl.getProgramParameter(program, gl.ACTIVE_ATTRIBUTES);\n    for (var i = 0; i < totalAttributes; i++) {\n        var attribData = gl.getActiveAttrib(program, i);\n        var type = MapType.map(gl, attribData.type);\n        attributes.add(attribData.name, new GLAttribute(gl, type, MapSize.map(type), gl.getAttribLocation(program, attribData.name)));\n    }\n    return attributes;\n}\nexports.extract = extract;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*\n * This file contains code that was taken from, or heavily based upon, code\n * from the pixi.js project. Those sections are used under the terms of The\n * Pixi License, detailed below:\n *\n * The Pixi License\n *\n * Copyright (c) 2013-2016 Mathew Groves\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n */\nvar ProgramCompiler = require(\"./programCompiler\");\nvar Attributes = require(\"./GLAttribute\");\nvar Uniforms = require(\"./uniform\");\nvar GLShader = /** @class */ (function () {\n    function GLShader(gl, vertexSrc, fragmentSrc) {\n        this.gl = gl;\n        this._defines = Object.create(null);\n        this._vertexSrc = vertexSrc;\n        this._fragmentSrc = fragmentSrc;\n    }\n    GLShader.prototype.getDefinesString = function () {\n        var defineString = '';\n        for (var key in this._defines) {\n            defineString += '#define ' + key + ' ' + this._defines[key] + '\\n';\n        }\n        return defineString;\n    };\n    GLShader.prototype.getShaderSrcWithDefines = function (src) {\n        var shaderDefines = this.getDefinesString();\n        var secondLineIdx = src.indexOf('\\n');\n        var firstLine = src.substr(0, secondLineIdx);\n        var shaderSrc = src.substr(secondLineIdx);\n        if (firstLine.indexOf('#version') != -1) {\n            return firstLine + shaderDefines + shaderSrc;\n        }\n        return shaderDefines + firstLine + shaderSrc;\n    };\n    GLShader.prototype.upload = function () {\n        var gl = this.gl;\n        var vertexSrcWithDefines = this.getShaderSrcWithDefines(this._vertexSrc);\n        var fragmentSrcWithDefines = this.getShaderSrcWithDefines(this._fragmentSrc);\n        this._program = ProgramCompiler.compile(gl, vertexSrcWithDefines, fragmentSrcWithDefines);\n        this._attributes = Attributes.extract(gl, this._program);\n        var uniformData = Uniforms.extract(gl, this._program);\n        this._uniforms = Uniforms.generateUniformAccessObject(gl, uniformData, this._program);\n        return this;\n    };\n    GLShader.prototype.addDefine = function (def, value) {\n        this._defines[def] = value;\n    };\n    GLShader.prototype.removeDefine = function (def) {\n        delete this._defines[def];\n    };\n    Object.defineProperty(GLShader.prototype, \"program\", {\n        get: function () {\n            return this._program;\n        },\n        set: function (program) {\n            this._program = program;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GLShader.prototype, \"attributes\", {\n        get: function () {\n            return this._attributes;\n        },\n        set: function (attributes) {\n            this._attributes = attributes;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GLShader.prototype, \"uniforms\", {\n        get: function () {\n            return this._uniforms;\n        },\n        set: function (uniforms) {\n            this.uniforms = uniforms;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GLShader.prototype, \"defines\", {\n        get: function () {\n            return this._defines;\n        },\n        set: function (value) {\n            this._defines = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Bind this shader and tells the WebGLContext to use it\n     */\n    GLShader.prototype.bind = function () {\n        this.gl.useProgram(this.program);\n        return this;\n    };\n    /**\n     * Unbinds this Shader and tells the WebGLContext to use no shader\n     */\n    GLShader.prototype.unbind = function () {\n        this.gl.useProgram(null);\n        return this;\n    };\n    /**\n     * Destroy the program unloads it from the gpu\n     */\n    GLShader.prototype.unload = function () {\n        this.gl.deleteProgram(this.program);\n        this._program = null;\n        this._attributes = null;\n        this._uniforms = null;\n        this._defines = Object.create(null);\n    };\n    /**\n     * Destroys the program in the WebGLContext nulls all objects in the Shader\n     */\n    GLShader.prototype.destroy = function () {\n        this.gl.deleteProgram(this.program);\n        this.gl = null;\n        this._program = null;\n        this._attributes = null;\n        this._uniforms = null;\n        this._defines = null;\n        this._vertexSrc = null;\n        this._fragmentSrc = null;\n    };\n    Object.defineProperty(GLShader.prototype, \"vertexSrc\", {\n        get: function () {\n            return this._vertexSrc;\n        },\n        set: function (value) {\n            this._vertexSrc = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GLShader.prototype, \"fragmentSrc\", {\n        get: function () {\n            return this._fragmentSrc;\n        },\n        set: function (value) {\n            this._fragmentSrc = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return GLShader;\n}());\nexports.GLShader = GLShader;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @file Automatically generated by barrelsby.\n */\nvar Uniform = require(\"./uniform\");\nexports.Uniform = Uniform;\n__export(require(\"./GLAttribute\"));\n__export(require(\"./GLShader\"));\n__export(require(\"./programCompiler\"));\n","\"use strict\";\n/*\n * This file contains code that was taken from, or heavily based upon, code\n * from the pixi.js project. Those sections are used under the terms of The\n * Pixi License, detailed below:\n *\n * The Pixi License\n *\n * Copyright (c) 2013-2016 Mathew Groves\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @private\n * @param gl {WebGL2RenderingContext} The current WebGL context {WebGLProgram}\n * @param type {Number} the type, can be either VERTEX_SHADER or FRAGMENT_SHADER\n * @param vertexSrc {string|string[]} The vertex shader source as an array of strings.\n * @return {WebGLShader} the shader\n */\nfunction compileShader(gl, type, vertexSrc) {\n    var shader = gl.createShader(type);\n    if (shader == null) {\n        console.error('Unable to create shader');\n        return null;\n    }\n    gl.shaderSource(shader, vertexSrc);\n    gl.compileShader(shader);\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n        console.error('Failed to compile shader: ' + gl.getShaderInfoLog(shader));\n        gl.deleteShader(shader);\n        return null;\n    }\n    return shader;\n}\n/**\n * @class\n * @param gl {WebGL2RenderingContext} The current WebGL context {WebGLProgram}\n * @param vertexSrc {string|string[]} The vertex shader source as an array of strings.\n * @param fragmentSrc {string|string[]} The fragment shader source as an array of strings.\n * @return {WebGLProgram} the shader program\n */\nfunction compile(gl, vertexSrc, fragmentSrc) {\n    var glVertShader = compileShader(gl, gl.VERTEX_SHADER, vertexSrc);\n    var glFragShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentSrc);\n    if (!glVertShader || !glFragShader) {\n        return;\n    }\n    var program = gl.createProgram(); //Create Program which combines two compiled Shaders\n    if (!program) {\n        console.error('Failed to create Programm');\n        return null;\n    }\n    gl.attachShader(program, glVertShader); //Attach OBJ_Vertex Shader\n    gl.attachShader(program, glFragShader); //Attach Fragment Shader\n    gl.linkProgram(program); // Then Link the program to the webgl context\n    //Check if linking succeeded\n    if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n        console.error('Shader Program Linking failed. Could not initialize Shader.');\n        console.error('gl.VALIDATE_STATUS ' + gl.getProgramParameter(program, gl.VALIDATE_STATUS));\n        console.error('gl.getError(): ' + gl.getError());\n        //check if their is a program info log\n        if (gl.getProgramInfoLog(program) !== '') {\n            console.warn('gl.getProgramInfoLog(): ' + gl.getProgramInfoLog(program));\n        }\n        gl.deleteProgram(program);\n        program = null;\n    }\n    //Clean up the created shader\n    gl.deleteShader(glVertShader);\n    gl.deleteShader(glFragShader);\n    //Finally return the compiled program\n    return program;\n}\nexports.compile = compile;\n","\"use strict\";\n/*\n * This file contains code that was taken from, or heavily based upon, code\n * from the pixi.js project. Those sections are used under the terms of The\n * Pixi License, detailed below:\n *\n * The Pixi License\n *\n * Copyright (c) 2013-2016 Mathew Groves\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MapType = require(\"../gl_util/mapType\");\nvar DefaultValue = require(\"../gl_util/defaultValue\");\nvar getterTemplate = ['return this.data.%%.value;'].join('\\n');\nvar setterTemplate = ['this.data.%%.value = value;', 'var location = this.data.%%.location;'].join('\\n');\nvar GLSL_TO_SINGLE_SETTERS = {\n    float: 'uniform1f(location, value)',\n    vec2: 'uniform2f(location, value[0], value[1])',\n    vec3: 'uniform3f(location, value[0], value[1], value[2])',\n    vec4: 'uniform4f(location, value[0], value[1], value[2], value[3])',\n    int: 'uniform1i(location, value)',\n    ivec2: 'uniform2i(location, value[0], value[1])',\n    ivec3: 'uniform3i(location, value[0], value[1], value[2])',\n    ivec4: 'uniform4i(location, value[0], value[1], value[2], value[3])',\n    bool: 'uniform1i(location, value)',\n    bvec2: 'uniform2i(location, value[0], value[1])',\n    bvec3: 'uniform3i(location, value[0], value[1], value[2])',\n    bvec4: 'uniform4i(location, value[0], value[1], value[2], value[3])',\n    mat2: 'uniformMatrix2fv(location, false, value)',\n    mat3: 'uniformMatrix3fv(location, false, value)',\n    mat4: 'uniformMatrix4fv(location, false, value)',\n    sampler2D: 'uniform1i(location, value)',\n    samplerCube: 'uniform1i(location, value)',\n    ubo: 'uniformBlockBinding(this.program, location, value)',\n};\nvar GLSL_TO_ARRAY_SETTERS = {\n    float: 'uniform1fv(location, value)',\n    vec2: 'uniform2fv(location, value)',\n    vec3: 'uniform3fv(location, value)',\n    vec4: 'uniform4fv(location, value)',\n    int: 'uniform1iv(location, value)',\n    ivec2: 'uniform2iv(location, value)',\n    ivec3: 'uniform3iv(location, value)',\n    ivec4: 'uniform4iv(location, value)',\n    bool: 'uniform1iv(location, value)',\n    bvec2: 'uniform2iv(location, value)',\n    bvec3: 'uniform3iv(location, value)',\n    bvec4: 'uniform4iv(location, value)',\n    sampler2D: 'uniform1iv(location, value)',\n    samplerCube: 'uniform1iv(location, value)',\n};\nvar Uniform = /** @class */ (function () {\n    function Uniform(type, size, location, value) {\n        this.type = type;\n        this.size = size;\n        this.location = location;\n        this.value = value;\n    }\n    return Uniform;\n}());\nexports.Uniform = Uniform;\nvar UniformMap = /** @class */ (function () {\n    function UniformMap() {\n        this.uniformMap = {};\n    }\n    UniformMap.prototype.add = function (key, attribute) {\n        this.uniformMap[key] = attribute;\n    };\n    UniformMap.prototype.get = function (key) {\n        return this.uniformMap[key];\n    };\n    UniformMap.prototype.remove = function (key) {\n        if (this.uniformMap[key]) {\n            this.uniformMap[key] = undefined;\n        }\n    };\n    Object.defineProperty(UniformMap.prototype, \"keys\", {\n        get: function () {\n            return Object.keys(this.uniformMap);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return UniformMap;\n}());\nexports.UniformMap = UniformMap;\nvar UniformAccessObject = /** @class */ (function () {\n    function UniformAccessObject(gl, program) {\n        this.data = {};\n        this._gl = gl;\n        this._program = program;\n    }\n    Object.defineProperty(UniformAccessObject.prototype, \"gl\", {\n        get: function () {\n            return this._gl;\n        },\n        set: function (gl) {\n            this._gl = gl;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(UniformAccessObject.prototype, \"program\", {\n        get: function () {\n            return this._program;\n        },\n        set: function (value) {\n            this._program = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return UniformAccessObject;\n}());\nexports.UniformAccessObject = UniformAccessObject;\nfunction extract(gl, program) {\n    var uniforms = new UniformMap();\n    //Get Uniform Blocks\n    var ubos = gl.getProgramParameter(program, gl.ACTIVE_UNIFORM_BLOCKS);\n    for (var i = 0; i < ubos; i++) {\n        var name_1 = gl.getActiveUniformBlockName(program, i);\n        name_1 = name_1.replace(/\\[.*?\\]/, '');\n        uniforms.add(name_1, new Uniform('ubo', 1, i, null));\n    }\n    //Get uniforms\n    var totalUniforms = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);\n    for (var i = 0; i < totalUniforms; i++) {\n        var uniformData = gl.getActiveUniform(program, i);\n        var name_2 = uniformData.name.replace(/\\[.*?\\]/, '');\n        var type = MapType.map(gl, uniformData.type);\n        var location_1 = gl.getUniformLocation(program, name_2); //null if its a uniform block value\n        if (location_1 !== undefined && location_1 !== null) {\n            uniforms.add(name_2, new Uniform(type, uniformData.size, gl.getUniformLocation(program, name_2), DefaultValue.value(type, uniformData.size)));\n        }\n    }\n    return uniforms;\n}\nexports.extract = extract;\nfunction getUniformGroup(nameTokens, uniform) {\n    var cur = uniform;\n    for (var i = 0; i < nameTokens.length - 1; i++) {\n        //@ts-ignore\n        var o = cur[nameTokens[i]] || { data: {} };\n        //@ts-ignore\n        cur[nameTokens[i]] = o;\n        cur = o;\n    }\n    return cur;\n}\nfunction generateGetter(name) {\n    var template = getterTemplate.replace('%%', name);\n    return new Function(template);\n}\nfunction generateSetter(name, uniform) {\n    var template = setterTemplate.replace(/%%/g, name);\n    var setTemplate;\n    if (uniform.size === 1) {\n        setTemplate = GLSL_TO_SINGLE_SETTERS[uniform.type];\n    }\n    else {\n        setTemplate = GLSL_TO_ARRAY_SETTERS[uniform.type];\n    }\n    if (setTemplate) {\n        template += '\\nthis.gl.' + setTemplate + ';';\n    }\n    return new Function('value', template);\n}\nfunction generatePropertyDescriptor(name, uniform) {\n    return {\n        get: generateGetter(name),\n        set: generateSetter(name, uniform),\n    };\n}\nfunction generateUniformAccessObject(gl, uniformData, program) {\n    var uniforms = new UniformAccessObject(gl, program);\n    var uniformKeys = uniformData.keys;\n    for (var i = 0; i < uniformKeys.length; i++) {\n        var fullName = uniformKeys[i];\n        var nameTokens = fullName.split('.');\n        var name_3 = nameTokens[nameTokens.length - 1];\n        var uniformGroup = getUniformGroup(nameTokens, uniforms);\n        var uniform = uniformData.get(fullName);\n        uniformGroup.data[name_3] = uniform;\n        uniformGroup.gl = gl;\n        Object.defineProperty(uniformGroup, name_3, generatePropertyDescriptor(name_3, uniform));\n    }\n    return uniforms;\n}\nexports.generateUniformAccessObject = generateUniformAccessObject;\n","/**\r\n * Common utilities\r\n * @module glMatrix\r\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\r\n * Sets the type of array used when creating new vectors and matrices\r\n *\r\n * @param {Type} type Array type, such as Float32Array or Array\r\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\r\n * Convert Degree To Radian\r\n *\r\n * @param {Number} a Angle in Degrees\r\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\r\n * Tests whether or not the arguments have approximately the same value, within an absolute\r\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\r\n * than or equal to 1.0, and a relative tolerance is used for larger values)\r\n *\r\n * @param {Number} a The first number to test.\r\n * @param {Number} b The second number to test.\r\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","import * as glMatrix from \"./common.js\";\nimport * as mat2 from \"./mat2.js\";\nimport * as mat2d from \"./mat2d.js\";\nimport * as mat3 from \"./mat3.js\";\nimport * as mat4 from \"./mat4.js\";\nimport * as quat from \"./quat.js\";\nimport * as quat2 from \"./quat2.js\";\nimport * as vec2 from \"./vec2.js\";\nimport * as vec3 from \"./vec3.js\";\nimport * as vec4 from \"./vec4.js\";\nexport { glMatrix, mat2, mat2d, mat3, mat4, quat, quat2, vec2, vec3, vec4 };","import * as glMatrix from \"./common.js\";\n/**\r\n * 2x2 Matrix\r\n * @module mat2\r\n */\n\n/**\r\n * Creates a new identity mat2\r\n *\r\n * @returns {mat2} a new 2x2 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[0] = 1;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat2 initialized with values from an existing matrix\r\n *\r\n * @param {mat2} a matrix to clone\r\n * @returns {mat2} a new 2x2 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Copy the values from one mat2 to another\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the source matrix\r\n * @returns {mat2} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set a mat2 to the identity matrix\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @returns {mat2} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Create a new mat2 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 2)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 3)\r\n * @returns {mat2} out A new 2x2 matrix\r\n */\n\nexport function fromValues(m00, m01, m10, m11) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m10;\n  out[3] = m11;\n  return out;\n}\n/**\r\n * Set the components of a mat2 to the given values\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 2)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 3)\r\n * @returns {mat2} out\r\n */\n\nexport function set(out, m00, m01, m10, m11) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m10;\n  out[3] = m11;\n  return out;\n}\n/**\r\n * Transpose the values of a mat2\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the source matrix\r\n * @returns {mat2} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache\n  // some values\n  if (out === a) {\n    var a1 = a[1];\n    out[1] = a[2];\n    out[2] = a1;\n  } else {\n    out[0] = a[0];\n    out[1] = a[2];\n    out[2] = a[1];\n    out[3] = a[3];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat2\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the source matrix\r\n * @returns {mat2} out\r\n */\n\nexport function invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3]; // Calculate the determinant\n\n  var det = a0 * a3 - a2 * a1;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = a3 * det;\n  out[1] = -a1 * det;\n  out[2] = -a2 * det;\n  out[3] = a0 * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat2\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the source matrix\r\n * @returns {mat2} out\r\n */\n\nexport function adjoint(out, a) {\n  // Caching this value is nessecary if out == a\n  var a0 = a[0];\n  out[0] = a[3];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a0;\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat2\r\n *\r\n * @param {mat2} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  return a[0] * a[3] - a[2] * a[1];\n}\n/**\r\n * Multiplies two mat2's\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the first operand\r\n * @param {mat2} b the second operand\r\n * @returns {mat2} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = a0 * b0 + a2 * b1;\n  out[1] = a1 * b0 + a3 * b1;\n  out[2] = a0 * b2 + a2 * b3;\n  out[3] = a1 * b2 + a3 * b3;\n  return out;\n}\n/**\r\n * Rotates a mat2 by the given angle\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat2} out\r\n */\n\nexport function rotate(out, a, rad) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = a0 * c + a2 * s;\n  out[1] = a1 * c + a3 * s;\n  out[2] = a0 * -s + a2 * c;\n  out[3] = a1 * -s + a3 * c;\n  return out;\n}\n/**\r\n * Scales the mat2 by the dimensions in the given vec2\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the matrix to rotate\r\n * @param {vec2} v the vec2 to scale the matrix by\r\n * @returns {mat2} out\r\n **/\n\nexport function scale(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0 * v0;\n  out[1] = a1 * v0;\n  out[2] = a2 * v1;\n  out[3] = a3 * v1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2.identity(dest);\r\n *     mat2.rotate(dest, dest, rad);\r\n *\r\n * @param {mat2} out mat2 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat2} out\r\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = -s;\n  out[3] = c;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2.identity(dest);\r\n *     mat2.scale(dest, dest, vec);\r\n *\r\n * @param {mat2} out mat2 receiving operation result\r\n * @param {vec2} v Scaling vector\r\n * @returns {mat2} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = v[1];\n  return out;\n}\n/**\r\n * Returns a string representation of a mat2\r\n *\r\n * @param {mat2} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return 'mat2(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ')';\n}\n/**\r\n * Returns Frobenius norm of a mat2\r\n *\r\n * @param {mat2} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3]);\n}\n/**\r\n * Returns L, D and U matrices (Lower triangular, Diagonal and Upper triangular) by factorizing the input matrix\r\n * @param {mat2} L the lower triangular matrix\r\n * @param {mat2} D the diagonal matrix\r\n * @param {mat2} U the upper triangular matrix\r\n * @param {mat2} a the input matrix to factorize\r\n */\n\nexport function LDU(L, D, U, a) {\n  L[2] = a[2] / a[0];\n  U[0] = a[0];\n  U[1] = a[1];\n  U[3] = a[3] - L[2] * U[1];\n  return [L, D, U];\n}\n/**\r\n * Adds two mat2's\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the first operand\r\n * @param {mat2} b the second operand\r\n * @returns {mat2} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the first operand\r\n * @param {mat2} b the second operand\r\n * @returns {mat2} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {mat2} a The first matrix.\r\n * @param {mat2} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {mat2} a The first matrix.\r\n * @param {mat2} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat2} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\r\n * Adds two mat2's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat2} out the receiving vector\r\n * @param {mat2} a the first operand\r\n * @param {mat2} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat2} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\r\n * Alias for {@link mat2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat2.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\r\n * 2x3 Matrix\r\n * @module mat2d\r\n *\r\n * @description\r\n * A mat2d contains six elements defined as:\r\n * <pre>\r\n * [a, b, c,\r\n *  d, tx, ty]\r\n * </pre>\r\n * This is a short form for the 3x3 matrix:\r\n * <pre>\r\n * [a, b, 0,\r\n *  c, d, 0,\r\n *  tx, ty, 1]\r\n * </pre>\r\n * The last column is ignored so the array is shorter and operations are faster.\r\n */\n\n/**\r\n * Creates a new identity mat2d\r\n *\r\n * @returns {mat2d} a new 2x3 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(6);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[4] = 0;\n    out[5] = 0;\n  }\n\n  out[0] = 1;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat2d initialized with values from an existing matrix\r\n *\r\n * @param {mat2d} a matrix to clone\r\n * @returns {mat2d} a new 2x3 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(6);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  return out;\n}\n/**\r\n * Copy the values from one mat2d to another\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the source matrix\r\n * @returns {mat2d} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  return out;\n}\n/**\r\n * Set a mat2d to the identity matrix\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @returns {mat2d} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\r\n * Create a new mat2d with the given values\r\n *\r\n * @param {Number} a Component A (index 0)\r\n * @param {Number} b Component B (index 1)\r\n * @param {Number} c Component C (index 2)\r\n * @param {Number} d Component D (index 3)\r\n * @param {Number} tx Component TX (index 4)\r\n * @param {Number} ty Component TY (index 5)\r\n * @returns {mat2d} A new mat2d\r\n */\n\nexport function fromValues(a, b, c, d, tx, ty) {\n  var out = new glMatrix.ARRAY_TYPE(6);\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  out[3] = d;\n  out[4] = tx;\n  out[5] = ty;\n  return out;\n}\n/**\r\n * Set the components of a mat2d to the given values\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {Number} a Component A (index 0)\r\n * @param {Number} b Component B (index 1)\r\n * @param {Number} c Component C (index 2)\r\n * @param {Number} d Component D (index 3)\r\n * @param {Number} tx Component TX (index 4)\r\n * @param {Number} ty Component TY (index 5)\r\n * @returns {mat2d} out\r\n */\n\nexport function set(out, a, b, c, d, tx, ty) {\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  out[3] = d;\n  out[4] = tx;\n  out[5] = ty;\n  return out;\n}\n/**\r\n * Inverts a mat2d\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the source matrix\r\n * @returns {mat2d} out\r\n */\n\nexport function invert(out, a) {\n  var aa = a[0],\n      ab = a[1],\n      ac = a[2],\n      ad = a[3];\n  var atx = a[4],\n      aty = a[5];\n  var det = aa * ad - ab * ac;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = ad * det;\n  out[1] = -ab * det;\n  out[2] = -ac * det;\n  out[3] = aa * det;\n  out[4] = (ac * aty - ad * atx) * det;\n  out[5] = (ab * atx - aa * aty) * det;\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat2d\r\n *\r\n * @param {mat2d} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  return a[0] * a[3] - a[1] * a[2];\n}\n/**\r\n * Multiplies two mat2d's\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the first operand\r\n * @param {mat2d} b the second operand\r\n * @returns {mat2d} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5];\n  out[0] = a0 * b0 + a2 * b1;\n  out[1] = a1 * b0 + a3 * b1;\n  out[2] = a0 * b2 + a2 * b3;\n  out[3] = a1 * b2 + a3 * b3;\n  out[4] = a0 * b4 + a2 * b5 + a4;\n  out[5] = a1 * b4 + a3 * b5 + a5;\n  return out;\n}\n/**\r\n * Rotates a mat2d by the given angle\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat2d} out\r\n */\n\nexport function rotate(out, a, rad) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = a0 * c + a2 * s;\n  out[1] = a1 * c + a3 * s;\n  out[2] = a0 * -s + a2 * c;\n  out[3] = a1 * -s + a3 * c;\n  out[4] = a4;\n  out[5] = a5;\n  return out;\n}\n/**\r\n * Scales the mat2d by the dimensions in the given vec2\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the matrix to translate\r\n * @param {vec2} v the vec2 to scale the matrix by\r\n * @returns {mat2d} out\r\n **/\n\nexport function scale(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0 * v0;\n  out[1] = a1 * v0;\n  out[2] = a2 * v1;\n  out[3] = a3 * v1;\n  out[4] = a4;\n  out[5] = a5;\n  return out;\n}\n/**\r\n * Translates the mat2d by the dimensions in the given vec2\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the matrix to translate\r\n * @param {vec2} v the vec2 to translate the matrix by\r\n * @returns {mat2d} out\r\n **/\n\nexport function translate(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0;\n  out[1] = a1;\n  out[2] = a2;\n  out[3] = a3;\n  out[4] = a0 * v0 + a2 * v1 + a4;\n  out[5] = a1 * v0 + a3 * v1 + a5;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2d.identity(dest);\r\n *     mat2d.rotate(dest, dest, rad);\r\n *\r\n * @param {mat2d} out mat2d receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat2d} out\r\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = -s;\n  out[3] = c;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2d.identity(dest);\r\n *     mat2d.scale(dest, dest, vec);\r\n *\r\n * @param {mat2d} out mat2d receiving operation result\r\n * @param {vec2} v Scaling vector\r\n * @returns {mat2d} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = v[1];\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2d.identity(dest);\r\n *     mat2d.translate(dest, dest, vec);\r\n *\r\n * @param {mat2d} out mat2d receiving operation result\r\n * @param {vec2} v Translation vector\r\n * @returns {mat2d} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = v[0];\n  out[5] = v[1];\n  return out;\n}\n/**\r\n * Returns a string representation of a mat2d\r\n *\r\n * @param {mat2d} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return 'mat2d(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' + a[4] + ', ' + a[5] + ')';\n}\n/**\r\n * Returns Frobenius norm of a mat2d\r\n *\r\n * @param {mat2d} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], 1);\n}\n/**\r\n * Adds two mat2d's\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the first operand\r\n * @param {mat2d} b the second operand\r\n * @returns {mat2d} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the first operand\r\n * @param {mat2d} b the second operand\r\n * @returns {mat2d} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat2d} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  return out;\n}\n/**\r\n * Adds two mat2d's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat2d} out the receiving vector\r\n * @param {mat2d} a the first operand\r\n * @param {mat2d} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat2d} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {mat2d} a The first matrix.\r\n * @param {mat2d} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {mat2d} a The first matrix.\r\n * @param {mat2d} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5));\n}\n/**\r\n * Alias for {@link mat2d.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat2d.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\r\n * 3x3 Matrix\r\n * @module mat3\r\n */\n\n/**\r\n * Creates a new identity mat3\r\n *\r\n * @returns {mat3} a new 3x3 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Copies the upper-left 3x3 values into the given mat3.\r\n *\r\n * @param {mat3} out the receiving 3x3 matrix\r\n * @param {mat4} a   the source 4x4 matrix\r\n * @returns {mat3} out\r\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\r\n * Creates a new mat3 initialized with values from an existing matrix\r\n *\r\n * @param {mat3} a matrix to clone\r\n * @returns {mat3} a new 3x3 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Copy the values from one mat3 to another\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Create a new mat3 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\r\n * @returns {mat3} A new mat3\r\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\r\n * Set the components of a mat3 to the given values\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\r\n * @returns {mat3} out\r\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\r\n * Set a mat3 to the identity matrix\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @returns {mat3} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat3\r\n *\r\n * @param {mat3} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\r\n * Multiplies two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the first operand\r\n * @param {mat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\r\n * Translate a mat3 by the given vector\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the matrix to translate\r\n * @param {vec2} v vector to translate by\r\n * @returns {mat3} out\r\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\r\n * Rotates a mat3 by the given angle\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n;\n/**\r\n * Scales the mat3 by the dimensions in the given vec2\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the matrix to rotate\r\n * @param {vec2} v the vec2 to scale the matrix by\r\n * @returns {mat3} out\r\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.translate(dest, dest, vec);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {vec2} v Translation vector\r\n * @returns {mat3} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.rotate(dest, dest, rad);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.scale(dest, dest, vec);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {vec2} v Scaling vector\r\n * @returns {mat3} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Copies the values from a mat2d into a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat2d} a the matrix to copy\r\n * @returns {mat3} out\r\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\r\n* Calculates a 3x3 matrix from the given quaternion\r\n*\r\n* @param {mat3} out mat3 receiving operation result\r\n* @param {quat} q Quaternion to create matrix from\r\n*\r\n* @returns {mat3} out\r\n*/\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\r\n* Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\r\n*\r\n* @param {mat3} out mat3 receiving operation result\r\n* @param {mat4} a Mat4 to derive the normal matrix from\r\n*\r\n* @returns {mat3} out\r\n*/\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\r\n * Generates a 2D projection matrix with the given bounds\r\n *\r\n * @param {mat3} out mat3 frustum matrix will be written into\r\n * @param {number} width Width of your gl context\r\n * @param {number} height Height of gl context\r\n * @returns {mat3} out\r\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Returns a string representation of a mat3\r\n *\r\n * @param {mat3} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return 'mat3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' + a[4] + ', ' + a[5] + ', ' + a[6] + ', ' + a[7] + ', ' + a[8] + ')';\n}\n/**\r\n * Returns Frobenius norm of a mat3\r\n *\r\n * @param {mat3} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\r\n * Adds two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the first operand\r\n * @param {mat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the first operand\r\n * @param {mat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat3} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\r\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat3} out the receiving vector\r\n * @param {mat3} a the first operand\r\n * @param {mat3} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat3} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {mat3} a The first matrix.\r\n * @param {mat3} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {mat3} a The first matrix.\r\n * @param {mat3} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\r\n * Alias for {@link mat3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\r\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\r\n * @module mat4\r\n */\n\n/**\r\n * Creates a new identity mat4\r\n *\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 initialized with values from an existing matrix\r\n *\r\n * @param {mat4} a matrix to clone\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Copy the values from one mat4 to another\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Create a new mat4 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} A new mat4\r\n */\n\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set the components of a mat4 to the given values\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} out\r\n */\n\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set a mat4 to the identity matrix\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @returns {mat4} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat4\r\n *\r\n * @param {mat4} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\r\n * Multiplies two mat4s\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the first operand\r\n * @param {mat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\r\n * Translate a mat4 by the given vector\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to translate\r\n * @param {vec3} v vector to translate by\r\n * @returns {mat4} out\r\n */\n\nexport function translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\r\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to scale\r\n * @param {vec3} v the vec3 to scale the matrix by\r\n * @returns {mat4} out\r\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Rotates a mat4 by the given angle around the given axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {vec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nexport function rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the X axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Y axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Z axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {vec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.scale(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {vec3} v Scaling vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle around a given axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotate(dest, dest, rad, axis);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {vec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the X axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateX(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Y axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateY(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Z axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateZ(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation and vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {vec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 from a dual quat.\r\n *\r\n * @param {mat4} out Matrix\r\n * @param {quat2} a Dual Quaternion\r\n * @returns {mat4} mat4 receiving operation result\r\n */\n\nexport function fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\r\n * Returns the translation vector component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslation,\r\n *  the returned vector will be the same as the translation vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive translation component\r\n * @param  {mat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\r\n * Returns the scaling factor component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslationScale\r\n *  with a normalized Quaternion paramter, the returned vector will be\r\n *  the same as the scaling vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive scaling factor component\r\n * @param  {mat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nexport function getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\r\n * Returns a quaternion representing the rotational component\r\n *  of a transformation matrix. If a matrix is built with\r\n *  fromRotationTranslation, the returned quaternion will be the\r\n *  same as the quaternion originally supplied.\r\n * @param {quat} out Quaternion to receive the rotation component\r\n * @param {mat4} mat Matrix to be decomposed (input)\r\n * @return {quat} out\r\n */\n\nexport function getRotation(out, mat) {\n  var scaling = new glMatrix.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {vec3} v Translation vector\r\n * @param {vec3} s Scaling vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     mat4.translate(dest, origin);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *     mat4.translate(dest, negativeOrigin);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {vec3} v Translation vector\r\n * @param {vec3} s Scaling vector\r\n * @param {vec3} o The origin vector around which to scale and rotate\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Calculates a 4x4 matrix from the given quaternion\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat4} out\r\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a frustum matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Number} left Left bound of the frustum\r\n * @param {Number} right Right bound of the frustum\r\n * @param {Number} bottom Bottom bound of the frustum\r\n * @param {Number} top Top bound of the frustum\r\n * @param {Number} near Near bound of the frustum\r\n * @param {Number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given bounds.\r\n * Passing null/undefined/no value for far will generate infinite projection matrix.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} fovy Vertical field of view in radians\r\n * @param {number} aspect Aspect ratio. typically viewport width/height\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum, can be null or Infinity\r\n * @returns {mat4} out\r\n */\n\nexport function perspective(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given field of view.\r\n * This is primarily useful for generating projection matrices to be used\r\n * with the still experiemental WebVR API.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\r\n * Generates a orthogonal projection matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} left Left bound of the frustum\r\n * @param {number} right Right bound of the frustum\r\n * @param {number} bottom Bottom bound of the frustum\r\n * @param {number} top Top bound of the frustum\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function ortho(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\r\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {vec3} eye Position of the viewer\r\n * @param {vec3} center Point the viewer is looking at\r\n * @param {vec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nexport function lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a matrix that makes something look at something else.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {vec3} eye Position of the viewer\r\n * @param {vec3} center Point the viewer is looking at\r\n * @param {vec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nexport function targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n;\n/**\r\n * Returns a string representation of a mat4\r\n *\r\n * @param {mat4} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return 'mat4(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' + a[4] + ', ' + a[5] + ', ' + a[6] + ', ' + a[7] + ', ' + a[8] + ', ' + a[9] + ', ' + a[10] + ', ' + a[11] + ', ' + a[12] + ', ' + a[13] + ', ' + a[14] + ', ' + a[15] + ')';\n}\n/**\r\n * Returns Frobenius norm of a mat4\r\n *\r\n * @param {mat4} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\r\n * Adds two mat4's\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the first operand\r\n * @param {mat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the first operand\r\n * @param {mat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat4} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\r\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat4} out the receiving vector\r\n * @param {mat4} a the first operand\r\n * @param {mat4} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat4} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {mat4} a The first matrix.\r\n * @param {mat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {mat4} a The first matrix.\r\n * @param {mat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\r\n * Alias for {@link mat4.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat4.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\nimport * as mat3 from \"./mat3.js\";\nimport * as vec3 from \"./vec3.js\";\nimport * as vec4 from \"./vec4.js\";\n/**\r\n * Quaternion\r\n * @module quat\r\n */\n\n/**\r\n * Creates a new identity quat\r\n *\r\n * @returns {quat} a new quaternion\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Set a quat to the identity quaternion\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @returns {quat} out\r\n */\n\nexport function identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Sets a quat from the given angle and rotation axis,\r\n * then returns it.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {vec3} axis the axis around which to rotate\r\n * @param {Number} rad the angle in radians\r\n * @returns {quat} out\r\n **/\n\nexport function setAxisAngle(out, axis, rad) {\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  out[0] = s * axis[0];\n  out[1] = s * axis[1];\n  out[2] = s * axis[2];\n  out[3] = Math.cos(rad);\n  return out;\n}\n/**\r\n * Gets the rotation axis and angle for a given\r\n *  quaternion. If a quaternion is created with\r\n *  setAxisAngle, this method will return the same\r\n *  values as providied in the original parameter list\r\n *  OR functionally equivalent values.\r\n * Example: The quaternion formed by axis [0, 0, 1] and\r\n *  angle -90 is the same as the quaternion formed by\r\n *  [0, 0, 1] and 270. This method favors the latter.\r\n * @param  {vec3} out_axis  Vector receiving the axis of rotation\r\n * @param  {quat} q     Quaternion to be decomposed\r\n * @return {Number}     Angle, in radians, of the rotation\r\n */\n\nexport function getAxisAngle(out_axis, q) {\n  var rad = Math.acos(q[3]) * 2.0;\n  var s = Math.sin(rad / 2.0);\n\n  if (s > glMatrix.EPSILON) {\n    out_axis[0] = q[0] / s;\n    out_axis[1] = q[1] / s;\n    out_axis[2] = q[2] / s;\n  } else {\n    // If s is zero, return any axis (no rotation - axis does not matter)\n    out_axis[0] = 1;\n    out_axis[1] = 0;\n    out_axis[2] = 0;\n  }\n\n  return rad;\n}\n/**\r\n * Gets the angular distance between two unit quaternions\r\n *\r\n * @param  {quat} a     Origin unit quaternion \r\n * @param  {quat} b     Destination unit quaternion\r\n * @return {Number}     Angle, in radians, between the two quaternions\r\n */\n\nexport function getAngle(a, b) {\n  var dotproduct = dot(a, b);\n  return Math.acos(2 * dotproduct * dotproduct - 1);\n}\n/**\r\n * Multiplies two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @returns {quat} out\r\n */\n\nexport function multiply(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  out[0] = ax * bw + aw * bx + ay * bz - az * by;\n  out[1] = ay * bw + aw * by + az * bx - ax * bz;\n  out[2] = az * bw + aw * bz + ax * by - ay * bx;\n  out[3] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\r\n * Rotates a quaternion by the given angle about the X axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {quat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\n\nexport function rotateX(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + aw * bx;\n  out[1] = ay * bw + az * bx;\n  out[2] = az * bw - ay * bx;\n  out[3] = aw * bw - ax * bx;\n  return out;\n}\n/**\r\n * Rotates a quaternion by the given angle about the Y axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {quat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\n\nexport function rotateY(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var by = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw - az * by;\n  out[1] = ay * bw + aw * by;\n  out[2] = az * bw + ax * by;\n  out[3] = aw * bw - ay * by;\n  return out;\n}\n/**\r\n * Rotates a quaternion by the given angle about the Z axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {quat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\n\nexport function rotateZ(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bz = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + ay * bz;\n  out[1] = ay * bw - ax * bz;\n  out[2] = az * bw + aw * bz;\n  out[3] = aw * bw - az * bz;\n  return out;\n}\n/**\r\n * Calculates the W component of a quat from the X, Y, and Z components.\r\n * Assumes that quaternion is 1 unit in length.\r\n * Any existing W component will be ignored.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quat to calculate W component of\r\n * @returns {quat} out\r\n */\n\nexport function calculateW(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = Math.sqrt(Math.abs(1.0 - x * x - y * y - z * z));\n  return out;\n}\n/**\r\n * Calculate the exponential of a unit quaternion.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quat to calculate the exponential of\r\n * @returns {quat} out\r\n */\n\nexport function exp(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var et = Math.exp(w);\n  var s = r > 0 ? et * Math.sin(r) / r : 0;\n  out[0] = x * s;\n  out[1] = y * s;\n  out[2] = z * s;\n  out[3] = et * Math.cos(r);\n  return out;\n}\n/**\r\n * Calculate the natural logarithm of a unit quaternion.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quat to calculate the exponential of\r\n * @returns {quat} out\r\n */\n\nexport function ln(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var t = r > 0 ? Math.atan2(r, w) / r : 0;\n  out[0] = x * t;\n  out[1] = y * t;\n  out[2] = z * t;\n  out[3] = 0.5 * Math.log(x * x + y * y + z * z + w * w);\n  return out;\n}\n/**\r\n * Calculate the scalar power of a unit quaternion.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quat to calculate the exponential of\r\n * @param {Number} b amount to scale the quaternion by\r\n * @returns {quat} out\r\n */\n\nexport function pow(out, a, b) {\n  ln(out, a);\n  scale(out, out, b);\n  exp(out, out);\n  return out;\n}\n/**\r\n * Performs a spherical linear interpolation between two quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat} out\r\n */\n\nexport function slerp(out, a, b, t) {\n  // benchmarks:\n  //    http://jsperf.com/quaternion-slerp-implementations\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  var omega, cosom, sinom, scale0, scale1; // calc cosine\n\n  cosom = ax * bx + ay * by + az * bz + aw * bw; // adjust signs (if necessary)\n\n  if (cosom < 0.0) {\n    cosom = -cosom;\n    bx = -bx;\n    by = -by;\n    bz = -bz;\n    bw = -bw;\n  } // calculate coefficients\n\n\n  if (1.0 - cosom > glMatrix.EPSILON) {\n    // standard case (slerp)\n    omega = Math.acos(cosom);\n    sinom = Math.sin(omega);\n    scale0 = Math.sin((1.0 - t) * omega) / sinom;\n    scale1 = Math.sin(t * omega) / sinom;\n  } else {\n    // \"from\" and \"to\" quaternions are very close\n    //  ... so we can do a linear interpolation\n    scale0 = 1.0 - t;\n    scale1 = t;\n  } // calculate final values\n\n\n  out[0] = scale0 * ax + scale1 * bx;\n  out[1] = scale0 * ay + scale1 * by;\n  out[2] = scale0 * az + scale1 * bz;\n  out[3] = scale0 * aw + scale1 * bw;\n  return out;\n}\n/**\r\n * Generates a random unit quaternion\r\n * \r\n * @param {quat} out the receiving quaternion\r\n * @returns {quat} out\r\n */\n\nexport function random(out) {\n  // Implementation of http://planning.cs.uiuc.edu/node198.html\n  // TODO: Calling random 3 times is probably not the fastest solution\n  var u1 = glMatrix.RANDOM();\n  var u2 = glMatrix.RANDOM();\n  var u3 = glMatrix.RANDOM();\n  var sqrt1MinusU1 = Math.sqrt(1 - u1);\n  var sqrtU1 = Math.sqrt(u1);\n  out[0] = sqrt1MinusU1 * Math.sin(2.0 * Math.PI * u2);\n  out[1] = sqrt1MinusU1 * Math.cos(2.0 * Math.PI * u2);\n  out[2] = sqrtU1 * Math.sin(2.0 * Math.PI * u3);\n  out[3] = sqrtU1 * Math.cos(2.0 * Math.PI * u3);\n  return out;\n}\n/**\r\n * Calculates the inverse of a quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quat to calculate inverse of\r\n * @returns {quat} out\r\n */\n\nexport function invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\n  var invDot = dot ? 1.0 / dot : 0; // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\n\n  out[0] = -a0 * invDot;\n  out[1] = -a1 * invDot;\n  out[2] = -a2 * invDot;\n  out[3] = a3 * invDot;\n  return out;\n}\n/**\r\n * Calculates the conjugate of a quat\r\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quat to calculate conjugate of\r\n * @returns {quat} out\r\n */\n\nexport function conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Creates a quaternion from the given 3x3 rotation matrix.\r\n *\r\n * NOTE: The resultant quaternion is not normalized, so you should be sure\r\n * to renormalize the quaternion yourself where necessary.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {mat3} m rotation matrix\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport function fromMat3(out, m) {\n  // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n  // article \"Quaternion Calculus and Fast Animation\".\n  var fTrace = m[0] + m[4] + m[8];\n  var fRoot;\n\n  if (fTrace > 0.0) {\n    // |w| > 1/2, may as well choose w > 1/2\n    fRoot = Math.sqrt(fTrace + 1.0); // 2w\n\n    out[3] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot; // 1/(4w)\n\n    out[0] = (m[5] - m[7]) * fRoot;\n    out[1] = (m[6] - m[2]) * fRoot;\n    out[2] = (m[1] - m[3]) * fRoot;\n  } else {\n    // |w| <= 1/2\n    var i = 0;\n    if (m[4] > m[0]) i = 1;\n    if (m[8] > m[i * 3 + i]) i = 2;\n    var j = (i + 1) % 3;\n    var k = (i + 2) % 3;\n    fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1.0);\n    out[i] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot;\n    out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;\n    out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;\n    out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;\n  }\n\n  return out;\n}\n/**\r\n * Creates a quaternion from the given euler angle x, y, z.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {x} Angle to rotate around X axis in degrees.\r\n * @param {y} Angle to rotate around Y axis in degrees.\r\n * @param {z} Angle to rotate around Z axis in degrees.\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport function fromEuler(out, x, y, z) {\n  var halfToRad = 0.5 * Math.PI / 180.0;\n  x *= halfToRad;\n  y *= halfToRad;\n  z *= halfToRad;\n  var sx = Math.sin(x);\n  var cx = Math.cos(x);\n  var sy = Math.sin(y);\n  var cy = Math.cos(y);\n  var sz = Math.sin(z);\n  var cz = Math.cos(z);\n  out[0] = sx * cy * cz - cx * sy * sz;\n  out[1] = cx * sy * cz + sx * cy * sz;\n  out[2] = cx * cy * sz - sx * sy * cz;\n  out[3] = cx * cy * cz + sx * sy * sz;\n  return out;\n}\n/**\r\n * Returns a string representation of a quatenion\r\n *\r\n * @param {quat} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return 'quat(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ')';\n}\n/**\r\n * Creates a new quat initialized with values from an existing quaternion\r\n *\r\n * @param {quat} a quaternion to clone\r\n * @returns {quat} a new quaternion\r\n * @function\r\n */\n\nexport var clone = vec4.clone;\n/**\r\n * Creates a new quat initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {quat} a new quaternion\r\n * @function\r\n */\n\nexport var fromValues = vec4.fromValues;\n/**\r\n * Copy the values from one quat to another\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the source quaternion\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var copy = vec4.copy;\n/**\r\n * Set the components of a quat to the given values\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var set = vec4.set;\n/**\r\n * Adds two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var add = vec4.add;\n/**\r\n * Alias for {@link quat.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Scales a quat by a scalar number\r\n *\r\n * @param {quat} out the receiving vector\r\n * @param {quat} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var scale = vec4.scale;\n/**\r\n * Calculates the dot product of two quat's\r\n *\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @returns {Number} dot product of a and b\r\n * @function\r\n */\n\nexport var dot = vec4.dot;\n/**\r\n * Performs a linear interpolation between two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var lerp = vec4.lerp;\n/**\r\n * Calculates the length of a quat\r\n *\r\n * @param {quat} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport var length = vec4.length;\n/**\r\n * Alias for {@link quat.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Calculates the squared length of a quat\r\n *\r\n * @param {quat} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n * @function\r\n */\n\nexport var squaredLength = vec4.squaredLength;\n/**\r\n * Alias for {@link quat.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Normalize a quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quaternion to normalize\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var normalize = vec4.normalize;\n/**\r\n * Returns whether or not the quaternions have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {quat} a The first quaternion.\r\n * @param {quat} b The second quaternion.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport var exactEquals = vec4.exactEquals;\n/**\r\n * Returns whether or not the quaternions have approximately the same elements in the same position.\r\n *\r\n * @param {quat} a The first vector.\r\n * @param {quat} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport var equals = vec4.equals;\n/**\r\n * Sets a quaternion to represent the shortest rotation from one\r\n * vector to another.\r\n *\r\n * Both vectors are assumed to be unit length.\r\n *\r\n * @param {quat} out the receiving quaternion.\r\n * @param {vec3} a the initial vector\r\n * @param {vec3} b the destination vector\r\n * @returns {quat} out\r\n */\n\nexport var rotationTo = function () {\n  var tmpvec3 = vec3.create();\n  var xUnitVec3 = vec3.fromValues(1, 0, 0);\n  var yUnitVec3 = vec3.fromValues(0, 1, 0);\n  return function (out, a, b) {\n    var dot = vec3.dot(a, b);\n\n    if (dot < -0.999999) {\n      vec3.cross(tmpvec3, xUnitVec3, a);\n      if (vec3.len(tmpvec3) < 0.000001) vec3.cross(tmpvec3, yUnitVec3, a);\n      vec3.normalize(tmpvec3, tmpvec3);\n      setAxisAngle(out, tmpvec3, Math.PI);\n      return out;\n    } else if (dot > 0.999999) {\n      out[0] = 0;\n      out[1] = 0;\n      out[2] = 0;\n      out[3] = 1;\n      return out;\n    } else {\n      vec3.cross(tmpvec3, a, b);\n      out[0] = tmpvec3[0];\n      out[1] = tmpvec3[1];\n      out[2] = tmpvec3[2];\n      out[3] = 1 + dot;\n      return normalize(out, out);\n    }\n  };\n}();\n/**\r\n * Performs a spherical linear interpolation with two control points\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @param {quat} c the third operand\r\n * @param {quat} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat} out\r\n */\n\nexport var sqlerp = function () {\n  var temp1 = create();\n  var temp2 = create();\n  return function (out, a, b, c, d, t) {\n    slerp(temp1, a, d, t);\n    slerp(temp2, b, c, t);\n    slerp(out, temp1, temp2, 2 * t * (1 - t));\n    return out;\n  };\n}();\n/**\r\n * Sets the specified quaternion with values corresponding to the given\r\n * axes. Each axis is a vec3 and is expected to be unit length and\r\n * perpendicular to all other specified axes.\r\n *\r\n * @param {vec3} view  the vector representing the viewing direction\r\n * @param {vec3} right the vector representing the local \"right\" direction\r\n * @param {vec3} up    the vector representing the local \"up\" direction\r\n * @returns {quat} out\r\n */\n\nexport var setAxes = function () {\n  var matr = mat3.create();\n  return function (out, view, right, up) {\n    matr[0] = right[0];\n    matr[3] = right[1];\n    matr[6] = right[2];\n    matr[1] = up[0];\n    matr[4] = up[1];\n    matr[7] = up[2];\n    matr[2] = -view[0];\n    matr[5] = -view[1];\n    matr[8] = -view[2];\n    return normalize(out, fromMat3(out, matr));\n  };\n}();","import * as glMatrix from \"./common.js\";\nimport * as quat from \"./quat.js\";\nimport * as mat4 from \"./mat4.js\";\n/**\r\n * Dual Quaternion<br>\r\n * Format: [real, dual]<br>\r\n * Quaternion format: XYZW<br>\r\n * Make sure to have normalized dual quaternions, otherwise the functions may not work as intended.<br>\r\n * @module quat2\r\n */\n\n/**\r\n * Creates a new identity dual quat\r\n *\r\n * @returns {quat2} a new dual quaternion [real -> rotation, dual -> translation]\r\n */\n\nexport function create() {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    dq[0] = 0;\n    dq[1] = 0;\n    dq[2] = 0;\n    dq[4] = 0;\n    dq[5] = 0;\n    dq[6] = 0;\n    dq[7] = 0;\n  }\n\n  dq[3] = 1;\n  return dq;\n}\n/**\r\n * Creates a new quat initialized with values from an existing quaternion\r\n *\r\n * @param {quat2} a dual quaternion to clone\r\n * @returns {quat2} new dual quaternion\r\n * @function\r\n */\n\nexport function clone(a) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = a[0];\n  dq[1] = a[1];\n  dq[2] = a[2];\n  dq[3] = a[3];\n  dq[4] = a[4];\n  dq[5] = a[5];\n  dq[6] = a[6];\n  dq[7] = a[7];\n  return dq;\n}\n/**\r\n * Creates a new dual quat initialized with the given values\r\n *\r\n * @param {Number} x1 X component\r\n * @param {Number} y1 Y component\r\n * @param {Number} z1 Z component\r\n * @param {Number} w1 W component\r\n * @param {Number} x2 X component\r\n * @param {Number} y2 Y component\r\n * @param {Number} z2 Z component\r\n * @param {Number} w2 W component\r\n * @returns {quat2} new dual quaternion\r\n * @function\r\n */\n\nexport function fromValues(x1, y1, z1, w1, x2, y2, z2, w2) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = x1;\n  dq[1] = y1;\n  dq[2] = z1;\n  dq[3] = w1;\n  dq[4] = x2;\n  dq[5] = y2;\n  dq[6] = z2;\n  dq[7] = w2;\n  return dq;\n}\n/**\r\n * Creates a new dual quat from the given values (quat and translation)\r\n *\r\n * @param {Number} x1 X component\r\n * @param {Number} y1 Y component\r\n * @param {Number} z1 Z component\r\n * @param {Number} w1 W component\r\n * @param {Number} x2 X component (translation)\r\n * @param {Number} y2 Y component (translation)\r\n * @param {Number} z2 Z component (translation)\r\n * @returns {quat2} new dual quaternion\r\n * @function\r\n */\n\nexport function fromRotationTranslationValues(x1, y1, z1, w1, x2, y2, z2) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = x1;\n  dq[1] = y1;\n  dq[2] = z1;\n  dq[3] = w1;\n  var ax = x2 * 0.5,\n      ay = y2 * 0.5,\n      az = z2 * 0.5;\n  dq[4] = ax * w1 + ay * z1 - az * y1;\n  dq[5] = ay * w1 + az * x1 - ax * z1;\n  dq[6] = az * w1 + ax * y1 - ay * x1;\n  dq[7] = -ax * x1 - ay * y1 - az * z1;\n  return dq;\n}\n/**\r\n * Creates a dual quat from a quaternion and a translation\r\n *\r\n * @param {quat2} dual quaternion receiving operation result\r\n * @param {quat} q a normalized quaternion\r\n * @param {vec3} t tranlation vector\r\n * @returns {quat2} dual quaternion receiving operation result\r\n * @function\r\n */\n\nexport function fromRotationTranslation(out, q, t) {\n  var ax = t[0] * 0.5,\n      ay = t[1] * 0.5,\n      az = t[2] * 0.5,\n      bx = q[0],\n      by = q[1],\n      bz = q[2],\n      bw = q[3];\n  out[0] = bx;\n  out[1] = by;\n  out[2] = bz;\n  out[3] = bw;\n  out[4] = ax * bw + ay * bz - az * by;\n  out[5] = ay * bw + az * bx - ax * bz;\n  out[6] = az * bw + ax * by - ay * bx;\n  out[7] = -ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\r\n * Creates a dual quat from a translation\r\n *\r\n * @param {quat2} dual quaternion receiving operation result\r\n * @param {vec3} t translation vector\r\n * @returns {quat2} dual quaternion receiving operation result\r\n * @function\r\n */\n\nexport function fromTranslation(out, t) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = t[0] * 0.5;\n  out[5] = t[1] * 0.5;\n  out[6] = t[2] * 0.5;\n  out[7] = 0;\n  return out;\n}\n/**\r\n * Creates a dual quat from a quaternion\r\n *\r\n * @param {quat2} dual quaternion receiving operation result\r\n * @param {quat} q the quaternion\r\n * @returns {quat2} dual quaternion receiving operation result\r\n * @function\r\n */\n\nexport function fromRotation(out, q) {\n  out[0] = q[0];\n  out[1] = q[1];\n  out[2] = q[2];\n  out[3] = q[3];\n  out[4] = 0;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  return out;\n}\n/**\r\n * Creates a new dual quat from a matrix (4x4)\r\n *\r\n * @param {quat2} out the dual quaternion\r\n * @param {mat4} a the matrix\r\n * @returns {quat2} dual quat receiving operation result\r\n * @function\r\n */\n\nexport function fromMat4(out, a) {\n  //TODO Optimize this\n  var outer = quat.create();\n  mat4.getRotation(outer, a);\n  var t = new glMatrix.ARRAY_TYPE(3);\n  mat4.getTranslation(t, a);\n  fromRotationTranslation(out, outer, t);\n  return out;\n}\n/**\r\n * Copy the values from one dual quat to another\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the source dual quaternion\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  return out;\n}\n/**\r\n * Set a dual quat to the identity dual quaternion\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @returns {quat2} out\r\n */\n\nexport function identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  return out;\n}\n/**\r\n * Set the components of a dual quat to the given values\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @param {Number} x1 X component\r\n * @param {Number} y1 Y component\r\n * @param {Number} z1 Z component\r\n * @param {Number} w1 W component\r\n * @param {Number} x2 X component\r\n * @param {Number} y2 Y component\r\n * @param {Number} z2 Z component\r\n * @param {Number} w2 W component\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function set(out, x1, y1, z1, w1, x2, y2, z2, w2) {\n  out[0] = x1;\n  out[1] = y1;\n  out[2] = z1;\n  out[3] = w1;\n  out[4] = x2;\n  out[5] = y2;\n  out[6] = z2;\n  out[7] = w2;\n  return out;\n}\n/**\r\n * Gets the real part of a dual quat\r\n * @param  {quat} out real part\r\n * @param  {quat2} a Dual Quaternion\r\n * @return {quat} real part\r\n */\n\nexport var getReal = quat.copy;\n/**\r\n * Gets the dual part of a dual quat\r\n * @param  {quat} out dual part\r\n * @param  {quat2} a Dual Quaternion\r\n * @return {quat} dual part\r\n */\n\nexport function getDual(out, a) {\n  out[0] = a[4];\n  out[1] = a[5];\n  out[2] = a[6];\n  out[3] = a[7];\n  return out;\n}\n/**\r\n * Set the real component of a dual quat to the given quaternion\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @param {quat} q a quaternion representing the real part\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport var setReal = quat.copy;\n/**\r\n * Set the dual component of a dual quat to the given quaternion\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @param {quat} q a quaternion representing the dual part\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function setDual(out, q) {\n  out[4] = q[0];\n  out[5] = q[1];\n  out[6] = q[2];\n  out[7] = q[3];\n  return out;\n}\n/**\r\n * Gets the translation of a normalized dual quat\r\n * @param  {vec3} out translation\r\n * @param  {quat2} a Dual Quaternion to be decomposed\r\n * @return {vec3} translation\r\n */\n\nexport function getTranslation(out, a) {\n  var ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3];\n  out[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n  out[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n  out[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  return out;\n}\n/**\r\n * Translates a dual quat by the given vector\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the dual quaternion to translate\r\n * @param {vec3} v vector to translate by\r\n * @returns {quat2} out\r\n */\n\nexport function translate(out, a, v) {\n  var ax1 = a[0],\n      ay1 = a[1],\n      az1 = a[2],\n      aw1 = a[3],\n      bx1 = v[0] * 0.5,\n      by1 = v[1] * 0.5,\n      bz1 = v[2] * 0.5,\n      ax2 = a[4],\n      ay2 = a[5],\n      az2 = a[6],\n      aw2 = a[7];\n  out[0] = ax1;\n  out[1] = ay1;\n  out[2] = az1;\n  out[3] = aw1;\n  out[4] = aw1 * bx1 + ay1 * bz1 - az1 * by1 + ax2;\n  out[5] = aw1 * by1 + az1 * bx1 - ax1 * bz1 + ay2;\n  out[6] = aw1 * bz1 + ax1 * by1 - ay1 * bx1 + az2;\n  out[7] = -ax1 * bx1 - ay1 * by1 - az1 * bz1 + aw2;\n  return out;\n}\n/**\r\n * Rotates a dual quat around the X axis\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the dual quaternion to rotate\r\n * @param {number} rad how far should the rotation be\r\n * @returns {quat2} out\r\n */\n\nexport function rotateX(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateX(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\r\n * Rotates a dual quat around the Y axis\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the dual quaternion to rotate\r\n * @param {number} rad how far should the rotation be\r\n * @returns {quat2} out\r\n */\n\nexport function rotateY(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateY(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\r\n * Rotates a dual quat around the Z axis\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the dual quaternion to rotate\r\n * @param {number} rad how far should the rotation be\r\n * @returns {quat2} out\r\n */\n\nexport function rotateZ(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateZ(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\r\n * Rotates a dual quat by a given quaternion (a * q)\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the dual quaternion to rotate\r\n * @param {quat} q quaternion to rotate by\r\n * @returns {quat2} out\r\n */\n\nexport function rotateByQuatAppend(out, a, q) {\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3],\n      ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  out[0] = ax * qw + aw * qx + ay * qz - az * qy;\n  out[1] = ay * qw + aw * qy + az * qx - ax * qz;\n  out[2] = az * qw + aw * qz + ax * qy - ay * qx;\n  out[3] = aw * qw - ax * qx - ay * qy - az * qz;\n  ax = a[4];\n  ay = a[5];\n  az = a[6];\n  aw = a[7];\n  out[4] = ax * qw + aw * qx + ay * qz - az * qy;\n  out[5] = ay * qw + aw * qy + az * qx - ax * qz;\n  out[6] = az * qw + aw * qz + ax * qy - ay * qx;\n  out[7] = aw * qw - ax * qx - ay * qy - az * qz;\n  return out;\n}\n/**\r\n * Rotates a dual quat by a given quaternion (q * a)\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat} q quaternion to rotate by\r\n * @param {quat2} a the dual quaternion to rotate\r\n * @returns {quat2} out\r\n */\n\nexport function rotateByQuatPrepend(out, q, a) {\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3],\n      bx = a[0],\n      by = a[1],\n      bz = a[2],\n      bw = a[3];\n  out[0] = qx * bw + qw * bx + qy * bz - qz * by;\n  out[1] = qy * bw + qw * by + qz * bx - qx * bz;\n  out[2] = qz * bw + qw * bz + qx * by - qy * bx;\n  out[3] = qw * bw - qx * bx - qy * by - qz * bz;\n  bx = a[4];\n  by = a[5];\n  bz = a[6];\n  bw = a[7];\n  out[4] = qx * bw + qw * bx + qy * bz - qz * by;\n  out[5] = qy * bw + qw * by + qz * bx - qx * bz;\n  out[6] = qz * bw + qw * bz + qx * by - qy * bx;\n  out[7] = qw * bw - qx * bx - qy * by - qz * bz;\n  return out;\n}\n/**\r\n * Rotates a dual quat around a given axis. Does the normalisation automatically\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the dual quaternion to rotate\r\n * @param {vec3} axis the axis to rotate around\r\n * @param {Number} rad how far the rotation should be\r\n * @returns {quat2} out\r\n */\n\nexport function rotateAroundAxis(out, a, axis, rad) {\n  //Special case for rad = 0\n  if (Math.abs(rad) < glMatrix.EPSILON) {\n    return copy(out, a);\n  }\n\n  var axisLength = Math.hypot(axis[0], axis[1], axis[2]);\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  var bx = s * axis[0] / axisLength;\n  var by = s * axis[1] / axisLength;\n  var bz = s * axis[2] / axisLength;\n  var bw = Math.cos(rad);\n  var ax1 = a[0],\n      ay1 = a[1],\n      az1 = a[2],\n      aw1 = a[3];\n  out[0] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[1] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[2] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[3] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  var ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  out[4] = ax * bw + aw * bx + ay * bz - az * by;\n  out[5] = ay * bw + aw * by + az * bx - ax * bz;\n  out[6] = az * bw + aw * bz + ax * by - ay * bx;\n  out[7] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\r\n * Adds two dual quat's\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the first operand\r\n * @param {quat2} b the second operand\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  return out;\n}\n/**\r\n * Multiplies two dual quat's\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the first operand\r\n * @param {quat2} b the second operand\r\n * @returns {quat2} out\r\n */\n\nexport function multiply(out, a, b) {\n  var ax0 = a[0],\n      ay0 = a[1],\n      az0 = a[2],\n      aw0 = a[3],\n      bx1 = b[4],\n      by1 = b[5],\n      bz1 = b[6],\n      bw1 = b[7],\n      ax1 = a[4],\n      ay1 = a[5],\n      az1 = a[6],\n      aw1 = a[7],\n      bx0 = b[0],\n      by0 = b[1],\n      bz0 = b[2],\n      bw0 = b[3];\n  out[0] = ax0 * bw0 + aw0 * bx0 + ay0 * bz0 - az0 * by0;\n  out[1] = ay0 * bw0 + aw0 * by0 + az0 * bx0 - ax0 * bz0;\n  out[2] = az0 * bw0 + aw0 * bz0 + ax0 * by0 - ay0 * bx0;\n  out[3] = aw0 * bw0 - ax0 * bx0 - ay0 * by0 - az0 * bz0;\n  out[4] = ax0 * bw1 + aw0 * bx1 + ay0 * bz1 - az0 * by1 + ax1 * bw0 + aw1 * bx0 + ay1 * bz0 - az1 * by0;\n  out[5] = ay0 * bw1 + aw0 * by1 + az0 * bx1 - ax0 * bz1 + ay1 * bw0 + aw1 * by0 + az1 * bx0 - ax1 * bz0;\n  out[6] = az0 * bw1 + aw0 * bz1 + ax0 * by1 - ay0 * bx1 + az1 * bw0 + aw1 * bz0 + ax1 * by0 - ay1 * bx0;\n  out[7] = aw0 * bw1 - ax0 * bx1 - ay0 * by1 - az0 * bz1 + aw1 * bw0 - ax1 * bx0 - ay1 * by0 - az1 * bz0;\n  return out;\n}\n/**\r\n * Alias for {@link quat2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Scales a dual quat by a scalar number\r\n *\r\n * @param {quat2} out the receiving dual quat\r\n * @param {quat2} a the dual quat to scale\r\n * @param {Number} b amount to scale the dual quat by\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  return out;\n}\n/**\r\n * Calculates the dot product of two dual quat's (The dot product of the real parts)\r\n *\r\n * @param {quat2} a the first operand\r\n * @param {quat2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n * @function\r\n */\n\nexport var dot = quat.dot;\n/**\r\n * Performs a linear interpolation between two dual quats's\r\n * NOTE: The resulting dual quaternions won't always be normalized (The error is most noticeable when t = 0.5)\r\n *\r\n * @param {quat2} out the receiving dual quat\r\n * @param {quat2} a the first operand\r\n * @param {quat2} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat2} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var mt = 1 - t;\n  if (dot(a, b) < 0) t = -t;\n  out[0] = a[0] * mt + b[0] * t;\n  out[1] = a[1] * mt + b[1] * t;\n  out[2] = a[2] * mt + b[2] * t;\n  out[3] = a[3] * mt + b[3] * t;\n  out[4] = a[4] * mt + b[4] * t;\n  out[5] = a[5] * mt + b[5] * t;\n  out[6] = a[6] * mt + b[6] * t;\n  out[7] = a[7] * mt + b[7] * t;\n  return out;\n}\n/**\r\n * Calculates the inverse of a dual quat. If they are normalized, conjugate is cheaper\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a dual quat to calculate inverse of\r\n * @returns {quat2} out\r\n */\n\nexport function invert(out, a) {\n  var sqlen = squaredLength(a);\n  out[0] = -a[0] / sqlen;\n  out[1] = -a[1] / sqlen;\n  out[2] = -a[2] / sqlen;\n  out[3] = a[3] / sqlen;\n  out[4] = -a[4] / sqlen;\n  out[5] = -a[5] / sqlen;\n  out[6] = -a[6] / sqlen;\n  out[7] = a[7] / sqlen;\n  return out;\n}\n/**\r\n * Calculates the conjugate of a dual quat\r\n * If the dual quaternion is normalized, this function is faster than quat2.inverse and produces the same result.\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @param {quat2} a quat to calculate conjugate of\r\n * @returns {quat2} out\r\n */\n\nexport function conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  out[4] = -a[4];\n  out[5] = -a[5];\n  out[6] = -a[6];\n  out[7] = a[7];\n  return out;\n}\n/**\r\n * Calculates the length of a dual quat\r\n *\r\n * @param {quat2} a dual quat to calculate length of\r\n * @returns {Number} length of a\r\n * @function\r\n */\n\nexport var length = quat.length;\n/**\r\n * Alias for {@link quat2.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Calculates the squared length of a dual quat\r\n *\r\n * @param {quat2} a dual quat to calculate squared length of\r\n * @returns {Number} squared length of a\r\n * @function\r\n */\n\nexport var squaredLength = quat.squaredLength;\n/**\r\n * Alias for {@link quat2.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Normalize a dual quat\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a dual quaternion to normalize\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function normalize(out, a) {\n  var magnitude = squaredLength(a);\n\n  if (magnitude > 0) {\n    magnitude = Math.sqrt(magnitude);\n    var a0 = a[0] / magnitude;\n    var a1 = a[1] / magnitude;\n    var a2 = a[2] / magnitude;\n    var a3 = a[3] / magnitude;\n    var b0 = a[4];\n    var b1 = a[5];\n    var b2 = a[6];\n    var b3 = a[7];\n    var a_dot_b = a0 * b0 + a1 * b1 + a2 * b2 + a3 * b3;\n    out[0] = a0;\n    out[1] = a1;\n    out[2] = a2;\n    out[3] = a3;\n    out[4] = (b0 - a0 * a_dot_b) / magnitude;\n    out[5] = (b1 - a1 * a_dot_b) / magnitude;\n    out[6] = (b2 - a2 * a_dot_b) / magnitude;\n    out[7] = (b3 - a3 * a_dot_b) / magnitude;\n  }\n\n  return out;\n}\n/**\r\n * Returns a string representation of a dual quatenion\r\n *\r\n * @param {quat2} a dual quaternion to represent as a string\r\n * @returns {String} string representation of the dual quat\r\n */\n\nexport function str(a) {\n  return 'quat2(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' + a[4] + ', ' + a[5] + ', ' + a[6] + ', ' + a[7] + ')';\n}\n/**\r\n * Returns whether or not the dual quaternions have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {quat2} a the first dual quaternion.\r\n * @param {quat2} b the second dual quaternion.\r\n * @returns {Boolean} true if the dual quaternions are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7];\n}\n/**\r\n * Returns whether or not the dual quaternions have approximately the same elements in the same position.\r\n *\r\n * @param {quat2} a the first dual quat.\r\n * @param {quat2} b the second dual quat.\r\n * @returns {Boolean} true if the dual quats are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7));\n}","import * as glMatrix from \"./common.js\";\n/**\r\n * 2 Dimensional Vector\r\n * @module vec2\r\n */\n\n/**\r\n * Creates a new, empty vec2\r\n *\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with values from an existing vector\r\n *\r\n * @param {vec2} a vector to clone\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Copy the values from one vec2 to another\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the source vector\r\n * @returns {vec2} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Set the components of a vec2 to the given values\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} out\r\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Adds two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\r\n * Multiplies two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\r\n * Divides two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to ceil\r\n * @returns {vec2} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to floor\r\n * @returns {vec2} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to round\r\n * @returns {vec2} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\r\n * Scales a vec2 by a scalar number\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec2} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\r\n * Adds two vec2's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec2} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec2's\r\n *\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec2's\r\n *\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\r\n * Calculates the length of a vec2\r\n *\r\n * @param {vec2} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared length of a vec2\r\n *\r\n * @param {vec2} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\r\n * Negates the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to negate\r\n * @returns {vec2} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to invert\r\n * @returns {vec2} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\r\n * Normalize a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to normalize\r\n * @returns {vec2} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec2's\r\n *\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\r\n * Computes the cross product of two vec2's\r\n * Note that the cross product must by definition produce a 3D vector\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec2} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec2} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat2} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2d\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat2d} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat3\r\n * 3rd vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat3} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat4\r\n * 3rd vector component is implicitly '0'\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat4} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\r\n * Rotate a 2D vector\r\n * @param {vec2} out The receiving vec2\r\n * @param {vec2} a The vec2 point to rotate\r\n * @param {vec2} b The origin of the rotation\r\n * @param {Number} c The angle of rotation\r\n * @returns {vec2} out\r\n */\n\nexport function rotate(out, a, b, c) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(c),\n      cosC = Math.cos(c); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\r\n * Get the angle between two 2D vectors\r\n * @param {vec2} a The first operand\r\n * @param {vec2} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1];\n  var len1 = x1 * x1 + y1 * y1;\n\n  if (len1 > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len1 = 1 / Math.sqrt(len1);\n  }\n\n  var len2 = x2 * x2 + y2 * y2;\n\n  if (len2 > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len2 = 1 / Math.sqrt(len2);\n  }\n\n  var cosine = (x1 * x2 + y1 * y2) * len1 * len2;\n\n  if (cosine > 1.0) {\n    return 0;\n  } else if (cosine < -1.0) {\n    return Math.PI;\n  } else {\n    return Math.acos(cosine);\n  }\n}\n/**\r\n * Set the components of a vec2 to zero\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @returns {vec2} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {vec2} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return 'vec2(' + a[0] + ', ' + a[1] + ')';\n}\n/**\r\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\r\n *\r\n * @param {vec2} a The first vector.\r\n * @param {vec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {vec2} a The first vector.\r\n * @param {vec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\r\n * Alias for {@link vec2.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec2.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec2.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec2.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec2.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec2.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec2s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\n/**\r\n * 3 Dimensional Vector\r\n * @module vec3\r\n */\n\n/**\r\n * Creates a new, empty vec3\r\n *\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec3 initialized with values from an existing vector\r\n *\r\n * @param {vec3} a vector to clone\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Calculates the length of a vec3\r\n *\r\n * @param {vec3} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Creates a new vec3 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Copy the values from one vec3 to another\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the source vector\r\n * @returns {vec3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Set the components of a vec3 to the given values\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} out\r\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Adds two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\r\n * Multiplies two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\r\n * Divides two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to ceil\r\n * @returns {vec3} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to floor\r\n * @returns {vec3} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to round\r\n * @returns {vec3} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\r\n * Scales a vec3 by a scalar number\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec3} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\r\n * Adds two vec3's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec3} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec3's\r\n *\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec3's\r\n *\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Calculates the squared length of a vec3\r\n *\r\n * @param {vec3} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Negates the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to negate\r\n * @returns {vec3} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to invert\r\n * @returns {vec3} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\r\n * Normalize a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to normalize\r\n * @returns {vec3} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec3's\r\n *\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\r\n * Computes the cross product of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\r\n * Performs a hermite interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @param {vec3} c the third operand\r\n * @param {vec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Performs a bezier interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @param {vec3} c the third operand\r\n * @param {vec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec3} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat4.\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to transform\r\n * @param {mat4} m matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat3.\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to transform\r\n * @param {mat3} m the 3x3 matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\r\n * Transforms the vec3 with a quat\r\n * Can also be used for dual quaternions. (Multiply it with the real part)\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to transform\r\n * @param {quat} q quaternion to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the x-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {vec3} a The vec3 point to rotate\r\n * @param {vec3} b The origin of the rotation\r\n * @param {Number} c The angle of rotation\r\n * @returns {vec3} out\r\n */\n\nexport function rotateX(out, a, b, c) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(c) - p[2] * Math.sin(c);\n  r[2] = p[1] * Math.sin(c) + p[2] * Math.cos(c); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the y-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {vec3} a The vec3 point to rotate\r\n * @param {vec3} b The origin of the rotation\r\n * @param {Number} c The angle of rotation\r\n * @returns {vec3} out\r\n */\n\nexport function rotateY(out, a, b, c) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(c) + p[0] * Math.cos(c);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(c) - p[0] * Math.sin(c); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the z-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {vec3} a The vec3 point to rotate\r\n * @param {vec3} b The origin of the rotation\r\n * @param {Number} c The angle of rotation\r\n * @returns {vec3} out\r\n */\n\nexport function rotateZ(out, a, b, c) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(c) - p[1] * Math.sin(c);\n  r[1] = p[0] * Math.sin(c) + p[1] * Math.cos(c);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Get the angle between two 3D vectors\r\n * @param {vec3} a The first operand\r\n * @param {vec3} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var tempA = fromValues(a[0], a[1], a[2]);\n  var tempB = fromValues(b[0], b[1], b[2]);\n  normalize(tempA, tempA);\n  normalize(tempB, tempB);\n  var cosine = dot(tempA, tempB);\n\n  if (cosine > 1.0) {\n    return 0;\n  } else if (cosine < -1.0) {\n    return Math.PI;\n  } else {\n    return Math.acos(cosine);\n  }\n}\n/**\r\n * Set the components of a vec3 to zero\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @returns {vec3} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {vec3} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return 'vec3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ')';\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {vec3} a The first vector.\r\n * @param {vec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {vec3} a The first vector.\r\n * @param {vec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\r\n * Alias for {@link vec3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec3.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec3.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec3.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec3.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec3.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec3s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\n/**\r\n * 4 Dimensional Vector\r\n * @module vec4\r\n */\n\n/**\r\n * Creates a new, empty vec4\r\n *\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with values from an existing vector\r\n *\r\n * @param {vec4} a vector to clone\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function fromValues(x, y, z, w) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Copy the values from one vec4 to another\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the source vector\r\n * @returns {vec4} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to the given values\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} out\r\n */\n\nexport function set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Adds two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\r\n * Multiplies two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\r\n * Divides two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to ceil\r\n * @returns {vec4} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to floor\r\n * @returns {vec4} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to round\r\n * @returns {vec4} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\r\n * Scales a vec4 by a scalar number\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec4} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\r\n * Adds two vec4's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec4} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec4's\r\n *\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec4's\r\n *\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Calculates the length of a vec4\r\n *\r\n * @param {vec4} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\r\n * Calculates the squared length of a vec4\r\n *\r\n * @param {vec4} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Negates the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to negate\r\n * @returns {vec4} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to invert\r\n * @returns {vec4} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\r\n * Normalize a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to normalize\r\n * @returns {vec4} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec4's\r\n *\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\r\n * Returns the cross-product of three vectors in a 4-dimensional space\r\n *\r\n * @param {vec4} result the receiving vector\r\n * @param {vec4} U the first vector\r\n * @param {vec4} V the second vector\r\n * @param {vec4} W the third vector\r\n * @returns {vec4} result\r\n */\n\nexport function cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n;\n/**\r\n * Performs a linear interpolation between two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec4} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec4} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = glMatrix.RANDOM() * 2 - 1;\n    v2 = glMatrix.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = glMatrix.RANDOM() * 2 - 1;\n    v4 = glMatrix.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a mat4.\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the vector to transform\r\n * @param {mat4} m matrix to transform with\r\n * @returns {vec4} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a quat\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the vector to transform\r\n * @param {quat} q quaternion to transform with\r\n * @returns {vec4} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to zero\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @returns {vec4} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {vec4} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return 'vec4(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ')';\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {vec4} a The first vector.\r\n * @param {vec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {vec4} a The first vector.\r\n * @param {vec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\r\n * Alias for {@link vec4.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec4.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec4.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec4.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec4.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec4.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec4.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec4s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();","function _noop() { }\r\nvar AsyncWorkerQueue = /** @class */ (function () {\r\n    function AsyncWorkerQueue(concurrency) {\r\n        this.concurrency = concurrency;\r\n        this.paused = false;\r\n        this.processes = 0;\r\n        this.workers = [];\r\n        this.tasks = [];\r\n    }\r\n    AsyncWorkerQueue.prototype.process = function (finishCb) {\r\n        var _this = this;\r\n        this.finishCb = finishCb || _noop;\r\n        var _loop_1 = function () {\r\n            var task = this_1.tasks.shift();\r\n            this_1.processes++;\r\n            task.listener.apply(task.listenerContext, [function () { return _this.next(task); }]);\r\n            task.process.apply(task.processContext, task.args);\r\n        };\r\n        var this_1 = this;\r\n        while (!this.paused && this.processes < this.concurrency && this.length) {\r\n            _loop_1();\r\n        }\r\n    };\r\n    AsyncWorkerQueue.prototype.enqueue = function (worker) {\r\n        if (!worker.tasks || worker.tasks.length === 0) {\r\n            throw \"Worker needs to have at least one task\";\r\n        }\r\n        worker.count = worker.count || 0;\r\n        worker.onWorkFinished = worker.onWorkFinished || _noop;\r\n        this.workers.push(worker);\r\n        for (var i = 0, task = void 0; task = worker.tasks[i]; i++) {\r\n            task.worker = worker;\r\n            task.completed = task.completed || false;\r\n            this.tasks.push(task);\r\n        }\r\n    };\r\n    AsyncWorkerQueue.prototype.dequeue = function () {\r\n        var workers = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            workers[_i] = arguments[_i];\r\n        }\r\n        for (var i = 0, worker = void 0; worker = workers[i]; i++) {\r\n            var index = this.workers.indexOf(worker);\r\n            if (index != -1) {\r\n                for (var k = 0, task = void 0; task = worker.tasks[k]; k++) {\r\n                    var taskIndex = this.tasks.indexOf(task);\r\n                    if (taskIndex != -1) {\r\n                        this.tasks.splice(taskIndex, 1);\r\n                    }\r\n                }\r\n                this.workers.splice(index, 1);\r\n            }\r\n        }\r\n    };\r\n    AsyncWorkerQueue.prototype.idle = function () {\r\n        return this.length + this.processes + this.workers.length === 0;\r\n    };\r\n    AsyncWorkerQueue.prototype.next = function (task) {\r\n        //Completed the task\r\n        this.processes--;\r\n        task.completed = true;\r\n        //Check if all tasks of the Worker have been completed\r\n        this.workerFinished(task.worker);\r\n        this.onQueueFinished();\r\n        this.process(this.finishCb);\r\n    };\r\n    /**\r\n     * If all tasks of the worker have been completed we can call its onWorkFinished callback\r\n     * and remove the worker from the queue\r\n     * @param worker\r\n     */\r\n    AsyncWorkerQueue.prototype.workerFinished = function (worker) {\r\n        worker.count += 1;\r\n        var index = this.workers.indexOf(worker);\r\n        if (worker.count === worker.tasks.length && index != -1) {\r\n            var resources = worker.tasks.map(function (task) { return task.resource; });\r\n            worker.onWorkFinished.apply(worker.onWorkFinishedContext, resources);\r\n            this.workers.splice(index, 1);\r\n        }\r\n    };\r\n    AsyncWorkerQueue.prototype.onQueueFinished = function () {\r\n        if (this.idle()) {\r\n            this.finishCb();\r\n        }\r\n    };\r\n    AsyncWorkerQueue.prototype.abort = function () {\r\n        for (var i = 0, worker = void 0; worker = this.workers[i]; i++) {\r\n            for (var j = 0, task = void 0; task = worker.tasks[j]; j++) {\r\n                task.resource.abort();\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Stop processing of further tasks and clear worker cb\r\n     */\r\n    AsyncWorkerQueue.prototype.stop = function () {\r\n        this.finishCb = _noop;\r\n        this.abort();\r\n        this.workers.length = 0;\r\n        this.tasks.length = 0;\r\n        this.processes = 0;\r\n    };\r\n    AsyncWorkerQueue.prototype.pause = function () {\r\n        this.paused = true;\r\n    };\r\n    AsyncWorkerQueue.prototype.resume = function () {\r\n        if (this.paused === false) {\r\n            return;\r\n        }\r\n        this.paused = false;\r\n        this.process();\r\n    };\r\n    Object.defineProperty(AsyncWorkerQueue.prototype, \"length\", {\r\n        get: function () {\r\n            return this.tasks.length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AsyncWorkerQueue.prototype, \"running\", {\r\n        get: function () {\r\n            return !!this.processes;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return AsyncWorkerQueue;\r\n}());\r\nexport { AsyncWorkerQueue };\r\n","var EmitSignal = /** @class */ (function () {\r\n    function EmitSignal(emitter, type) {\r\n        this._type = type;\r\n        this._emitter = emitter;\r\n    }\r\n    EmitSignal.prototype.emit = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        var _a;\r\n        return (_a = this._emitter).emit.apply(_a, [this._type].concat(args));\r\n    };\r\n    /**\r\n     * function alias for emit\r\n     * @param args\r\n     */\r\n    EmitSignal.prototype.dispatch = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        return this.emit.apply(this, args);\r\n    };\r\n    EmitSignal.prototype.on = function (fn, context) {\r\n        this._emitter.on(this._type, fn, context);\r\n        return this;\r\n    };\r\n    /**\r\n     * alias for on\r\n     * @param fn - EventFunction\r\n     * @param context - context to call the function with\r\n     */\r\n    EmitSignal.prototype.add = function (fn, context) {\r\n        return this.on(fn, context);\r\n    };\r\n    EmitSignal.prototype.once = function (fn, context) {\r\n        this._emitter.once(this._type, fn, context);\r\n        return this;\r\n    };\r\n    /**\r\n     * alias for once\r\n     * @param fn\r\n     * @param context\r\n     */\r\n    EmitSignal.prototype.addOnce = function (fn, context) {\r\n        return this.once(fn, context);\r\n    };\r\n    EmitSignal.prototype.removeAllListeners = function () {\r\n        this._emitter.removeAllListeners(this._type);\r\n        return this;\r\n    };\r\n    EmitSignal.prototype.removeListener = function (fn, context, once) {\r\n        this._emitter.removeListener(this._type, fn, context, once);\r\n        return this;\r\n    };\r\n    Object.defineProperty(EmitSignal.prototype, \"type\", {\r\n        get: function () {\r\n            return this._type;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EmitSignal.prototype, \"emitter\", {\r\n        get: function () {\r\n            return this._emitter;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return EmitSignal;\r\n}());\r\nexport { EmitSignal };\r\n","var _this = this;\r\nimport { Resource } from \"./Resource\";\r\nimport * as EventEmitter from \"eventemitter3\";\r\nimport { EmitSignal } from \"./EmitSignal\";\r\nexport var RESOURCE_LOADER_EVENTS;\r\n(function (RESOURCE_LOADER_EVENTS) {\r\n    RESOURCE_LOADER_EVENTS[\"LOAD_COMPLETE\"] = \"LOAD_COMPLETE\";\r\n})(RESOURCE_LOADER_EVENTS || (RESOURCE_LOADER_EVENTS = {}));\r\nvar RESOURCE_LOADER_PROPERTIES = {\r\n    _emitter: function () { return new EventEmitter(); },\r\n    onLoad: function () { return new EmitSignal(_this._emitter, RESOURCE_LOADER_EVENTS.LOAD_COMPLETE); },\r\n};\r\nvar RESOURCE_LOADER_PROTOTYPE = {\r\n    transform: function () { return Middleware.prototype.transform; },\r\n    add: function () { return Middleware.prototype.add; },\r\n    addResourceToQueue: function () { return Middleware.prototype.addResourceToQueue; },\r\n    _queueCallback: function () { return Middleware.prototype._queueCallback; }\r\n};\r\nvar Middleware = /** @class */ (function () {\r\n    function Middleware(type) {\r\n        this._emitter = new EventEmitter();\r\n        this.onLoad = new EmitSignal(this._emitter, RESOURCE_LOADER_EVENTS.LOAD_COMPLETE);\r\n        this.type = type;\r\n    }\r\n    Middleware.inject = function (middleware) {\r\n        for (var propKey in RESOURCE_LOADER_PROPERTIES) {\r\n            if (middleware[propKey] === undefined || middleware[propKey] === null) {\r\n                middleware[propKey] = RESOURCE_LOADER_PROPERTIES[propKey]();\r\n            }\r\n        }\r\n        for (var protoKey in RESOURCE_LOADER_PROTOTYPE) {\r\n            if (middleware.constructor && middleware.constructor.prototype) {\r\n                if (middleware.constructor.prototype[protoKey] === undefined || middleware.constructor.prototype[protoKey] === null) {\r\n                    middleware.constructor.prototype[protoKey] = RESOURCE_LOADER_PROTOTYPE[protoKey]();\r\n                }\r\n            }\r\n            else {\r\n                if (middleware[protoKey] === undefined || middleware[protoKey] === null) {\r\n                    middleware[protoKey] = RESOURCE_LOADER_PROTOTYPE[protoKey]();\r\n                }\r\n            }\r\n        }\r\n    };\r\n    Middleware.prototype.add = function (url) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        this.addResourceToQueue({\r\n            resources: [{\r\n                    resource: new Resource(url),\r\n                    args: args.slice()\r\n                }]\r\n        });\r\n        return this;\r\n    };\r\n    Middleware.prototype.addResourceToQueue = function (config) {\r\n        var _this = this;\r\n        this._loader._addResourceToQueue({\r\n            resources: config.resources,\r\n            onResourcesLoaded: function () {\r\n                var resources = [];\r\n                for (var _i = 0; _i < arguments.length; _i++) {\r\n                    resources[_i] = arguments[_i];\r\n                }\r\n                return _this._queueCallback.apply(_this, [config.key, _this.type].concat(resources));\r\n            },\r\n            onResourcesLoadedContext: this\r\n        });\r\n        return this;\r\n    };\r\n    Middleware.prototype._queueCallback = function (key, type) {\r\n        var resources = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            resources[_i - 2] = arguments[_i];\r\n        }\r\n        var data = this.transform.apply(this, resources);\r\n        this.onLoad.emit({ key: key, type: type, data: data });\r\n    };\r\n    /**\r\n     * transform is called after the Middleware has finished processing the Resources\r\n     * that have been added to the LoadQueue of the loader\r\n     * its used to further transform the loaded data, e.g. if u have 2 files json and binary etc.\r\n     * @param resources {Resource[]} - the resources that have finished loading\r\n     */\r\n    Middleware.prototype.transform = function () {\r\n        var resources = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            resources[_i] = arguments[_i];\r\n        }\r\n        return resources.map(function (resource) { return resource.request; });\r\n    };\r\n    return Middleware;\r\n}());\r\nexport { Middleware };\r\n","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport * as EventEmitter from \"eventemitter3\";\r\nimport { EmitSignal } from \"./EmitSignal\";\r\nexport var RESOURCE_EVENT;\r\n(function (RESOURCE_EVENT) {\r\n    RESOURCE_EVENT[\"PROGRESS\"] = \"resource_event_progress\";\r\n    RESOURCE_EVENT[\"LOAD_START\"] = \"resource_event_loadStart\";\r\n    RESOURCE_EVENT[\"LOAD_COMPLETE\"] = \"resource_event_load\";\r\n    RESOURCE_EVENT[\"ERROR\"] = \"resource_event_error\";\r\n    RESOURCE_EVENT[\"ABORT\"] = \"resource_event_abort\";\r\n    RESOURCE_EVENT[\"TIMEOUT\"] = \"resource_event_timeout\";\r\n})(RESOURCE_EVENT || (RESOURCE_EVENT = {}));\r\nexport var LOAD_TYPE;\r\n(function (LOAD_TYPE) {\r\n    LOAD_TYPE[\"XHR\"] = \"xhr\";\r\n    LOAD_TYPE[\"IMAGE\"] = \"image\";\r\n})(LOAD_TYPE || (LOAD_TYPE = {}));\r\nvar Resource = /** @class */ (function () {\r\n    function Resource(options, config) {\r\n        this.config = config || Object.create(null);\r\n        if (typeof options === 'string') {\r\n            this.options = {\r\n                url: options,\r\n                loadType: LOAD_TYPE.XHR,\r\n                responseType: ''\r\n            };\r\n        }\r\n        else {\r\n            this.options = __assign({}, options, { url: options.url, loadType: options.loadType || LOAD_TYPE.XHR, responseType: options.responseType || '' });\r\n        }\r\n        this._emitter = new EventEmitter();\r\n        this.onProgress = new EmitSignal(this._emitter, RESOURCE_EVENT.PROGRESS);\r\n        this.onLoadStart = new EmitSignal(this._emitter, RESOURCE_EVENT.LOAD_START);\r\n        this.onLoadFinished = new EmitSignal(this._emitter, RESOURCE_EVENT.LOAD_COMPLETE);\r\n        this.onError = new EmitSignal(this._emitter, RESOURCE_EVENT.ERROR);\r\n        this.onAbort = new EmitSignal(this._emitter, RESOURCE_EVENT.ABORT);\r\n        this.onTimeout = new EmitSignal(this._emitter, RESOURCE_EVENT.TIMEOUT);\r\n    }\r\n    /**\r\n     * Create a XMLHttpRequest and start loading the Resource\r\n     * @param options - { url: string, timeout?: number, asnyc?: boolean, responseType?: string;}\r\n     * @param args - will be emitted with loadstart and load events\r\n     */\r\n    Resource.prototype.loadXhr = function (options) {\r\n        var _this = this;\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        var request = new XMLHttpRequest();\r\n        request.timeout = options.timeout;\r\n        request.responseType = options.responseType || 'text';\r\n        request.open('GET', options.url, options.async === undefined ? true : !!options.async);\r\n        request.addEventListener('progress', function (event) { return _this.onProgress.emit(event, request); }, { once: true });\r\n        request.addEventListener('loadstart', function (event) {\r\n            var _a;\r\n            return (_a = _this.onLoadStart).emit.apply(_a, [event, request].concat(args));\r\n        }, { once: true });\r\n        request.addEventListener('load', function (event) { return _this.onLoadFinished.emit(_this); }, { once: true });\r\n        request.addEventListener('error', function (event) { return _this.onError.emit(event, request); }, { once: true });\r\n        request.addEventListener('abort', function (event) { return _this.onAbort.emit(event, request); }, { once: true });\r\n        request.addEventListener('timeout', function (event) { return _this.onTimeout.emit(event, request); }, { once: true });\r\n        request.send();\r\n        return request;\r\n    };\r\n    /**\r\n     * Create a HTMLImageElement and start loading the Resource\r\n     * @param options - { url: string, width?: number, height?: number }\r\n     * @param args - will be emitted with loadstart and load events\r\n     */\r\n    Resource.prototype.loadImage = function (options) {\r\n        var _this = this;\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        var image = new Image(options.width, options.height);\r\n        if (!image) {\r\n            console.error('Failed to create Image Object');\r\n            this.onError.emit(event, image);\r\n            return image;\r\n        }\r\n        image.addEventListener('progress', function (event) { return _this.onProgress.emit(event, image); }, { once: true });\r\n        image.addEventListener('loadstart', function (event) {\r\n            var _a;\r\n            return (_a = _this.onLoadStart).emit.apply(_a, [event, image].concat(args));\r\n        }, { once: true });\r\n        image.addEventListener('load', function (event) { return _this.onLoadFinished.emit(_this); }, { once: true });\r\n        image.addEventListener('error', function (event) { return _this.onError.emit(event, image); }, { once: true });\r\n        image.addEventListener('abort', function (event) { return _this.onAbort.emit(event, image); }, { once: true });\r\n        image.crossOrigin = this._determineCrossOrigin(options.url);\r\n        image.src = options.url;\r\n        return image;\r\n    };\r\n    Resource.prototype._determineCrossOrigin = function (url) {\r\n        // data: and javascript: urls are considered same-origin\r\n        if (url.indexOf('data:') === 0) {\r\n            return '';\r\n        }\r\n        // A sandboxed iframe without the 'allow-same-origin' attribute will have a special\r\n        // origin designed not to match window.location.origin, and will always require\r\n        // crossOrigin requests regardless of whether the location matches.\r\n        if (window.origin !== window.location.origin) {\r\n            return 'anonymous';\r\n        }\r\n        // default is window.location\r\n        var loc = window.location;\r\n        if (!Resource.tempAnchor) {\r\n            Resource.tempAnchor = document.createElement('a');\r\n        }\r\n        // let the browser determine the full href for the url of this resource and then\r\n        // use the properties of the anchor element, cause fuck IE9\r\n        Resource.tempAnchor.href = url;\r\n        var samePort = (!Resource.tempAnchor.port && loc.port === '') || (Resource.tempAnchor.port === loc.port);\r\n        var protocol = Resource.tempAnchor.protocol ? Resource.tempAnchor.protocol + \":\" : '';\r\n        // if cross origin\r\n        if (Resource.tempAnchor.host !== loc.hostname || !samePort || protocol !== loc.protocol) {\r\n            return 'anonymous';\r\n        }\r\n        return '';\r\n    };\r\n    /**\r\n     * Called by the _loader to start loading the Resource\r\n     * @param options - load options for the resource or the url\r\n     * @param args\r\n     * @returns {LoadComponent}\r\n     */\r\n    Resource.prototype.load = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        switch (this.options.loadType) {\r\n            case LOAD_TYPE.IMAGE:\r\n                this.request = this.loadImage.apply(this, [this.options].concat(args));\r\n                return this;\r\n            case LOAD_TYPE.XHR:\r\n                this.request = this.loadXhr.apply(this, [this.options].concat(args));\r\n                return this;\r\n        }\r\n        return this;\r\n    };\r\n    Resource.prototype.abort = function () {\r\n        if (this.request instanceof XMLHttpRequest) {\r\n            this.request.abort();\r\n        }\r\n        else if (this.request instanceof HTMLImageElement) {\r\n            this.request.src = \"\";\r\n        }\r\n        return this;\r\n    };\r\n    return Resource;\r\n}());\r\nexport { Resource };\r\n","import { Middleware } from \"./Middleware\";\r\nimport { AsyncWorkerQueue } from \"./AsyncWorkerQueue\";\r\nimport { EmitSignal } from \"./EmitSignal\";\r\nimport * as EventEmitter from \"eventemitter3\";\r\nexport var LOADER_EVENTS;\r\n(function (LOADER_EVENTS) {\r\n    LOADER_EVENTS[\"PRE\"] = \"PRE\";\r\n    LOADER_EVENTS[\"AFTER\"] = \"AFTER\";\r\n    LOADER_EVENTS[\"PROGRESS\"] = \"PROGRESS\";\r\n    LOADER_EVENTS[\"LOAD_START\"] = \"LOAD_START\";\r\n    LOADER_EVENTS[\"LOAD_COMPLETE\"] = \"LOAD_COMPLETE\";\r\n    LOADER_EVENTS[\"LOADER_FINISHED\"] = \"LOADER_FINISHED\";\r\n    LOADER_EVENTS[\"ERROR\"] = \"ERROR\";\r\n})(LOADER_EVENTS || (LOADER_EVENTS = {}));\r\nvar ResourceLoader = /** @class */ (function () {\r\n    function ResourceLoader(concurrency) {\r\n        if (concurrency === void 0) { concurrency = 10; }\r\n        this._emitter = new EventEmitter();\r\n        this.middleware = Object.create(null);\r\n        this.resourceQueue = new AsyncWorkerQueue(concurrency);\r\n        this._preSignal = new EmitSignal(this._emitter, LOADER_EVENTS.PRE);\r\n        this._afterSignal = new EmitSignal(this._emitter, LOADER_EVENTS.AFTER);\r\n        this.onProgress = new EmitSignal(this._emitter, LOADER_EVENTS.PROGRESS);\r\n        this.onLoadStart = new EmitSignal(this._emitter, LOADER_EVENTS.LOAD_START);\r\n        this.onLoadComplete = new EmitSignal(this._emitter, LOADER_EVENTS.LOAD_COMPLETE);\r\n        this.onError = new EmitSignal(this._emitter, LOADER_EVENTS.ERROR);\r\n        this.onComplete = new EmitSignal(this._emitter, LOADER_EVENTS.LOADER_FINISHED);\r\n    }\r\n    ResourceLoader.prototype._callAfter = function (data) {\r\n        this.onLoadComplete.emit(data);\r\n        this._afterSignal.emit(data);\r\n    };\r\n    /**\r\n     * get a LoadComponent\r\n     * @param {string | {new(...args): T}} id\r\n     * @returns {T}\r\n     */\r\n    ResourceLoader.prototype.get = function (id) {\r\n        if (id && typeof id === \"string\") {\r\n            return this.middleware[id];\r\n        }\r\n        else if (id && typeof id !== \"string\") {\r\n            return this.middleware[id.prototype.constructor.name];\r\n        }\r\n        return undefined;\r\n    };\r\n    /**\r\n     * Add a new Middleware e.g. to load Models from OBJ,GLTF file or to load Textures, Audio etc\r\n     * @param {Middleware} middleware\r\n     * @param {string | {new(...args): T}} id\r\n     * @returns {T}\r\n     */\r\n    ResourceLoader.prototype.addMiddleware = function (middleware, id) {\r\n        Middleware.inject(middleware);\r\n        middleware._loader = this;\r\n        if (id && typeof id === \"string\") {\r\n            this.middleware[id] = middleware;\r\n        }\r\n        else if (id && typeof id !== \"string\") {\r\n            this.middleware[id.prototype.constructor.name] = middleware;\r\n        }\r\n        middleware.onLoad.on(this._callAfter, this);\r\n        return middleware;\r\n    };\r\n    /**\r\n     * Remove a Middleware from the ResourceLoader\r\n     * @param {string | {new(...args): T}} id\r\n     */\r\n    ResourceLoader.prototype.removeMiddleware = function (id) {\r\n        if (id && typeof id === \"string\") {\r\n            delete this.middleware[id];\r\n        }\r\n        else if (id && typeof id !== \"string\") {\r\n            delete this.middleware[id.prototype.constructor.name];\r\n        }\r\n    };\r\n    ResourceLoader.prototype._onResourceLoadStart = function (value) {\r\n        this._preSignal.emit(value.resource);\r\n        this.onLoadStart.emit(value.resource);\r\n    };\r\n    ResourceLoader.prototype._addResourceToQueue = function (config) {\r\n        var _this = this;\r\n        config.resources.forEach(function (value) {\r\n            value.resource.onProgress.on(function (event) { return _this.onProgress.emit(event); });\r\n            value.resource.onError.on(function (event) { return _this.onError.emit(event); });\r\n            value.resource.onLoadStart.on(function () { return _this._onResourceLoadStart(value); });\r\n        });\r\n        this.resourceQueue.enqueue({\r\n            tasks: config.resources.map(function (value) {\r\n                return {\r\n                    resource: value.resource,\r\n                    process: value.resource.load,\r\n                    processContext: value.resource,\r\n                    listener: value.resource.onLoadFinished.once,\r\n                    listenerContext: value.resource.onLoadFinished,\r\n                    args: value.args\r\n                };\r\n            }),\r\n            onWorkFinished: config.onResourcesLoaded,\r\n            onWorkFinishedContext: config.onResourcesLoadedContext\r\n        });\r\n        return this;\r\n    };\r\n    /**\r\n     * cb to call before a resource starts loading\r\n     * cb is removed after the ResourceLoader has finished loading the resources\r\n     * @param cb\r\n     */\r\n    ResourceLoader.prototype.pre = function (cb) {\r\n        this._preSignal.on(cb);\r\n        return this;\r\n    };\r\n    /**\r\n     * cb to call after a Middleware has finished loading and transformed a resource\r\n     * cb is removed after the ResourceLoader has finished loading the resources\r\n     * @param cb\r\n     */\r\n    ResourceLoader.prototype.after = function (cb) {\r\n        this._afterSignal.on(cb);\r\n        return this;\r\n    };\r\n    ResourceLoader.prototype._onLoadComplete = function () {\r\n        this._preSignal.removeAllListeners();\r\n        this._afterSignal.removeAllListeners();\r\n        this.onComplete.emit(this);\r\n    };\r\n    ResourceLoader.prototype.load = function (finishCb) {\r\n        var _this = this;\r\n        if (finishCb && typeof finishCb === 'function') {\r\n            this.onComplete.once(finishCb);\r\n        }\r\n        this.resourceQueue.process(function () { return _this._onLoadComplete(); });\r\n        return this;\r\n    };\r\n    ResourceLoader.prototype.stop = function () {\r\n        this.resourceQueue.stop();\r\n    };\r\n    ResourceLoader.prototype.pause = function () {\r\n        this.resourceQueue.pause();\r\n    };\r\n    ResourceLoader.prototype.resume = function () {\r\n        this.resourceQueue.resume();\r\n    };\r\n    return ResourceLoader;\r\n}());\r\nexport { ResourceLoader };\r\n","export * from \"./ResourceLoader\";\r\nexport * from \"./Resource\";\r\nexport * from \"./Middleware\";\r\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nexport default function(color, forceCSSHex) {\n  const colorFormat = color.__state.conversionName.toString();\n\n  const r = Math.round(color.r);\n  const g = Math.round(color.g);\n  const b = Math.round(color.b);\n  const a = color.a;\n  const h = Math.round(color.h);\n  const s = color.s.toFixed(1);\n  const v = color.v.toFixed(1);\n\n  if (forceCSSHex || (colorFormat === 'THREE_CHAR_HEX') || (colorFormat === 'SIX_CHAR_HEX')) {\n    let str = color.hex.toString(16);\n    while (str.length < 6) {\n      str = '0' + str;\n    }\n    return '#' + str;\n  } else if (colorFormat === 'CSS_RGB') {\n    return 'rgb(' + r + ',' + g + ',' + b + ')';\n  } else if (colorFormat === 'CSS_RGBA') {\n    return 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n  } else if (colorFormat === 'HEX') {\n    return '0x' + color.hex.toString(16);\n  } else if (colorFormat === 'RGB_ARRAY') {\n    return '[' + r + ',' + g + ',' + b + ']';\n  } else if (colorFormat === 'RGBA_ARRAY') {\n    return '[' + r + ',' + g + ',' + b + ',' + a + ']';\n  } else if (colorFormat === 'RGB_OBJ') {\n    return '{r:' + r + ',g:' + g + ',b:' + b + '}';\n  } else if (colorFormat === 'RGBA_OBJ') {\n    return '{r:' + r + ',g:' + g + ',b:' + b + ',a:' + a + '}';\n  } else if (colorFormat === 'HSV_OBJ') {\n    return '{h:' + h + ',s:' + s + ',v:' + v + '}';\n  } else if (colorFormat === 'HSVA_OBJ') {\n    return '{h:' + h + ',s:' + s + ',v:' + v + ',a:' + a + '}';\n  }\n\n  return 'unknown format';\n}\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nconst ARR_EACH = Array.prototype.forEach;\nconst ARR_SLICE = Array.prototype.slice;\n\n/**\n * Band-aid methods for things that should be a lot easier in JavaScript.\n * Implementation and structure inspired by underscore.js\n * http://documentcloud.github.com/underscore/\n */\n\nconst Common = {\n  BREAK: {},\n\n  extend: function(target) {\n    this.each(ARR_SLICE.call(arguments, 1), function(obj) {\n      const keys = this.isObject(obj) ? Object.keys(obj) : [];\n      keys.forEach(function(key) {\n        if (!this.isUndefined(obj[key])) {\n          target[key] = obj[key];\n        }\n      }.bind(this));\n    }, this);\n\n    return target;\n  },\n\n  defaults: function(target) {\n    this.each(ARR_SLICE.call(arguments, 1), function(obj) {\n      const keys = this.isObject(obj) ? Object.keys(obj) : [];\n      keys.forEach(function(key) {\n        if (this.isUndefined(target[key])) {\n          target[key] = obj[key];\n        }\n      }.bind(this));\n    }, this);\n\n    return target;\n  },\n\n  compose: function() {\n    const toCall = ARR_SLICE.call(arguments);\n    return function() {\n      let args = ARR_SLICE.call(arguments);\n      for (let i = toCall.length - 1; i >= 0; i--) {\n        args = [toCall[i].apply(this, args)];\n      }\n      return args[0];\n    };\n  },\n\n  each: function(obj, itr, scope) {\n    if (!obj) {\n      return;\n    }\n\n    if (ARR_EACH && obj.forEach && obj.forEach === ARR_EACH) {\n      obj.forEach(itr, scope);\n    } else if (obj.length === obj.length + 0) { // Is number but not NaN\n      let key;\n      let l;\n      for (key = 0, l = obj.length; key < l; key++) {\n        if (key in obj && itr.call(scope, obj[key], key) === this.BREAK) {\n          return;\n        }\n      }\n    } else {\n      for (const key in obj) {\n        if (itr.call(scope, obj[key], key) === this.BREAK) {\n          return;\n        }\n      }\n    }\n  },\n\n  defer: function(fnc) {\n    setTimeout(fnc, 0);\n  },\n\n  // if the function is called repeatedly, wait until threshold passes until we execute the function\n  debounce: function(func, threshold, callImmediately) {\n    let timeout;\n\n    return function() {\n      const obj = this;\n      const args = arguments;\n      function delayed() {\n        timeout = null;\n        if (!callImmediately) func.apply(obj, args);\n      }\n\n      const callNow = callImmediately || !timeout;\n\n      clearTimeout(timeout);\n      timeout = setTimeout(delayed, threshold);\n\n      if (callNow) {\n        func.apply(obj, args);\n      }\n    };\n  },\n\n  toArray: function(obj) {\n    if (obj.toArray) return obj.toArray();\n    return ARR_SLICE.call(obj);\n  },\n\n  isUndefined: function(obj) {\n    return obj === undefined;\n  },\n\n  isNull: function(obj) {\n    return obj === null;\n  },\n\n  isNaN: function(obj) {\n    return isNaN(obj);\n  },\n\n  isArray: Array.isArray || function(obj) {\n    return obj.constructor === Array;\n  },\n\n  isObject: function(obj) {\n    return obj === Object(obj);\n  },\n\n  isNumber: function(obj) {\n    return obj === obj + 0;\n  },\n\n  isString: function(obj) {\n    return obj === obj + '';\n  },\n\n  isBoolean: function(obj) {\n    return obj === false || obj === true;\n  },\n\n  isFunction: function(obj) {\n    return Object.prototype.toString.call(obj) === '[object Function]';\n  }\n\n};\n\nexport default Common;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport toString from './toString';\nimport common from '../utils/common';\n\nconst INTERPRETATIONS = [\n  // Strings\n  {\n    litmus: common.isString,\n    conversions: {\n      THREE_CHAR_HEX: {\n        read: function(original) {\n          const test = original.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);\n          if (test === null) {\n            return false;\n          }\n\n          return {\n            space: 'HEX',\n            hex: parseInt(\n              '0x' +\n              test[1].toString() + test[1].toString() +\n              test[2].toString() + test[2].toString() +\n              test[3].toString() + test[3].toString(), 0)\n          };\n        },\n\n        write: toString\n      },\n\n      SIX_CHAR_HEX: {\n        read: function(original) {\n          const test = original.match(/^#([A-F0-9]{6})$/i);\n          if (test === null) {\n            return false;\n          }\n\n          return {\n            space: 'HEX',\n            hex: parseInt('0x' + test[1].toString(), 0)\n          };\n        },\n\n        write: toString\n      },\n\n      CSS_RGB: {\n        read: function(original) {\n          const test = original.match(/^rgb\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);\n          if (test === null) {\n            return false;\n          }\n\n          return {\n            space: 'RGB',\n            r: parseFloat(test[1]),\n            g: parseFloat(test[2]),\n            b: parseFloat(test[3])\n          };\n        },\n\n        write: toString\n      },\n\n      CSS_RGBA: {\n        read: function(original) {\n          const test = original.match(/^rgba\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);\n          if (test === null) {\n            return false;\n          }\n\n          return {\n            space: 'RGB',\n            r: parseFloat(test[1]),\n            g: parseFloat(test[2]),\n            b: parseFloat(test[3]),\n            a: parseFloat(test[4])\n          };\n        },\n\n        write: toString\n      }\n    }\n  },\n\n  // Numbers\n  {\n    litmus: common.isNumber,\n\n    conversions: {\n\n      HEX: {\n        read: function(original) {\n          return {\n            space: 'HEX',\n            hex: original,\n            conversionName: 'HEX'\n          };\n        },\n\n        write: function(color) {\n          return color.hex;\n        }\n      }\n\n    }\n\n  },\n\n  // Arrays\n  {\n    litmus: common.isArray,\n    conversions: {\n      RGB_ARRAY: {\n        read: function(original) {\n          if (original.length !== 3) {\n            return false;\n          }\n\n          return {\n            space: 'RGB',\n            r: original[0],\n            g: original[1],\n            b: original[2]\n          };\n        },\n\n        write: function(color) {\n          return [color.r, color.g, color.b];\n        }\n      },\n\n      RGBA_ARRAY: {\n        read: function(original) {\n          if (original.length !== 4) return false;\n          return {\n            space: 'RGB',\n            r: original[0],\n            g: original[1],\n            b: original[2],\n            a: original[3]\n          };\n        },\n\n        write: function(color) {\n          return [color.r, color.g, color.b, color.a];\n        }\n      }\n    }\n  },\n\n  // Objects\n  {\n    litmus: common.isObject,\n    conversions: {\n\n      RGBA_OBJ: {\n        read: function(original) {\n          if (common.isNumber(original.r) &&\n            common.isNumber(original.g) &&\n            common.isNumber(original.b) &&\n            common.isNumber(original.a)) {\n            return {\n              space: 'RGB',\n              r: original.r,\n              g: original.g,\n              b: original.b,\n              a: original.a\n            };\n          }\n          return false;\n        },\n\n        write: function(color) {\n          return {\n            r: color.r,\n            g: color.g,\n            b: color.b,\n            a: color.a\n          };\n        }\n      },\n\n      RGB_OBJ: {\n        read: function(original) {\n          if (common.isNumber(original.r) &&\n            common.isNumber(original.g) &&\n            common.isNumber(original.b)) {\n            return {\n              space: 'RGB',\n              r: original.r,\n              g: original.g,\n              b: original.b\n            };\n          }\n          return false;\n        },\n\n        write: function(color) {\n          return {\n            r: color.r,\n            g: color.g,\n            b: color.b\n          };\n        }\n      },\n\n      HSVA_OBJ: {\n        read: function(original) {\n          if (common.isNumber(original.h) &&\n            common.isNumber(original.s) &&\n            common.isNumber(original.v) &&\n            common.isNumber(original.a)) {\n            return {\n              space: 'HSV',\n              h: original.h,\n              s: original.s,\n              v: original.v,\n              a: original.a\n            };\n          }\n          return false;\n        },\n\n        write: function(color) {\n          return {\n            h: color.h,\n            s: color.s,\n            v: color.v,\n            a: color.a\n          };\n        }\n      },\n\n      HSV_OBJ: {\n        read: function(original) {\n          if (common.isNumber(original.h) &&\n            common.isNumber(original.s) &&\n            common.isNumber(original.v)) {\n            return {\n              space: 'HSV',\n              h: original.h,\n              s: original.s,\n              v: original.v\n            };\n          }\n          return false;\n        },\n\n        write: function(color) {\n          return {\n            h: color.h,\n            s: color.s,\n            v: color.v\n          };\n        }\n      }\n    }\n  }\n];\n\nlet result;\nlet toReturn;\n\nconst interpret = function() {\n  toReturn = false;\n\n  const original = arguments.length > 1 ? common.toArray(arguments) : arguments[0];\n  common.each(INTERPRETATIONS, function(family) {\n    if (family.litmus(original)) {\n      common.each(family.conversions, function(conversion, conversionName) {\n        result = conversion.read(original);\n\n        if (toReturn === false && result !== false) {\n          toReturn = result;\n          result.conversionName = conversionName;\n          result.conversion = conversion;\n          return common.BREAK;\n        }\n      });\n\n      return common.BREAK;\n    }\n  });\n\n  return toReturn;\n};\n\nexport default interpret;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nlet tmpComponent;\n\nconst ColorMath = {\n  hsv_to_rgb: function(h, s, v) {\n    const hi = Math.floor(h / 60) % 6;\n\n    const f = h / 60 - Math.floor(h / 60);\n    const p = v * (1.0 - s);\n    const q = v * (1.0 - (f * s));\n    const t = v * (1.0 - ((1.0 - f) * s));\n\n    const c = [\n      [v, t, p],\n      [q, v, p],\n      [p, v, t],\n      [p, q, v],\n      [t, p, v],\n      [v, p, q]\n    ][hi];\n\n    return {\n      r: c[0] * 255,\n      g: c[1] * 255,\n      b: c[2] * 255\n    };\n  },\n\n  rgb_to_hsv: function(r, g, b) {\n    const min = Math.min(r, g, b);\n    const max = Math.max(r, g, b);\n    const delta = max - min;\n    let h;\n    let s;\n\n    if (max !== 0) {\n      s = delta / max;\n    } else {\n      return {\n        h: NaN,\n        s: 0,\n        v: 0\n      };\n    }\n\n    if (r === max) {\n      h = (g - b) / delta;\n    } else if (g === max) {\n      h = 2 + (b - r) / delta;\n    } else {\n      h = 4 + (r - g) / delta;\n    }\n    h /= 6;\n    if (h < 0) {\n      h += 1;\n    }\n\n    return {\n      h: h * 360,\n      s: s,\n      v: max / 255\n    };\n  },\n\n  rgb_to_hex: function(r, g, b) {\n    let hex = this.hex_with_component(0, 2, r);\n    hex = this.hex_with_component(hex, 1, g);\n    hex = this.hex_with_component(hex, 0, b);\n    return hex;\n  },\n\n  component_from_hex: function(hex, componentIndex) {\n    return (hex >> (componentIndex * 8)) & 0xFF;\n  },\n\n  hex_with_component: function(hex, componentIndex, value) {\n    return value << (tmpComponent = componentIndex * 8) | (hex & ~(0xFF << tmpComponent));\n  }\n};\n\nexport default ColorMath;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport interpret from './interpret';\nimport math from './math';\nimport colorToString from './toString';\nimport common from '../utils/common';\n\nclass Color {\n  constructor() {\n    this.__state = interpret.apply(this, arguments);\n\n    if (this.__state === false) {\n      throw new Error('Failed to interpret color arguments');\n    }\n\n    this.__state.a = this.__state.a || 1;\n  }\n\n  toString() {\n    return colorToString(this);\n  }\n\n  toHexString() {\n    return colorToString(this, true);\n  }\n\n  toOriginal() {\n    return this.__state.conversion.write(this);\n  }\n}\n\nfunction defineRGBComponent(target, component, componentHexIndex) {\n  Object.defineProperty(target, component, {\n    get: function() {\n      if (this.__state.space === 'RGB') {\n        return this.__state[component];\n      }\n\n      Color.recalculateRGB(this, component, componentHexIndex);\n\n      return this.__state[component];\n    },\n\n    set: function(v) {\n      if (this.__state.space !== 'RGB') {\n        Color.recalculateRGB(this, component, componentHexIndex);\n        this.__state.space = 'RGB';\n      }\n\n      this.__state[component] = v;\n    }\n  });\n}\n\nfunction defineHSVComponent(target, component) {\n  Object.defineProperty(target, component, {\n    get: function() {\n      if (this.__state.space === 'HSV') {\n        return this.__state[component];\n      }\n\n      Color.recalculateHSV(this);\n\n      return this.__state[component];\n    },\n\n    set: function(v) {\n      if (this.__state.space !== 'HSV') {\n        Color.recalculateHSV(this);\n        this.__state.space = 'HSV';\n      }\n\n      this.__state[component] = v;\n    }\n  });\n}\n\n\nColor.recalculateRGB = function(color, component, componentHexIndex) {\n  if (color.__state.space === 'HEX') {\n    color.__state[component] = math.component_from_hex(color.__state.hex, componentHexIndex);\n  } else if (color.__state.space === 'HSV') {\n    common.extend(color.__state, math.hsv_to_rgb(color.__state.h, color.__state.s, color.__state.v));\n  } else {\n    throw new Error('Corrupted color state');\n  }\n};\n\nColor.recalculateHSV = function(color) {\n  const result = math.rgb_to_hsv(color.r, color.g, color.b);\n\n  common.extend(color.__state,\n    {\n      s: result.s,\n      v: result.v\n    }\n  );\n\n  if (!common.isNaN(result.h)) {\n    color.__state.h = result.h;\n  } else if (common.isUndefined(color.__state.h)) {\n    color.__state.h = 0;\n  }\n};\n\nColor.COMPONENTS = ['r', 'g', 'b', 'h', 's', 'v', 'hex', 'a'];\n\ndefineRGBComponent(Color.prototype, 'r', 2);\ndefineRGBComponent(Color.prototype, 'g', 1);\ndefineRGBComponent(Color.prototype, 'b', 0);\n\ndefineHSVComponent(Color.prototype, 'h');\ndefineHSVComponent(Color.prototype, 's');\ndefineHSVComponent(Color.prototype, 'v');\n\nObject.defineProperty(Color.prototype, 'a', {\n  get: function() {\n    return this.__state.a;\n  },\n\n  set: function(v) {\n    this.__state.a = v;\n  }\n});\n\nObject.defineProperty(Color.prototype, 'hex', {\n  get: function() {\n    if (!this.__state.space !== 'HEX') {\n      this.__state.hex = math.rgb_to_hex(this.r, this.g, this.b);\n    }\n\n    return this.__state.hex;\n  },\n\n  set: function(v) {\n    this.__state.space = 'HEX';\n    this.__state.hex = v;\n  }\n});\n\nexport default Color;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\n/**\n * @class An \"abstract\" class that represents a given property of an object.\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n */\nclass Controller {\n  constructor(object, property) {\n    this.initialValue = object[property];\n\n    /**\n     * Those who extend this class will put their DOM elements in here.\n     * @type {DOMElement}\n     */\n    this.domElement = document.createElement('div');\n\n    /**\n     * The object to manipulate\n     * @type {Object}\n     */\n    this.object = object;\n\n    /**\n     * The name of the property to manipulate\n     * @type {String}\n     */\n    this.property = property;\n\n    /**\n     * The function to be called on change.\n     * @type {Function}\n     * @ignore\n     */\n    this.__onChange = undefined;\n\n    /**\n     * The function to be called on finishing change.\n     * @type {Function}\n     * @ignore\n     */\n    this.__onFinishChange = undefined;\n  }\n\n  /**\n   * Specify that a function fire every time someone changes the value with\n   * this Controller.\n   *\n   * @param {Function} fnc This function will be called whenever the value\n   * is modified via this Controller.\n   * @returns {Controller} this\n   */\n  onChange(fnc) {\n    this.__onChange = fnc;\n    return this;\n  }\n\n  /**\n   * Specify that a function fire every time someone \"finishes\" changing\n   * the value wih this Controller. Useful for values that change\n   * incrementally like numbers or strings.\n   *\n   * @param {Function} fnc This function will be called whenever\n   * someone \"finishes\" changing the value via this Controller.\n   * @returns {Controller} this\n   */\n  onFinishChange(fnc) {\n    this.__onFinishChange = fnc;\n    return this;\n  }\n\n  /**\n   * Change the value of <code>object[property]</code>\n   *\n   * @param {Object} newValue The new value of <code>object[property]</code>\n   */\n  setValue(newValue) {\n    this.object[this.property] = newValue;\n    if (this.__onChange) {\n      this.__onChange.call(this, newValue);\n    }\n\n    this.updateDisplay();\n    return this;\n  }\n\n  /**\n   * Gets the value of <code>object[property]</code>\n   *\n   * @returns {Object} The current value of <code>object[property]</code>\n   */\n  getValue() {\n    return this.object[this.property];\n  }\n\n  /**\n   * Refreshes the visual display of a Controller in order to keep sync\n   * with the object's current value.\n   * @returns {Controller} this\n   */\n  updateDisplay() {\n    return this;\n  }\n\n  /**\n   * @returns {Boolean} true if the value has deviated from initialValue\n   */\n  isModified() {\n    return this.initialValue !== this.getValue();\n  }\n}\n\nexport default Controller;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport common from '../utils/common';\n\nconst EVENT_MAP = {\n  HTMLEvents: ['change'],\n  MouseEvents: ['click', 'mousemove', 'mousedown', 'mouseup', 'mouseover'],\n  KeyboardEvents: ['keydown']\n};\n\nconst EVENT_MAP_INV = {};\ncommon.each(EVENT_MAP, function(v, k) {\n  common.each(v, function(e) {\n    EVENT_MAP_INV[e] = k;\n  });\n});\n\nconst CSS_VALUE_PIXELS = /(\\d+(\\.\\d+)?)px/;\n\nfunction cssValueToPixels(val) {\n  if (val === '0' || common.isUndefined(val)) {\n    return 0;\n  }\n\n  const match = val.match(CSS_VALUE_PIXELS);\n\n  if (!common.isNull(match)) {\n    return parseFloat(match[1]);\n  }\n\n  // TODO ...ems? %?\n\n  return 0;\n}\n\n/**\n * @namespace\n * @member dat.dom\n */\nconst dom = {\n\n  /**\n   *\n   * @param elem\n   * @param selectable\n   */\n  makeSelectable: function(elem, selectable) {\n    if (elem === undefined || elem.style === undefined) return;\n\n    elem.onselectstart = selectable ? function() {\n      return false;\n    } : function() {\n    };\n\n    elem.style.MozUserSelect = selectable ? 'auto' : 'none';\n    elem.style.KhtmlUserSelect = selectable ? 'auto' : 'none';\n    elem.unselectable = selectable ? 'on' : 'off';\n  },\n\n  /**\n   *\n   * @param elem\n   * @param horizontal\n   * @param vert\n   */\n  makeFullscreen: function(elem, hor, vert) {\n    let vertical = vert;\n    let horizontal = hor;\n\n    if (common.isUndefined(horizontal)) {\n      horizontal = true;\n    }\n\n    if (common.isUndefined(vertical)) {\n      vertical = true;\n    }\n\n    elem.style.position = 'absolute';\n\n    if (horizontal) {\n      elem.style.left = 0;\n      elem.style.right = 0;\n    }\n    if (vertical) {\n      elem.style.top = 0;\n      elem.style.bottom = 0;\n    }\n  },\n\n  /**\n   *\n   * @param elem\n   * @param eventType\n   * @param params\n   */\n  fakeEvent: function(elem, eventType, pars, aux) {\n    const params = pars || {};\n    const className = EVENT_MAP_INV[eventType];\n    if (!className) {\n      throw new Error('Event type ' + eventType + ' not supported.');\n    }\n    const evt = document.createEvent(className);\n    switch (className) {\n      case 'MouseEvents':\n        {\n          const clientX = params.x || params.clientX || 0;\n          const clientY = params.y || params.clientY || 0;\n          evt.initMouseEvent(eventType, params.bubbles || false,\n            params.cancelable || true, window, params.clickCount || 1,\n            0, // screen X\n            0, // screen Y\n            clientX, // client X\n            clientY, // client Y\n            false, false, false, false, 0, null);\n          break;\n        }\n      case 'KeyboardEvents':\n        {\n          const init = evt.initKeyboardEvent || evt.initKeyEvent; // webkit || moz\n          common.defaults(params, {\n            cancelable: true,\n            ctrlKey: false,\n            altKey: false,\n            shiftKey: false,\n            metaKey: false,\n            keyCode: undefined,\n            charCode: undefined\n          });\n          init(eventType, params.bubbles || false,\n            params.cancelable, window,\n            params.ctrlKey, params.altKey,\n            params.shiftKey, params.metaKey,\n            params.keyCode, params.charCode);\n          break;\n        }\n      default:\n        {\n          evt.initEvent(eventType, params.bubbles || false, params.cancelable || true);\n          break;\n        }\n    }\n    common.defaults(evt, aux);\n    elem.dispatchEvent(evt);\n  },\n\n  /**\n   *\n   * @param elem\n   * @param event\n   * @param func\n   * @param bool\n   */\n  bind: function(elem, event, func, newBool) {\n    const bool = newBool || false;\n    if (elem.addEventListener) {\n      elem.addEventListener(event, func, bool);\n    } else if (elem.attachEvent) {\n      elem.attachEvent('on' + event, func);\n    }\n    return dom;\n  },\n\n  /**\n   *\n   * @param elem\n   * @param event\n   * @param func\n   * @param bool\n   */\n  unbind: function(elem, event, func, newBool) {\n    const bool = newBool || false;\n    if (elem.removeEventListener) {\n      elem.removeEventListener(event, func, bool);\n    } else if (elem.detachEvent) {\n      elem.detachEvent('on' + event, func);\n    }\n    return dom;\n  },\n\n  /**\n   *\n   * @param elem\n   * @param className\n   */\n  addClass: function(elem, className) {\n    if (elem.className === undefined) {\n      elem.className = className;\n    } else if (elem.className !== className) {\n      const classes = elem.className.split(/ +/);\n      if (classes.indexOf(className) === -1) {\n        classes.push(className);\n        elem.className = classes.join(' ').replace(/^\\s+/, '').replace(/\\s+$/, '');\n      }\n    }\n    return dom;\n  },\n\n  /**\n   *\n   * @param elem\n   * @param className\n   */\n  removeClass: function(elem, className) {\n    if (className) {\n      if (elem.className === className) {\n        elem.removeAttribute('class');\n      } else {\n        const classes = elem.className.split(/ +/);\n        const index = classes.indexOf(className);\n        if (index !== -1) {\n          classes.splice(index, 1);\n          elem.className = classes.join(' ');\n        }\n      }\n    } else {\n      elem.className = undefined;\n    }\n    return dom;\n  },\n\n  hasClass: function(elem, className) {\n    return new RegExp('(?:^|\\\\s+)' + className + '(?:\\\\s+|$)').test(elem.className) || false;\n  },\n\n  /**\n   *\n   * @param elem\n   */\n  getWidth: function(elem) {\n    const style = getComputedStyle(elem);\n\n    return cssValueToPixels(style['border-left-width']) +\n      cssValueToPixels(style['border-right-width']) +\n      cssValueToPixels(style['padding-left']) +\n      cssValueToPixels(style['padding-right']) +\n      cssValueToPixels(style.width);\n  },\n\n  /**\n   *\n   * @param elem\n   */\n  getHeight: function(elem) {\n    const style = getComputedStyle(elem);\n\n    return cssValueToPixels(style['border-top-width']) +\n      cssValueToPixels(style['border-bottom-width']) +\n      cssValueToPixels(style['padding-top']) +\n      cssValueToPixels(style['padding-bottom']) +\n      cssValueToPixels(style.height);\n  },\n\n  /**\n   *\n   * @param el\n   */\n  getOffset: function(el) {\n    let elem = el;\n    const offset = { left: 0, top: 0 };\n    if (elem.offsetParent) {\n      do {\n        offset.left += elem.offsetLeft;\n        offset.top += elem.offsetTop;\n        elem = elem.offsetParent;\n      } while (elem);\n    }\n    return offset;\n  },\n\n  // http://stackoverflow.com/posts/2684561/revisions\n  /**\n   *\n   * @param elem\n   */\n  isActive: function(elem) {\n    return elem === document.activeElement && (elem.type || elem.href);\n  }\n\n};\n\nexport default dom;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport dom from '../dom/dom';\n\n/**\n * @class Provides a checkbox input to alter the boolean property of an object.\n *\n * @extends dat.controllers.Controller\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n */\nclass BooleanController extends Controller {\n  constructor(object, property) {\n    super(object, property);\n\n    const _this = this;\n    this.__prev = this.getValue();\n\n    this.__checkbox = document.createElement('input');\n    this.__checkbox.setAttribute('type', 'checkbox');\n\n    function onChange() {\n      _this.setValue(!_this.__prev);\n    }\n\n    dom.bind(this.__checkbox, 'change', onChange, false);\n\n    this.domElement.appendChild(this.__checkbox);\n\n    // Match original value\n    this.updateDisplay();\n  }\n\n  setValue(v) {\n    const toReturn = super.setValue(v);\n    if (this.__onFinishChange) {\n      this.__onFinishChange.call(this, this.getValue());\n    }\n    this.__prev = this.getValue();\n    return toReturn;\n  }\n\n  updateDisplay() {\n    if (this.getValue() === true) {\n      this.__checkbox.setAttribute('checked', 'checked');\n      this.__checkbox.checked = true;\n      this.__prev = true;\n    } else {\n      this.__checkbox.checked = false;\n      this.__prev = false;\n    }\n\n    return super.updateDisplay();\n  }\n}\n\nexport default BooleanController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport dom from '../dom/dom';\nimport common from '../utils/common';\n\n/**\n * @class Provides a select input to alter the property of an object, using a\n * list of accepted values.\n *\n * @extends dat.controllers.Controller\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n * @param {Object|string[]} options A map of labels to acceptable values, or\n * a list of acceptable string values.\n */\nclass OptionController extends Controller {\n  constructor(object, property, opts) {\n    super(object, property);\n\n    let options = opts;\n\n    const _this = this;\n\n    /**\n     * The drop down menu\n     * @ignore\n     */\n    this.__select = document.createElement('select');\n\n    if (common.isArray(options)) {\n      const map = {};\n      common.each(options, function(element) {\n        map[element] = element;\n      });\n      options = map;\n    }\n\n    common.each(options, function(value, key) {\n      const opt = document.createElement('option');\n      opt.innerHTML = key;\n      opt.setAttribute('value', value);\n      _this.__select.appendChild(opt);\n    });\n\n    // Acknowledge original value\n    this.updateDisplay();\n\n    dom.bind(this.__select, 'change', function() {\n      const desiredValue = this.options[this.selectedIndex].value;\n      _this.setValue(desiredValue);\n    });\n\n    this.domElement.appendChild(this.__select);\n  }\n\n  setValue(v) {\n    const toReturn = super.setValue(v);\n\n    if (this.__onFinishChange) {\n      this.__onFinishChange.call(this, this.getValue());\n    }\n    return toReturn;\n  }\n\n  updateDisplay() {\n    if (dom.isActive(this.__select)) return this; // prevent number from updating if user is trying to manually update\n    this.__select.value = this.getValue();\n    return super.updateDisplay();\n  }\n}\n\nexport default OptionController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport dom from '../dom/dom';\n\n/**\n * @class Provides a text input to alter the string property of an object.\n *\n * @extends dat.controllers.Controller\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n */\nclass StringController extends Controller {\n  constructor(object, property) {\n    super(object, property);\n\n    const _this = this;\n\n    function onChange() {\n      _this.setValue(_this.__input.value);\n    }\n\n    function onBlur() {\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    this.__input = document.createElement('input');\n    this.__input.setAttribute('type', 'text');\n\n    dom.bind(this.__input, 'keyup', onChange);\n    dom.bind(this.__input, 'change', onChange);\n    dom.bind(this.__input, 'blur', onBlur);\n    dom.bind(this.__input, 'keydown', function(e) {\n      if (e.keyCode === 13) {\n        this.blur();\n      }\n    });\n\n    this.updateDisplay();\n\n    this.domElement.appendChild(this.__input);\n  }\n\n  updateDisplay() {\n    // Stops the caret from moving on account of:\n    // keyup -> setValue -> updateDisplay\n    if (!dom.isActive(this.__input)) {\n      this.__input.value = this.getValue();\n    }\n    return super.updateDisplay();\n  }\n}\n\nexport default StringController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport common from '../utils/common';\n\nfunction numDecimals(x) {\n  const _x = x.toString();\n  if (_x.indexOf('.') > -1) {\n    return _x.length - _x.indexOf('.') - 1;\n  }\n\n  return 0;\n}\n\n/**\n * @class Represents a given property of an object that is a number.\n *\n * @extends dat.controllers.Controller\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n * @param {Object} [params] Optional parameters\n * @param {Number} [params.min] Minimum allowed value\n * @param {Number} [params.max] Maximum allowed value\n * @param {Number} [params.step] Increment by which to change value\n */\nclass NumberController extends Controller {\n  constructor(object, property, params) {\n    super(object, property);\n\n    const _params = params || {};\n\n    this.__min = _params.min;\n    this.__max = _params.max;\n    this.__step = _params.step;\n\n    if (common.isUndefined(this.__step)) {\n      if (this.initialValue === 0) {\n        this.__impliedStep = 1; // What are we, psychics?\n      } else {\n        // Hey Doug, check this out.\n        this.__impliedStep = Math.pow(10, Math.floor(Math.log(Math.abs(this.initialValue)) / Math.LN10)) / 10;\n      }\n    } else {\n      this.__impliedStep = this.__step;\n    }\n\n    this.__precision = numDecimals(this.__impliedStep);\n  }\n\n  setValue(v) {\n    let _v = v;\n\n    if (this.__min !== undefined && _v < this.__min) {\n      _v = this.__min;\n    } else if (this.__max !== undefined && _v > this.__max) {\n      _v = this.__max;\n    }\n\n    if (this.__step !== undefined && _v % this.__step !== 0) {\n      _v = Math.round(_v / this.__step) * this.__step;\n    }\n\n    return super.setValue(_v);\n  }\n\n  /**\n   * Specify a minimum value for <code>object[property]</code>.\n   *\n   * @param {Number} minValue The minimum value for\n   * <code>object[property]</code>\n   * @returns {dat.controllers.NumberController} this\n   */\n  min(minValue) {\n    this.__min = minValue;\n    return this;\n  }\n\n  /**\n   * Specify a maximum value for <code>object[property]</code>.\n   *\n   * @param {Number} maxValue The maximum value for\n   * <code>object[property]</code>\n   * @returns {dat.controllers.NumberController} this\n   */\n  max(maxValue) {\n    this.__max = maxValue;\n    return this;\n  }\n\n  /**\n   * Specify a step value that dat.controllers.NumberController\n   * increments by.\n   *\n   * @param {Number} stepValue The step value for\n   * dat.controllers.NumberController\n   * @default if minimum and maximum specified increment is 1% of the\n   * difference otherwise stepValue is 1\n   * @returns {dat.controllers.NumberController} this\n   */\n  step(stepValue) {\n    this.__step = stepValue;\n    this.__impliedStep = stepValue;\n    this.__precision = numDecimals(stepValue);\n    return this;\n  }\n}\n\nexport default NumberController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport NumberController from './NumberController';\nimport dom from '../dom/dom';\nimport common from '../utils/common';\n\nfunction roundToDecimal(value, decimals) {\n  const tenTo = Math.pow(10, decimals);\n  return Math.round(value * tenTo) / tenTo;\n}\n\n/**\n * @class Represents a given property of an object that is a number and\n * provides an input element with which to manipulate it.\n *\n * @extends dat.controllers.Controller\n * @extends dat.controllers.NumberController\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n * @param {Object} [params] Optional parameters\n * @param {Number} [params.min] Minimum allowed value\n * @param {Number} [params.max] Maximum allowed value\n * @param {Number} [params.step] Increment by which to change value\n */\nclass NumberControllerBox extends NumberController {\n  constructor(object, property, params) {\n    super(object, property, params);\n\n    this.__truncationSuspended = false;\n\n    const _this = this;\n\n    /**\n     * {Number} Previous mouse y position\n     * @ignore\n     */\n    let prevY;\n\n    function onChange() {\n      const attempted = parseFloat(_this.__input.value);\n      if (!common.isNaN(attempted)) {\n        _this.setValue(attempted);\n      }\n    }\n\n    function onFinish() {\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    function onBlur() {\n      onFinish();\n    }\n\n    function onMouseDrag(e) {\n      const diff = prevY - e.clientY;\n      _this.setValue(_this.getValue() + diff * _this.__impliedStep);\n\n      prevY = e.clientY;\n    }\n\n    function onMouseUp() {\n      dom.unbind(window, 'mousemove', onMouseDrag);\n      dom.unbind(window, 'mouseup', onMouseUp);\n      onFinish();\n    }\n\n    function onMouseDown(e) {\n      dom.bind(window, 'mousemove', onMouseDrag);\n      dom.bind(window, 'mouseup', onMouseUp);\n      prevY = e.clientY;\n    }\n\n    this.__input = document.createElement('input');\n    this.__input.setAttribute('type', 'text');\n\n    // Makes it so manually specified values are not truncated.\n\n    dom.bind(this.__input, 'change', onChange);\n    dom.bind(this.__input, 'blur', onBlur);\n    dom.bind(this.__input, 'mousedown', onMouseDown);\n    dom.bind(this.__input, 'keydown', function(e) {\n      // When pressing enter, you can be as precise as you want.\n      if (e.keyCode === 13) {\n        _this.__truncationSuspended = true;\n        this.blur();\n        _this.__truncationSuspended = false;\n        onFinish();\n      }\n    });\n\n    this.updateDisplay();\n\n    this.domElement.appendChild(this.__input);\n  }\n\n  updateDisplay() {\n    this.__input.value = this.__truncationSuspended ? this.getValue() : roundToDecimal(this.getValue(), this.__precision);\n    return super.updateDisplay();\n  }\n}\n\nexport default NumberControllerBox;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport NumberController from './NumberController';\nimport dom from '../dom/dom';\n\nfunction map(v, i1, i2, o1, o2) {\n  return o1 + (o2 - o1) * ((v - i1) / (i2 - i1));\n}\n\n/**\n * @class Represents a given property of an object that is a number, contains\n * a minimum and maximum, and provides a slider element with which to\n * manipulate it. It should be noted that the slider element is made up of\n * <code>&lt;div&gt;</code> tags, <strong>not</strong> the html5\n * <code>&lt;slider&gt;</code> element.\n *\n * @extends dat.controllers.Controller\n * @extends dat.controllers.NumberController\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n * @param {Number} minValue Minimum allowed value\n * @param {Number} maxValue Maximum allowed value\n * @param {Number} stepValue Increment by which to change value\n */\nclass NumberControllerSlider extends NumberController {\n  constructor(object, property, min, max, step) {\n    super(object, property, { min: min, max: max, step: step });\n\n    const _this = this;\n\n    this.__background = document.createElement('div');\n    this.__foreground = document.createElement('div');\n\n    dom.bind(this.__background, 'mousedown', onMouseDown);\n    dom.bind(this.__background, 'touchstart', onTouchStart);\n\n    dom.addClass(this.__background, 'slider');\n    dom.addClass(this.__foreground, 'slider-fg');\n\n    function onMouseDown(e) {\n      document.activeElement.blur();\n\n      dom.bind(window, 'mousemove', onMouseDrag);\n      dom.bind(window, 'mouseup', onMouseUp);\n\n      onMouseDrag(e);\n    }\n\n    function onMouseDrag(e) {\n      e.preventDefault();\n\n      const bgRect = _this.__background.getBoundingClientRect();\n\n      _this.setValue(\n        map(e.clientX, bgRect.left, bgRect.right, _this.__min, _this.__max)\n      );\n\n      return false;\n    }\n\n    function onMouseUp() {\n      dom.unbind(window, 'mousemove', onMouseDrag);\n      dom.unbind(window, 'mouseup', onMouseUp);\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    function onTouchStart(e) {\n      if (e.touches.length !== 1) { return; }\n      dom.bind(window, 'touchmove', onTouchMove);\n      dom.bind(window, 'touchend', onTouchEnd);\n      onTouchMove(e);\n    }\n\n    function onTouchMove(e) {\n      const clientX = e.touches[0].clientX;\n      const bgRect = _this.__background.getBoundingClientRect();\n\n      _this.setValue(\n        map(clientX, bgRect.left, bgRect.right, _this.__min, _this.__max)\n      );\n    }\n\n    function onTouchEnd() {\n      dom.unbind(window, 'touchmove', onTouchMove);\n      dom.unbind(window, 'touchend', onTouchEnd);\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    this.updateDisplay();\n\n    this.__background.appendChild(this.__foreground);\n    this.domElement.appendChild(this.__background);\n  }\n\n  updateDisplay() {\n    const pct = (this.getValue() - this.__min) / (this.__max - this.__min);\n    this.__foreground.style.width = pct * 100 + '%';\n    return super.updateDisplay();\n  }\n}\n\nexport default NumberControllerSlider;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport dom from '../dom/dom';\n\n/**\n * @class Provides a GUI interface to fire a specified method, a property of an object.\n *\n * @extends dat.controllers.Controller\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n */\nclass FunctionController extends Controller {\n  constructor(object, property, text) {\n    super(object, property);\n\n    const _this = this;\n\n    this.__button = document.createElement('div');\n    this.__button.innerHTML = text === undefined ? 'Fire' : text;\n\n    dom.bind(this.__button, 'click', function(e) {\n      e.preventDefault();\n      _this.fire();\n      return false;\n    });\n\n    dom.addClass(this.__button, 'button');\n\n    this.domElement.appendChild(this.__button);\n  }\n\n  fire() {\n    if (this.__onChange) {\n      this.__onChange.call(this);\n    }\n    this.getValue().call(this.object);\n    if (this.__onFinishChange) {\n      this.__onFinishChange.call(this, this.getValue());\n    }\n  }\n}\n\nexport default FunctionController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport dom from '../dom/dom';\nimport Color from '../color/Color';\nimport interpret from '../color/interpret';\nimport common from '../utils/common';\n\n/**\n * @class Represents a given property of an object that is a color.\n * @param {Object} object\n * @param {string} property\n */\nclass ColorController extends Controller {\n  constructor(object, property) {\n    super(object, property);\n\n    this.__color = new Color(this.getValue());\n    this.__temp = new Color(0);\n\n    const _this = this;\n\n    this.domElement = document.createElement('div');\n\n    dom.makeSelectable(this.domElement, false);\n\n    this.__selector = document.createElement('div');\n    this.__selector.className = 'selector';\n\n    this.__saturation_field = document.createElement('div');\n    this.__saturation_field.className = 'saturation-field';\n\n    this.__field_knob = document.createElement('div');\n    this.__field_knob.className = 'field-knob';\n    this.__field_knob_border = '2px solid ';\n\n    this.__hue_knob = document.createElement('div');\n    this.__hue_knob.className = 'hue-knob';\n\n    this.__hue_field = document.createElement('div');\n    this.__hue_field.className = 'hue-field';\n\n    this.__input = document.createElement('input');\n    this.__input.type = 'text';\n    this.__input_textShadow = '0 1px 1px ';\n\n    dom.bind(this.__input, 'keydown', function(e) {\n      if (e.keyCode === 13) { // on enter\n        onBlur.call(this);\n      }\n    });\n\n    dom.bind(this.__input, 'blur', onBlur);\n\n    dom.bind(this.__selector, 'mousedown', function(/* e */) {\n      dom\n        .addClass(this, 'drag')\n        .bind(window, 'mouseup', function(/* e */) {\n          dom.removeClass(_this.__selector, 'drag');\n        });\n    });\n\n    dom.bind(this.__selector, 'touchstart', function(/* e */) {\n      dom\n        .addClass(this, 'drag')\n        .bind(window, 'touchend', function(/* e */) {\n          dom.removeClass(_this.__selector, 'drag');\n        });\n    });\n\n    const valueField = document.createElement('div');\n\n    common.extend(this.__selector.style, {\n      width: '122px',\n      height: '102px',\n      padding: '3px',\n      backgroundColor: '#222',\n      boxShadow: '0px 1px 3px rgba(0,0,0,0.3)'\n    });\n\n    common.extend(this.__field_knob.style, {\n      position: 'absolute',\n      width: '12px',\n      height: '12px',\n      border: this.__field_knob_border + (this.__color.v < 0.5 ? '#fff' : '#000'),\n      boxShadow: '0px 1px 3px rgba(0,0,0,0.5)',\n      borderRadius: '12px',\n      zIndex: 1\n    });\n\n    common.extend(this.__hue_knob.style, {\n      position: 'absolute',\n      width: '15px',\n      height: '2px',\n      borderRight: '4px solid #fff',\n      zIndex: 1\n    });\n\n    common.extend(this.__saturation_field.style, {\n      width: '100px',\n      height: '100px',\n      border: '1px solid #555',\n      marginRight: '3px',\n      display: 'inline-block',\n      cursor: 'pointer'\n    });\n\n    common.extend(valueField.style, {\n      width: '100%',\n      height: '100%',\n      background: 'none'\n    });\n\n    linearGradient(valueField, 'top', 'rgba(0,0,0,0)', '#000');\n\n    common.extend(this.__hue_field.style, {\n      width: '15px',\n      height: '100px',\n      border: '1px solid #555',\n      cursor: 'ns-resize',\n      position: 'absolute',\n      top: '3px',\n      right: '3px'\n    });\n\n    hueGradient(this.__hue_field);\n\n    common.extend(this.__input.style, {\n      outline: 'none',\n//      width: '120px',\n      textAlign: 'center',\n//      padding: '4px',\n//      marginBottom: '6px',\n      color: '#fff',\n      border: 0,\n      fontWeight: 'bold',\n      textShadow: this.__input_textShadow + 'rgba(0,0,0,0.7)'\n    });\n\n    dom.bind(this.__saturation_field, 'mousedown', fieldDown);\n    dom.bind(this.__saturation_field, 'touchstart', fieldDown);\n\n    dom.bind(this.__field_knob, 'mousedown', fieldDown);\n    dom.bind(this.__field_knob, 'touchstart', fieldDown);\n\n    dom.bind(this.__hue_field, 'mousedown', fieldDownH);\n    dom.bind(this.__hue_field, 'touchstart', fieldDownH);\n\n    function fieldDown(e) {\n      setSV(e);\n      dom.bind(window, 'mousemove', setSV);\n      dom.bind(window, 'touchmove', setSV);\n      dom.bind(window, 'mouseup', fieldUpSV);\n      dom.bind(window, 'touchend', fieldUpSV);\n    }\n\n    function fieldDownH(e) {\n      setH(e);\n      dom.bind(window, 'mousemove', setH);\n      dom.bind(window, 'touchmove', setH);\n      dom.bind(window, 'mouseup', fieldUpH);\n      dom.bind(window, 'touchend', fieldUpH);\n    }\n\n    function fieldUpSV() {\n      dom.unbind(window, 'mousemove', setSV);\n      dom.unbind(window, 'touchmove', setSV);\n      dom.unbind(window, 'mouseup', fieldUpSV);\n      dom.unbind(window, 'touchend', fieldUpSV);\n      onFinish();\n    }\n\n    function fieldUpH() {\n      dom.unbind(window, 'mousemove', setH);\n      dom.unbind(window, 'touchmove', setH);\n      dom.unbind(window, 'mouseup', fieldUpH);\n      dom.unbind(window, 'touchend', fieldUpH);\n      onFinish();\n    }\n\n    function onBlur() {\n      const i = interpret(this.value);\n      if (i !== false) {\n        _this.__color.__state = i;\n        _this.setValue(_this.__color.toOriginal());\n      } else {\n        this.value = _this.__color.toString();\n      }\n    }\n\n    function onFinish() {\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.__color.toOriginal());\n      }\n    }\n\n    this.__saturation_field.appendChild(valueField);\n    this.__selector.appendChild(this.__field_knob);\n    this.__selector.appendChild(this.__saturation_field);\n    this.__selector.appendChild(this.__hue_field);\n    this.__hue_field.appendChild(this.__hue_knob);\n\n    this.domElement.appendChild(this.__input);\n    this.domElement.appendChild(this.__selector);\n\n    this.updateDisplay();\n\n    function setSV(e) {\n      if (e.type.indexOf('touch') === -1) { e.preventDefault(); }\n\n      const fieldRect = _this.__saturation_field.getBoundingClientRect();\n      const { clientX, clientY } = (e.touches && e.touches[0]) || e;\n      let s = (clientX - fieldRect.left) / (fieldRect.right - fieldRect.left);\n      let v = 1 - (clientY - fieldRect.top) / (fieldRect.bottom - fieldRect.top);\n\n      if (v > 1) {\n        v = 1;\n      } else if (v < 0) {\n        v = 0;\n      }\n\n      if (s > 1) {\n        s = 1;\n      } else if (s < 0) {\n        s = 0;\n      }\n\n      _this.__color.v = v;\n      _this.__color.s = s;\n\n      _this.setValue(_this.__color.toOriginal());\n\n\n      return false;\n    }\n\n    function setH(e) {\n      if (e.type.indexOf('touch') === -1) { e.preventDefault(); }\n\n      const fieldRect = _this.__hue_field.getBoundingClientRect();\n      const { clientY } = (e.touches && e.touches[0]) || e;\n      let h = 1 - (clientY - fieldRect.top) / (fieldRect.bottom - fieldRect.top);\n\n      if (h > 1) {\n        h = 1;\n      } else if (h < 0) {\n        h = 0;\n      }\n\n      _this.__color.h = h * 360;\n\n      _this.setValue(_this.__color.toOriginal());\n\n      return false;\n    }\n  }\n\n  updateDisplay() {\n    const i = interpret(this.getValue());\n\n    if (i !== false) {\n      let mismatch = false;\n\n      // Check for mismatch on the interpreted value.\n\n      common.each(Color.COMPONENTS, function(component) {\n        if (!common.isUndefined(i[component]) && !common.isUndefined(this.__color.__state[component]) &&\n          i[component] !== this.__color.__state[component]) {\n          mismatch = true;\n          return {}; // break\n        }\n      }, this);\n\n      // If nothing diverges, we keep our previous values\n      // for statefulness, otherwise we recalculate fresh\n      if (mismatch) {\n        common.extend(this.__color.__state, i);\n      }\n    }\n\n    common.extend(this.__temp.__state, this.__color.__state);\n\n    this.__temp.a = 1;\n\n    const flip = (this.__color.v < 0.5 || this.__color.s > 0.5) ? 255 : 0;\n    const _flip = 255 - flip;\n\n    common.extend(this.__field_knob.style, {\n      marginLeft: 100 * this.__color.s - 7 + 'px',\n      marginTop: 100 * (1 - this.__color.v) - 7 + 'px',\n      backgroundColor: this.__temp.toHexString(),\n      border: this.__field_knob_border + 'rgb(' + flip + ',' + flip + ',' + flip + ')'\n    });\n\n    this.__hue_knob.style.marginTop = (1 - this.__color.h / 360) * 100 + 'px';\n\n    this.__temp.s = 1;\n    this.__temp.v = 1;\n\n    linearGradient(this.__saturation_field, 'left', '#fff', this.__temp.toHexString());\n\n    this.__input.value = this.__color.toString();\n\n    common.extend(this.__input.style, {\n      backgroundColor: this.__color.toHexString(),\n      color: 'rgb(' + flip + ',' + flip + ',' + flip + ')',\n      textShadow: this.__input_textShadow + 'rgba(' + _flip + ',' + _flip + ',' + _flip + ',.7)'\n    });\n  }\n}\n\nconst vendors = ['-moz-', '-o-', '-webkit-', '-ms-', ''];\n\nfunction linearGradient(elem, x, a, b) {\n  elem.style.background = '';\n  common.each(vendors, function(vendor) {\n    elem.style.cssText += 'background: ' + vendor + 'linear-gradient(' + x + ', ' + a + ' 0%, ' + b + ' 100%); ';\n  });\n}\n\nfunction hueGradient(elem) {\n  elem.style.background = '';\n  elem.style.cssText += 'background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);';\n  elem.style.cssText += 'background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n  elem.style.cssText += 'background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n  elem.style.cssText += 'background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n  elem.style.cssText += 'background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n}\n\nexport default ColorController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nconst css = {\n  load: function(url, indoc) {\n    const doc = indoc || document;\n    const link = doc.createElement('link');\n    link.type = 'text/css';\n    link.rel = 'stylesheet';\n    link.href = url;\n    doc.getElementsByTagName('head')[0].appendChild(link);\n  },\n\n  inject: function(cssContent, indoc) {\n    const doc = indoc || document;\n    const injected = document.createElement('style');\n    injected.type = 'text/css';\n    injected.innerHTML = cssContent;\n    const head = doc.getElementsByTagName('head')[0];\n    try {\n      head.appendChild(injected);\n    } catch (e) { // Unable to inject CSS, probably because of a Content Security Policy\n    }\n  }\n};\n\nexport default css;\n","const saveDialogContents = `<div id=\"dg-save\" class=\"dg dialogue\">\n\n  Here's the new load parameter for your <code>GUI</code>'s constructor:\n\n  <textarea id=\"dg-new-constructor\"></textarea>\n\n  <div id=\"dg-save-locally\">\n\n    <input id=\"dg-local-storage\" type=\"checkbox\"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id=\"dg-local-explain\">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>`;\n\nexport default saveDialogContents;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport OptionController from './OptionController';\nimport NumberControllerBox from './NumberControllerBox';\nimport NumberControllerSlider from './NumberControllerSlider';\nimport StringController from './StringController';\nimport FunctionController from './FunctionController';\nimport BooleanController from './BooleanController';\nimport common from '../utils/common';\n\nconst ControllerFactory = function(object, property) {\n  const initialValue = object[property];\n\n  // Providing options?\n  if (common.isArray(arguments[2]) || common.isObject(arguments[2])) {\n    return new OptionController(object, property, arguments[2]);\n  }\n\n  // Providing a map?\n  if (common.isNumber(initialValue)) {\n    // Has min and max? (slider)\n    if (common.isNumber(arguments[2]) && common.isNumber(arguments[3])) {\n      // has step?\n      if (common.isNumber(arguments[4])) {\n        return new NumberControllerSlider(object, property,\n                        arguments[2], arguments[3], arguments[4]);\n      }\n\n      return new NumberControllerSlider(object, property, arguments[2], arguments[3]);\n    }\n\n    // number box\n    if (common.isNumber(arguments[4])) { // has step\n      return new NumberControllerBox(object, property,\n                        { min: arguments[2], max: arguments[3], step: arguments[4] });\n    }\n    return new NumberControllerBox(object, property, { min: arguments[2], max: arguments[3] });\n  }\n\n  if (common.isString(initialValue)) {\n    return new StringController(object, property);\n  }\n\n  if (common.isFunction(initialValue)) {\n    return new FunctionController(object, property, '');\n  }\n\n  if (common.isBoolean(initialValue)) {\n    return new BooleanController(object, property);\n  }\n\n  return null;\n};\n\nexport default ControllerFactory;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nfunction requestAnimationFrame(callback) {\n  setTimeout(callback, 1000 / 60);\n}\n\nexport default window.requestAnimationFrame ||\n    window.webkitRequestAnimationFrame ||\n    window.mozRequestAnimationFrame ||\n    window.oRequestAnimationFrame ||\n    window.msRequestAnimationFrame ||\n    requestAnimationFrame;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport dom from '../dom/dom';\nimport common from '../utils/common';\n\nclass CenteredDiv {\n  constructor() {\n    this.backgroundElement = document.createElement('div');\n    common.extend(this.backgroundElement.style, {\n      backgroundColor: 'rgba(0,0,0,0.8)',\n      top: 0,\n      left: 0,\n      display: 'none',\n      zIndex: '1000',\n      opacity: 0,\n      WebkitTransition: 'opacity 0.2s linear',\n      transition: 'opacity 0.2s linear'\n    });\n\n    dom.makeFullscreen(this.backgroundElement);\n    this.backgroundElement.style.position = 'fixed';\n\n    this.domElement = document.createElement('div');\n    common.extend(this.domElement.style, {\n      position: 'fixed',\n      display: 'none',\n      zIndex: '1001',\n      opacity: 0,\n      WebkitTransition: '-webkit-transform 0.2s ease-out, opacity 0.2s linear',\n      transition: 'transform 0.2s ease-out, opacity 0.2s linear'\n    });\n\n\n    document.body.appendChild(this.backgroundElement);\n    document.body.appendChild(this.domElement);\n\n    const _this = this;\n    dom.bind(this.backgroundElement, 'click', function() {\n      _this.hide();\n    });\n  }\n\n  show() {\n    const _this = this;\n\n    this.backgroundElement.style.display = 'block';\n\n    this.domElement.style.display = 'block';\n    this.domElement.style.opacity = 0;\n//    this.domElement.style.top = '52%';\n    this.domElement.style.webkitTransform = 'scale(1.1)';\n\n    this.layout();\n\n    common.defer(function() {\n      _this.backgroundElement.style.opacity = 1;\n      _this.domElement.style.opacity = 1;\n      _this.domElement.style.webkitTransform = 'scale(1)';\n    });\n  }\n\n  /**\n   * Hide centered div\n   */\n  hide() {\n    const _this = this;\n\n    const hide = function() {\n      _this.domElement.style.display = 'none';\n      _this.backgroundElement.style.display = 'none';\n\n      dom.unbind(_this.domElement, 'webkitTransitionEnd', hide);\n      dom.unbind(_this.domElement, 'transitionend', hide);\n      dom.unbind(_this.domElement, 'oTransitionEnd', hide);\n    };\n\n    dom.bind(this.domElement, 'webkitTransitionEnd', hide);\n    dom.bind(this.domElement, 'transitionend', hide);\n    dom.bind(this.domElement, 'oTransitionEnd', hide);\n\n    this.backgroundElement.style.opacity = 0;\n//    this.domElement.style.top = '48%';\n    this.domElement.style.opacity = 0;\n    this.domElement.style.webkitTransform = 'scale(1.1)';\n  }\n\n  layout() {\n    this.domElement.style.left = window.innerWidth / 2 - dom.getWidth(this.domElement) / 2 + 'px';\n    this.domElement.style.top = window.innerHeight / 2 - dom.getHeight(this.domElement) / 2 + 'px';\n  }\n}\n\nexport default CenteredDiv;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport css from '../utils/css';\nimport saveDialogueContents from './saveDialogue.html';\nimport ControllerFactory from '../controllers/ControllerFactory';\nimport Controller from '../controllers/Controller';\nimport BooleanController from '../controllers/BooleanController';\nimport FunctionController from '../controllers/FunctionController';\nimport NumberControllerBox from '../controllers/NumberControllerBox';\nimport NumberControllerSlider from '../controllers/NumberControllerSlider';\nimport ColorController from '../controllers/ColorController';\nimport requestAnimationFrame from '../utils/requestAnimationFrame';\nimport CenteredDiv from '../dom/CenteredDiv';\nimport dom from '../dom/dom';\nimport common from '../utils/common';\n\nimport styleSheet from './style.scss'; // CSS to embed in build\n\ncss.inject(styleSheet);\n\n/** @ignore Outer-most className for GUI's */\nconst CSS_NAMESPACE = 'dg';\n\nconst HIDE_KEY_CODE = 72;\n\n/** @ignore The only value shared between the JS and SCSS. Use caution. */\nconst CLOSE_BUTTON_HEIGHT = 20;\n\nconst DEFAULT_DEFAULT_PRESET_NAME = 'Default';\n\nconst SUPPORTS_LOCAL_STORAGE = (function() {\n  try {\n    return !!window.localStorage;\n  } catch (e) {\n    return false;\n  }\n}());\n\nlet SAVE_DIALOGUE;\n\n/** @ignore Have we yet to create an autoPlace GUI? */\nlet autoPlaceVirgin = true;\n\n/** @ignore Fixed position div that auto place GUI's go inside */\nlet autoPlaceContainer;\n\n/** @ignore Are we hiding the GUI's ? */\nlet hide = false;\n\n/** @private GUI's which should be hidden */\nconst hideableGuis = [];\n\n/**\n * @class A lightweight controller library for JavaScript. It allows you to easily\n * manipulate variables and fire functions on the fly.\n *\n * @typicalname gui\n *\n * @example\n * // Creating a GUI with options.\n * var gui = new dat.GUI({name: 'My GUI'});\n *\n * @example\n * // Creating a GUI and a subfolder.\n * var gui = new dat.GUI();\n * var folder1 = gui.addFolder('Flow Field');\n *\n * @param {Object} [params]\n * @param {String} [params.name] The name of this GUI.\n * @param {Object} [params.load] JSON object representing the saved state of\n * this GUI.\n * @param {dat.gui.GUI} [params.parent] The GUI I'm nested in.\n * @param {Boolean} [params.autoPlace=true]\n * @param {Boolean} [params.hideable=true] If true, GUI is shown/hidden by <kbd>h</kbd> keypress.\n * @param {Boolean} [params.closed=false] If true, starts closed\n * @param {Boolean} [params.closeOnTop=false] If true, close/open button shows on top of the GUI\n */\nconst GUI = function(pars) {\n  const _this = this;\n\n  let params = pars || {};\n\n  /**\n   * Outermost DOM Element\n   * @type {DOMElement}\n   */\n  this.domElement = document.createElement('div');\n  this.__ul = document.createElement('ul');\n  this.domElement.appendChild(this.__ul);\n\n  dom.addClass(this.domElement, CSS_NAMESPACE);\n\n  /**\n   * Nested GUI's by name\n   * @ignore\n   */\n  this.__folders = {};\n\n  this.__controllers = [];\n\n  /**\n   * List of objects I'm remembering for save, only used in top level GUI\n   * @ignore\n   */\n  this.__rememberedObjects = [];\n\n  /**\n   * Maps the index of remembered objects to a map of controllers, only used\n   * in top level GUI.\n   *\n   * @private\n   * @ignore\n   *\n   * @example\n   * [\n   *  {\n     *    propertyName: Controller,\n     *    anotherPropertyName: Controller\n     *  },\n   *  {\n     *    propertyName: Controller\n     *  }\n   * ]\n   */\n  this.__rememberedObjectIndecesToControllers = [];\n\n  this.__listening = [];\n\n  // Default parameters\n  params = common.defaults(params, {\n    closeOnTop: false,\n    autoPlace: true,\n    width: GUI.DEFAULT_WIDTH\n  });\n\n  params = common.defaults(params, {\n    resizable: params.autoPlace,\n    hideable: params.autoPlace\n  });\n\n  if (!common.isUndefined(params.load)) {\n    // Explicit preset\n    if (params.preset) {\n      params.load.preset = params.preset;\n    }\n  } else {\n    params.load = { preset: DEFAULT_DEFAULT_PRESET_NAME };\n  }\n\n  if (common.isUndefined(params.parent) && params.hideable) {\n    hideableGuis.push(this);\n  }\n\n  // Only root level GUI's are resizable.\n  params.resizable = common.isUndefined(params.parent) && params.resizable;\n\n  if (params.autoPlace && common.isUndefined(params.scrollable)) {\n    params.scrollable = true;\n  }\n//    params.scrollable = common.isUndefined(params.parent) && params.scrollable === true;\n\n  // Not part of params because I don't want people passing this in via\n  // constructor. Should be a 'remembered' value.\n  let useLocalStorage =\n    SUPPORTS_LOCAL_STORAGE &&\n    localStorage.getItem(getLocalStorageHash(this, 'isLocal')) === 'true';\n\n  let saveToLocalStorage;\n  let titleRow;\n\n  Object.defineProperties(this,\n    /** @lends GUI.prototype */\n    {\n      /**\n       * The parent <code>GUI</code>\n       * @type dat.gui.GUI\n       */\n      parent: {\n        get: function() {\n          return params.parent;\n        }\n      },\n\n      scrollable: {\n        get: function() {\n          return params.scrollable;\n        }\n      },\n\n      /**\n       * Handles <code>GUI</code>'s element placement for you\n       * @type Boolean\n       */\n      autoPlace: {\n        get: function() {\n          return params.autoPlace;\n        }\n      },\n\n      /**\n       * Handles <code>GUI</code>'s position of open/close button\n       * @type Boolean\n       */\n      closeOnTop: {\n        get: function() {\n          return params.closeOnTop;\n        }\n      },\n\n      /**\n       * The identifier for a set of saved values\n       * @type String\n       */\n      preset: {\n        get: function() {\n          if (_this.parent) {\n            return _this.getRoot().preset;\n          }\n\n          return params.load.preset;\n        },\n\n        set: function(v) {\n          if (_this.parent) {\n            _this.getRoot().preset = v;\n          } else {\n            params.load.preset = v;\n          }\n          setPresetSelectIndex(this);\n          _this.revert();\n        }\n      },\n\n      /**\n       * The width of <code>GUI</code> element\n       * @type Number\n       */\n      width: {\n        get: function() {\n          return params.width;\n        },\n        set: function(v) {\n          params.width = v;\n          setWidth(_this, v);\n        }\n      },\n\n      /**\n       * The name of <code>GUI</code>. Used for folders. i.e\n       * a folder's name\n       * @type String\n       */\n      name: {\n        get: function() {\n          return params.name;\n        },\n        set: function(v) {\n          // TODO Check for collisions among sibling folders\n          params.name = v;\n          if (titleRow) {\n            titleRow.innerHTML = params.name;\n          }\n        }\n      },\n\n      /**\n       * Whether the <code>GUI</code> is collapsed or not\n       * @type Boolean\n       */\n      closed: {\n        get: function() {\n          return params.closed;\n        },\n        set: function(v) {\n          params.closed = v;\n          if (params.closed) {\n            dom.addClass(_this.__ul, GUI.CLASS_CLOSED);\n          } else {\n            dom.removeClass(_this.__ul, GUI.CLASS_CLOSED);\n          }\n          // For browsers that aren't going to respect the CSS transition,\n          // Lets just check our height against the window height right off\n          // the bat.\n          this.onResize();\n\n          if (_this.__closeButton) {\n            _this.__closeButton.innerHTML = v ? GUI.TEXT_OPEN : GUI.TEXT_CLOSED;\n          }\n        }\n      },\n\n      /**\n       * Contains all presets\n       * @type Object\n       */\n      load: {\n        get: function() {\n          return params.load;\n        }\n      },\n\n      /**\n       * Determines whether or not to use <a href=\"https://developer.mozilla.org/en/DOM/Storage#localStorage\">localStorage</a> as the means for\n       * <code>remember</code>ing\n       * @type Boolean\n       */\n      useLocalStorage: {\n\n        get: function() {\n          return useLocalStorage;\n        },\n        set: function(bool) {\n          if (SUPPORTS_LOCAL_STORAGE) {\n            useLocalStorage = bool;\n            if (bool) {\n              dom.bind(window, 'unload', saveToLocalStorage);\n            } else {\n              dom.unbind(window, 'unload', saveToLocalStorage);\n            }\n            localStorage.setItem(getLocalStorageHash(_this, 'isLocal'), bool);\n          }\n        }\n      }\n    });\n\n  // Are we a root level GUI?\n  if (common.isUndefined(params.parent)) {\n    this.closed = params.closed || false;\n\n    dom.addClass(this.domElement, GUI.CLASS_MAIN);\n    dom.makeSelectable(this.domElement, false);\n\n    // Are we supposed to be loading locally?\n    if (SUPPORTS_LOCAL_STORAGE) {\n      if (useLocalStorage) {\n        _this.useLocalStorage = true;\n\n        const savedGui = localStorage.getItem(getLocalStorageHash(this, 'gui'));\n\n        if (savedGui) {\n          params.load = JSON.parse(savedGui);\n        }\n      }\n    }\n\n    this.__closeButton = document.createElement('div');\n    this.__closeButton.innerHTML = GUI.TEXT_CLOSED;\n    dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_BUTTON);\n    if (params.closeOnTop) {\n      dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_TOP);\n      this.domElement.insertBefore(this.__closeButton, this.domElement.childNodes[0]);\n    } else {\n      dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_BOTTOM);\n      this.domElement.appendChild(this.__closeButton);\n    }\n\n    dom.bind(this.__closeButton, 'click', function() {\n      _this.closed = !_this.closed;\n    });\n    // Oh, you're a nested GUI!\n  } else {\n    if (params.closed === undefined) {\n      params.closed = true;\n    }\n\n    const titleRowName = document.createTextNode(params.name);\n    dom.addClass(titleRowName, 'controller-name');\n\n    titleRow = addRow(_this, titleRowName);\n\n    const onClickTitle = function(e) {\n      e.preventDefault();\n      _this.closed = !_this.closed;\n      return false;\n    };\n\n    dom.addClass(this.__ul, GUI.CLASS_CLOSED);\n\n    dom.addClass(titleRow, 'title');\n    dom.bind(titleRow, 'click', onClickTitle);\n\n    if (!params.closed) {\n      this.closed = false;\n    }\n  }\n\n  if (params.autoPlace) {\n    if (common.isUndefined(params.parent)) {\n      if (autoPlaceVirgin) {\n        autoPlaceContainer = document.createElement('div');\n        dom.addClass(autoPlaceContainer, CSS_NAMESPACE);\n        dom.addClass(autoPlaceContainer, GUI.CLASS_AUTO_PLACE_CONTAINER);\n        document.body.appendChild(autoPlaceContainer);\n        autoPlaceVirgin = false;\n      }\n\n      // Put it in the dom for you.\n      autoPlaceContainer.appendChild(this.domElement);\n\n      // Apply the auto styles\n      dom.addClass(this.domElement, GUI.CLASS_AUTO_PLACE);\n    }\n\n\n    // Make it not elastic.\n    if (!this.parent) {\n      setWidth(_this, params.width);\n    }\n  }\n\n  this.__resizeHandler = function() {\n    _this.onResizeDebounced();\n  };\n\n  dom.bind(window, 'resize', this.__resizeHandler);\n  dom.bind(this.__ul, 'webkitTransitionEnd', this.__resizeHandler);\n  dom.bind(this.__ul, 'transitionend', this.__resizeHandler);\n  dom.bind(this.__ul, 'oTransitionEnd', this.__resizeHandler);\n  this.onResize();\n\n  if (params.resizable) {\n    addResizeHandle(this);\n  }\n\n  saveToLocalStorage = function() {\n    if (SUPPORTS_LOCAL_STORAGE && localStorage.getItem(getLocalStorageHash(_this, 'isLocal')) === 'true') {\n      localStorage.setItem(getLocalStorageHash(_this, 'gui'), JSON.stringify(_this.getSaveObject()));\n    }\n  };\n\n  // expose this method publicly\n  this.saveToLocalStorageIfPossible = saveToLocalStorage;\n\n  function resetWidth() {\n    const root = _this.getRoot();\n    root.width += 1;\n    common.defer(function() {\n      root.width -= 1;\n    });\n  }\n\n  if (!params.parent) {\n    resetWidth();\n  }\n};\n\nGUI.toggleHide = function() {\n  hide = !hide;\n  common.each(hideableGuis, function(gui) {\n    gui.domElement.style.display = hide ? 'none' : '';\n  });\n};\n\nGUI.CLASS_AUTO_PLACE = 'a';\nGUI.CLASS_AUTO_PLACE_CONTAINER = 'ac';\nGUI.CLASS_MAIN = 'main';\nGUI.CLASS_CONTROLLER_ROW = 'cr';\nGUI.CLASS_TOO_TALL = 'taller-than-window';\nGUI.CLASS_CLOSED = 'closed';\nGUI.CLASS_CLOSE_BUTTON = 'close-button';\nGUI.CLASS_CLOSE_TOP = 'close-top';\nGUI.CLASS_CLOSE_BOTTOM = 'close-bottom';\nGUI.CLASS_DRAG = 'drag';\n\nGUI.DEFAULT_WIDTH = 245;\nGUI.TEXT_CLOSED = 'Close Controls';\nGUI.TEXT_OPEN = 'Open Controls';\n\nGUI._keydownHandler = function(e) {\n  if (document.activeElement.type !== 'text' &&\n    (e.which === HIDE_KEY_CODE || e.keyCode === HIDE_KEY_CODE)) {\n    GUI.toggleHide();\n  }\n};\ndom.bind(window, 'keydown', GUI._keydownHandler, false);\n\ncommon.extend(\n  GUI.prototype,\n\n  /** @lends GUI.prototype */\n  {\n\n    /**\n     * Adds a new {@link Controller} to the GUI. The type of controller created\n     * is inferred from the initial value of <code>object[property]</code>. For\n     * color properties, see {@link addColor}.\n     *\n     * @param {Object} object The object to be manipulated\n     * @param {String} property The name of the property to be manipulated\n     * @param {Number} [min] Minimum allowed value\n     * @param {Number} [max] Maximum allowed value\n     * @param {Number} [step] Increment by which to change value\n     * @returns {Controller} The controller that was added to the GUI.\n     * @instance\n     *\n     * @example\n     * // Add a string controller.\n     * var person = {name: 'Sam'};\n     * gui.add(person, 'name');\n     *\n     * @example\n     * // Add a number controller slider.\n     * var person = {age: 45};\n     * gui.add(person, 'age', 0, 100);\n     */\n    add: function(object, property) {\n      return add(\n        this,\n        object,\n        property,\n        {\n          factoryArgs: Array.prototype.slice.call(arguments, 2)\n        }\n      );\n    },\n\n    /**\n     * Adds a new color controller to the GUI.\n     *\n     * @param object\n     * @param property\n     * @returns {Controller} The controller that was added to the GUI.\n     * @instance\n     *\n     * @example\n     * var palette = {\n     *   color1: '#FF0000', // CSS string\n     *   color2: [ 0, 128, 255 ], // RGB array\n     *   color3: [ 0, 128, 255, 0.3 ], // RGB with alpha\n     *   color4: { h: 350, s: 0.9, v: 0.3 } // Hue, saturation, value\n     * };\n     * gui.addColor(palette, 'color1');\n     * gui.addColor(palette, 'color2');\n     * gui.addColor(palette, 'color3');\n     * gui.addColor(palette, 'color4');\n     */\n    addColor: function(object, property) {\n      return add(\n        this,\n        object,\n        property,\n        {\n          color: true\n        }\n      );\n    },\n\n    /**\n     * Removes the given controller from the GUI.\n     * @param {Controller} controller\n     * @instance\n     */\n    remove: function(controller) {\n      // TODO listening?\n      this.__ul.removeChild(controller.__li);\n      this.__controllers.splice(this.__controllers.indexOf(controller), 1);\n      const _this = this;\n      common.defer(function() {\n        _this.onResize();\n      });\n    },\n\n    /**\n     * Removes the root GUI from the document and unbinds all event listeners.\n     * For subfolders, use `gui.removeFolder(folder)` instead.\n     * @instance\n     */\n    destroy: function() {\n      if (this.parent) {\n        throw new Error(\n          'Only the root GUI should be removed with .destroy(). ' +\n          'For subfolders, use gui.removeFolder(folder) instead.'\n        );\n      }\n\n      if (this.autoPlace) {\n        autoPlaceContainer.removeChild(this.domElement);\n      }\n\n      const _this = this;\n      common.each(this.__folders, function(subfolder) {\n        _this.removeFolder(subfolder);\n      });\n\n      dom.unbind(window, 'keydown', GUI._keydownHandler, false);\n\n      removeListeners(this);\n    },\n\n    /**\n     * Creates a new subfolder GUI instance.\n     * @param name\n     * @returns {dat.gui.GUI} The new folder.\n     * @throws {Error} if this GUI already has a folder by the specified\n     * name\n     * @instance\n     */\n    addFolder: function(name) {\n      // We have to prevent collisions on names in order to have a key\n      // by which to remember saved values\n      if (this.__folders[name] !== undefined) {\n        throw new Error('You already have a folder in this GUI by the' +\n          ' name \"' + name + '\"');\n      }\n\n      const newGuiParams = { name: name, parent: this };\n\n      // We need to pass down the autoPlace trait so that we can\n      // attach event listeners to open/close folder actions to\n      // ensure that a scrollbar appears if the window is too short.\n      newGuiParams.autoPlace = this.autoPlace;\n\n      // Do we have saved appearance data for this folder?\n      if (this.load && // Anything loaded?\n        this.load.folders && // Was my parent a dead-end?\n        this.load.folders[name]) { // Did daddy remember me?\n        // Start me closed if I was closed\n        newGuiParams.closed = this.load.folders[name].closed;\n\n        // Pass down the loaded data\n        newGuiParams.load = this.load.folders[name];\n      }\n\n      const gui = new GUI(newGuiParams);\n      this.__folders[name] = gui;\n\n      const li = addRow(this, gui.domElement);\n      dom.addClass(li, 'folder');\n      return gui;\n    },\n\n    /**\n     * Removes a subfolder GUI instance.\n     * @param {dat.gui.GUI} folder The folder to remove.\n     * @instance\n     */\n    removeFolder: function(folder) {\n      this.__ul.removeChild(folder.domElement.parentElement);\n\n      delete this.__folders[folder.name];\n\n      // Do we have saved appearance data for this folder?\n      if (this.load && // Anything loaded?\n        this.load.folders && // Was my parent a dead-end?\n        this.load.folders[folder.name]) {\n        delete this.load.folders[folder.name];\n      }\n\n      removeListeners(folder);\n\n      const _this = this;\n\n      common.each(folder.__folders, function(subfolder) {\n        folder.removeFolder(subfolder);\n      });\n\n      common.defer(function() {\n        _this.onResize();\n      });\n    },\n\n    /**\n     * Opens the GUI.\n     */\n    open: function() {\n      this.closed = false;\n    },\n\n    /**\n     * Closes the GUI.\n     */\n    close: function() {\n      this.closed = true;\n    },\n\n    /**\n    * Hides the GUI.\n    */\n    hide: function() {\n      this.domElement.style.display = 'none';\n    },\n\n    /**\n    * Shows the GUI.\n    */\n    show: function() {\n      this.domElement.style.display = '';\n    },\n\n\n    onResize: function() {\n      // we debounce this function to prevent performance issues when rotating on tablet/mobile\n      const root = this.getRoot();\n      if (root.scrollable) {\n        const top = dom.getOffset(root.__ul).top;\n        let h = 0;\n\n        common.each(root.__ul.childNodes, function(node) {\n          if (!(root.autoPlace && node === root.__save_row)) {\n            h += dom.getHeight(node);\n          }\n        });\n\n        if (window.innerHeight - top - CLOSE_BUTTON_HEIGHT < h) {\n          dom.addClass(root.domElement, GUI.CLASS_TOO_TALL);\n          root.__ul.style.height = window.innerHeight - top - CLOSE_BUTTON_HEIGHT + 'px';\n        } else {\n          dom.removeClass(root.domElement, GUI.CLASS_TOO_TALL);\n          root.__ul.style.height = 'auto';\n        }\n      }\n\n      if (root.__resize_handle) {\n        common.defer(function() {\n          root.__resize_handle.style.height = root.__ul.offsetHeight + 'px';\n        });\n      }\n\n      if (root.__closeButton) {\n        root.__closeButton.style.width = root.width + 'px';\n      }\n    },\n\n    onResizeDebounced: common.debounce(function() { this.onResize(); }, 50),\n\n    /**\n     * Mark objects for saving. The order of these objects cannot change as\n     * the GUI grows. When remembering new objects, append them to the end\n     * of the list.\n     *\n     * @param {...Object} objects\n     * @throws {Error} if not called on a top level GUI.\n     * @instance\n     * @ignore\n     */\n    remember: function() {\n      if (common.isUndefined(SAVE_DIALOGUE)) {\n        SAVE_DIALOGUE = new CenteredDiv();\n        SAVE_DIALOGUE.domElement.innerHTML = saveDialogueContents;\n      }\n\n      if (this.parent) {\n        throw new Error('You can only call remember on a top level GUI.');\n      }\n\n      const _this = this;\n\n      common.each(Array.prototype.slice.call(arguments), function(object) {\n        if (_this.__rememberedObjects.length === 0) {\n          addSaveMenu(_this);\n        }\n        if (_this.__rememberedObjects.indexOf(object) === -1) {\n          _this.__rememberedObjects.push(object);\n        }\n      });\n\n      if (this.autoPlace) {\n        // Set save row width\n        setWidth(this, this.width);\n      }\n    },\n\n    /**\n     * @returns {dat.gui.GUI} the topmost parent GUI of a nested GUI.\n     * @instance\n     */\n    getRoot: function() {\n      let gui = this;\n      while (gui.parent) {\n        gui = gui.parent;\n      }\n      return gui;\n    },\n\n    /**\n     * @returns {Object} a JSON object representing the current state of\n     * this GUI as well as its remembered properties.\n     * @instance\n     */\n    getSaveObject: function() {\n      const toReturn = this.load;\n      toReturn.closed = this.closed;\n\n      // Am I remembering any values?\n      if (this.__rememberedObjects.length > 0) {\n        toReturn.preset = this.preset;\n\n        if (!toReturn.remembered) {\n          toReturn.remembered = {};\n        }\n\n        toReturn.remembered[this.preset] = getCurrentPreset(this);\n      }\n\n      toReturn.folders = {};\n      common.each(this.__folders, function(element, key) {\n        toReturn.folders[key] = element.getSaveObject();\n      });\n\n      return toReturn;\n    },\n\n    save: function() {\n      if (!this.load.remembered) {\n        this.load.remembered = {};\n      }\n\n      this.load.remembered[this.preset] = getCurrentPreset(this);\n      markPresetModified(this, false);\n      this.saveToLocalStorageIfPossible();\n    },\n\n    saveAs: function(presetName) {\n      if (!this.load.remembered) {\n        // Retain default values upon first save\n        this.load.remembered = {};\n        this.load.remembered[DEFAULT_DEFAULT_PRESET_NAME] = getCurrentPreset(this, true);\n      }\n\n      this.load.remembered[presetName] = getCurrentPreset(this);\n      this.preset = presetName;\n      addPresetOption(this, presetName, true);\n      this.saveToLocalStorageIfPossible();\n    },\n\n    revert: function(gui) {\n      common.each(this.__controllers, function(controller) {\n        // Make revert work on Default.\n        if (!this.getRoot().load.remembered) {\n          controller.setValue(controller.initialValue);\n        } else {\n          recallSavedValue(gui || this.getRoot(), controller);\n        }\n\n        // fire onFinishChange callback\n        if (controller.__onFinishChange) {\n          controller.__onFinishChange.call(controller, controller.getValue());\n        }\n      }, this);\n\n      common.each(this.__folders, function(folder) {\n        folder.revert(folder);\n      });\n\n      if (!gui) {\n        markPresetModified(this.getRoot(), false);\n      }\n    },\n\n    listen: function(controller) {\n      const init = this.__listening.length === 0;\n      this.__listening.push(controller);\n      if (init) {\n        updateDisplays(this.__listening);\n      }\n    },\n\n    updateDisplay: function() {\n      common.each(this.__controllers, function(controller) {\n        controller.updateDisplay();\n      });\n      common.each(this.__folders, function(folder) {\n        folder.updateDisplay();\n      });\n    }\n  }\n);\n\n/**\n * Add a row to the end of the GUI or before another row.\n *\n * @param gui\n * @param [newDom] If specified, inserts the dom content in the new row\n * @param [liBefore] If specified, places the new row before another row\n *\n * @ignore\n */\nfunction addRow(gui, newDom, liBefore) {\n  const li = document.createElement('li');\n  if (newDom) {\n    li.appendChild(newDom);\n  }\n\n  if (liBefore) {\n    gui.__ul.insertBefore(li, liBefore);\n  } else {\n    gui.__ul.appendChild(li);\n  }\n  gui.onResize();\n  return li;\n}\n\nfunction removeListeners(gui) {\n  dom.unbind(window, 'resize', gui.__resizeHandler);\n\n  if (gui.saveToLocalStorageIfPossible) {\n    dom.unbind(window, 'unload', gui.saveToLocalStorageIfPossible);\n  }\n}\n\nfunction markPresetModified(gui, modified) {\n  const opt = gui.__preset_select[gui.__preset_select.selectedIndex];\n\n  if (modified) {\n    opt.innerHTML = opt.value + '*';\n  } else {\n    opt.innerHTML = opt.value;\n  }\n}\n\nfunction augmentController(gui, li, controller) {\n  controller.__li = li;\n  controller.__gui = gui;\n\n  common.extend(controller, /** @lends Controller.prototype */ {\n    /**\n     * @param  {Array|Object} options\n     * @return {Controller}\n     */\n    options: function(options) {\n      if (arguments.length > 1) {\n        const nextSibling = controller.__li.nextElementSibling;\n        controller.remove();\n\n        return add(\n          gui,\n          controller.object,\n          controller.property,\n          {\n            before: nextSibling,\n            factoryArgs: [common.toArray(arguments)]\n          }\n        );\n      }\n\n      if (common.isArray(options) || common.isObject(options)) {\n        const nextSibling = controller.__li.nextElementSibling;\n        controller.remove();\n\n        return add(\n          gui,\n          controller.object,\n          controller.property,\n          {\n            before: nextSibling,\n            factoryArgs: [options]\n          }\n        );\n      }\n    },\n\n    /**\n     * Sets the name of the controller.\n     * @param  {string} name\n     * @return {Controller}\n     */\n    name: function(name) {\n      controller.__li.firstElementChild.firstElementChild.innerHTML = name;\n      return controller;\n    },\n\n    /**\n     * Sets controller to listen for changes on its underlying object.\n     * @return {Controller}\n     */\n    listen: function() {\n      controller.__gui.listen(controller);\n      return controller;\n    },\n\n    /**\n     * Removes the controller from its parent GUI.\n     * @return {Controller}\n     */\n    remove: function() {\n      controller.__gui.remove(controller);\n      return controller;\n    }\n  });\n\n  // All sliders should be accompanied by a box.\n  if (controller instanceof NumberControllerSlider) {\n    const box = new NumberControllerBox(controller.object, controller.property,\n      { min: controller.__min, max: controller.__max, step: controller.__step });\n\n    common.each(['updateDisplay', 'onChange', 'onFinishChange', 'step', 'min', 'max'], function(method) {\n      const pc = controller[method];\n      const pb = box[method];\n      controller[method] = box[method] = function() {\n        const args = Array.prototype.slice.call(arguments);\n        pb.apply(box, args);\n        return pc.apply(controller, args);\n      };\n    });\n\n    dom.addClass(li, 'has-slider');\n    controller.domElement.insertBefore(box.domElement, controller.domElement.firstElementChild);\n  } else if (controller instanceof NumberControllerBox) {\n    const r = function(returned) {\n      // Have we defined both boundaries?\n      if (common.isNumber(controller.__min) && common.isNumber(controller.__max)) {\n        // Well, then lets just replace this with a slider.\n\n        // lets remember if the old controller had a specific name or was listening\n        const oldName = controller.__li.firstElementChild.firstElementChild.innerHTML;\n        const wasListening = controller.__gui.__listening.indexOf(controller) > -1;\n\n        controller.remove();\n        const newController = add(\n          gui,\n          controller.object,\n          controller.property,\n          {\n            before: controller.__li.nextElementSibling,\n            factoryArgs: [controller.__min, controller.__max, controller.__step]\n          });\n\n        newController.name(oldName);\n        if (wasListening) newController.listen();\n\n        return newController;\n      }\n\n      return returned;\n    };\n\n    controller.min = common.compose(r, controller.min);\n    controller.max = common.compose(r, controller.max);\n  } else if (controller instanceof BooleanController) {\n    dom.bind(li, 'click', function() {\n      dom.fakeEvent(controller.__checkbox, 'click');\n    });\n\n    dom.bind(controller.__checkbox, 'click', function(e) {\n      e.stopPropagation(); // Prevents double-toggle\n    });\n  } else if (controller instanceof FunctionController) {\n    dom.bind(li, 'click', function() {\n      dom.fakeEvent(controller.__button, 'click');\n    });\n\n    dom.bind(li, 'mouseover', function() {\n      dom.addClass(controller.__button, 'hover');\n    });\n\n    dom.bind(li, 'mouseout', function() {\n      dom.removeClass(controller.__button, 'hover');\n    });\n  } else if (controller instanceof ColorController) {\n    dom.addClass(li, 'color');\n    controller.updateDisplay = common.compose(function(val) {\n      li.style.borderLeftColor = controller.__color.toString();\n      return val;\n    }, controller.updateDisplay);\n\n    controller.updateDisplay();\n  }\n\n  controller.setValue = common.compose(function(val) {\n    if (gui.getRoot().__preset_select && controller.isModified()) {\n      markPresetModified(gui.getRoot(), true);\n    }\n\n    return val;\n  }, controller.setValue);\n}\n\nfunction recallSavedValue(gui, controller) {\n  // Find the topmost GUI, that's where remembered objects live.\n  const root = gui.getRoot();\n\n  // Does the object we're controlling match anything we've been told to\n  // remember?\n  const matchedIndex = root.__rememberedObjects.indexOf(controller.object);\n\n  // Why yes, it does!\n  if (matchedIndex !== -1) {\n    // Let me fetch a map of controllers for thcommon.isObject.\n    let controllerMap = root.__rememberedObjectIndecesToControllers[matchedIndex];\n\n    // Ohp, I believe this is the first controller we've created for this\n    // object. Lets make the map fresh.\n    if (controllerMap === undefined) {\n      controllerMap = {};\n      root.__rememberedObjectIndecesToControllers[matchedIndex] =\n        controllerMap;\n    }\n\n    // Keep track of this controller\n    controllerMap[controller.property] = controller;\n\n    // Okay, now have we saved any values for this controller?\n    if (root.load && root.load.remembered) {\n      const presetMap = root.load.remembered;\n\n      // Which preset are we trying to load?\n      let preset;\n\n      if (presetMap[gui.preset]) {\n        preset = presetMap[gui.preset];\n      } else if (presetMap[DEFAULT_DEFAULT_PRESET_NAME]) {\n        // Uhh, you can have the default instead?\n        preset = presetMap[DEFAULT_DEFAULT_PRESET_NAME];\n      } else {\n        // Nada.\n        return;\n      }\n\n      // Did the loaded object remember thcommon.isObject? &&  Did we remember this particular property?\n      if (preset[matchedIndex] && preset[matchedIndex][controller.property] !== undefined) {\n        // We did remember something for this guy ...\n        const value = preset[matchedIndex][controller.property];\n\n        // And that's what it is.\n        controller.initialValue = value;\n        controller.setValue(value);\n      }\n    }\n  }\n}\n\nfunction add(gui, object, property, params) {\n  if (object[property] === undefined) {\n    throw new Error(`Object \"${object}\" has no property \"${property}\"`);\n  }\n\n  let controller;\n\n  if (params.color) {\n    controller = new ColorController(object, property);\n  } else {\n    const factoryArgs = [object, property].concat(params.factoryArgs);\n    controller = ControllerFactory.apply(gui, factoryArgs);\n  }\n\n  if (params.before instanceof Controller) {\n    params.before = params.before.__li;\n  }\n\n  recallSavedValue(gui, controller);\n\n  dom.addClass(controller.domElement, 'c');\n\n  const name = document.createElement('span');\n  dom.addClass(name, 'property-name');\n  name.innerHTML = controller.property;\n\n  const container = document.createElement('div');\n  container.appendChild(name);\n  container.appendChild(controller.domElement);\n\n  const li = addRow(gui, container, params.before);\n\n  dom.addClass(li, GUI.CLASS_CONTROLLER_ROW);\n  if (controller instanceof ColorController) {\n    dom.addClass(li, 'color');\n  } else {\n    dom.addClass(li, typeof controller.getValue());\n  }\n\n  augmentController(gui, li, controller);\n\n  gui.__controllers.push(controller);\n\n  return controller;\n}\n\nfunction getLocalStorageHash(gui, key) {\n  // TODO how does this deal with multiple GUI's?\n  return document.location.href + '.' + key;\n}\n\nfunction addPresetOption(gui, name, setSelected) {\n  const opt = document.createElement('option');\n  opt.innerHTML = name;\n  opt.value = name;\n  gui.__preset_select.appendChild(opt);\n  if (setSelected) {\n    gui.__preset_select.selectedIndex = gui.__preset_select.length - 1;\n  }\n}\n\nfunction showHideExplain(gui, explain) {\n  explain.style.display = gui.useLocalStorage ? 'block' : 'none';\n}\n\nfunction addSaveMenu(gui) {\n  const div = gui.__save_row = document.createElement('li');\n\n  dom.addClass(gui.domElement, 'has-save');\n\n  gui.__ul.insertBefore(div, gui.__ul.firstChild);\n\n  dom.addClass(div, 'save-row');\n\n  const gears = document.createElement('span');\n  gears.innerHTML = '&nbsp;';\n  dom.addClass(gears, 'button gears');\n\n  // TODO replace with FunctionController\n  const button = document.createElement('span');\n  button.innerHTML = 'Save';\n  dom.addClass(button, 'button');\n  dom.addClass(button, 'save');\n\n  const button2 = document.createElement('span');\n  button2.innerHTML = 'New';\n  dom.addClass(button2, 'button');\n  dom.addClass(button2, 'save-as');\n\n  const button3 = document.createElement('span');\n  button3.innerHTML = 'Revert';\n  dom.addClass(button3, 'button');\n  dom.addClass(button3, 'revert');\n\n  const select = gui.__preset_select = document.createElement('select');\n\n  if (gui.load && gui.load.remembered) {\n    common.each(gui.load.remembered, function(value, key) {\n      addPresetOption(gui, key, key === gui.preset);\n    });\n  } else {\n    addPresetOption(gui, DEFAULT_DEFAULT_PRESET_NAME, false);\n  }\n\n  dom.bind(select, 'change', function() {\n    for (let index = 0; index < gui.__preset_select.length; index++) {\n      gui.__preset_select[index].innerHTML = gui.__preset_select[index].value;\n    }\n\n    gui.preset = this.value;\n  });\n\n  div.appendChild(select);\n  div.appendChild(gears);\n  div.appendChild(button);\n  div.appendChild(button2);\n  div.appendChild(button3);\n\n  if (SUPPORTS_LOCAL_STORAGE) {\n    const explain = document.getElementById('dg-local-explain');\n    const localStorageCheckBox = document.getElementById('dg-local-storage');\n    const saveLocally = document.getElementById('dg-save-locally');\n\n    saveLocally.style.display = 'block';\n\n    if (localStorage.getItem(getLocalStorageHash(gui, 'isLocal')) === 'true') {\n      localStorageCheckBox.setAttribute('checked', 'checked');\n    }\n\n    showHideExplain(gui, explain);\n\n    // TODO: Use a boolean controller, fool!\n    dom.bind(localStorageCheckBox, 'change', function() {\n      gui.useLocalStorage = !gui.useLocalStorage;\n      showHideExplain(gui, explain);\n    });\n  }\n\n  const newConstructorTextArea = document.getElementById('dg-new-constructor');\n\n  dom.bind(newConstructorTextArea, 'keydown', function(e) {\n    if (e.metaKey && (e.which === 67 || e.keyCode === 67)) {\n      SAVE_DIALOGUE.hide();\n    }\n  });\n\n  dom.bind(gears, 'click', function() {\n    newConstructorTextArea.innerHTML = JSON.stringify(gui.getSaveObject(), undefined, 2);\n    SAVE_DIALOGUE.show();\n    newConstructorTextArea.focus();\n    newConstructorTextArea.select();\n  });\n\n  dom.bind(button, 'click', function() {\n    gui.save();\n  });\n\n  dom.bind(button2, 'click', function() {\n    const presetName = prompt('Enter a new preset name.');\n    if (presetName) {\n      gui.saveAs(presetName);\n    }\n  });\n\n  dom.bind(button3, 'click', function() {\n    gui.revert();\n  });\n\n  // div.appendChild(button2);\n}\n\nfunction addResizeHandle(gui) {\n  let pmouseX;\n\n  gui.__resize_handle = document.createElement('div');\n\n  common.extend(gui.__resize_handle.style, {\n\n    width: '6px',\n    marginLeft: '-3px',\n    height: '200px',\n    cursor: 'ew-resize',\n    position: 'absolute'\n    // border: '1px solid blue'\n\n  });\n\n  function drag(e) {\n    e.preventDefault();\n\n    gui.width += pmouseX - e.clientX;\n    gui.onResize();\n    pmouseX = e.clientX;\n\n    return false;\n  }\n\n  function dragStop() {\n    dom.removeClass(gui.__closeButton, GUI.CLASS_DRAG);\n    dom.unbind(window, 'mousemove', drag);\n    dom.unbind(window, 'mouseup', dragStop);\n  }\n\n  function dragStart(e) {\n    e.preventDefault();\n\n    pmouseX = e.clientX;\n\n    dom.addClass(gui.__closeButton, GUI.CLASS_DRAG);\n    dom.bind(window, 'mousemove', drag);\n    dom.bind(window, 'mouseup', dragStop);\n\n    return false;\n  }\n\n  dom.bind(gui.__resize_handle, 'mousedown', dragStart);\n  dom.bind(gui.__closeButton, 'mousedown', dragStart);\n\n  gui.domElement.insertBefore(gui.__resize_handle, gui.domElement.firstElementChild);\n}\n\nfunction setWidth(gui, w) {\n  gui.domElement.style.width = w + 'px';\n  // Auto placed save-rows are position fixed, so we have to\n  // set the width manually if we want it to bleed to the edge\n  if (gui.__save_row && gui.autoPlace) {\n    gui.__save_row.style.width = w + 'px';\n  }\n  if (gui.__closeButton) {\n    gui.__closeButton.style.width = w + 'px';\n  }\n}\n\nfunction getCurrentPreset(gui, useInitialValues) {\n  const toReturn = {};\n\n  // For each object I'm remembering\n  common.each(gui.__rememberedObjects, function(val, index) {\n    const savedValues = {};\n\n    // The controllers I've made for thcommon.isObject by property\n    const controllerMap =\n      gui.__rememberedObjectIndecesToControllers[index];\n\n    // Remember each value for each property\n    common.each(controllerMap, function(controller, property) {\n      savedValues[property] = useInitialValues ? controller.initialValue : controller.getValue();\n    });\n\n    // Save the values for thcommon.isObject\n    toReturn[index] = savedValues;\n  });\n\n  return toReturn;\n}\n\nfunction setPresetSelectIndex(gui) {\n  for (let index = 0; index < gui.__preset_select.length; index++) {\n    if (gui.__preset_select[index].value === gui.preset) {\n      gui.__preset_select.selectedIndex = index;\n    }\n  }\n}\n\nfunction updateDisplays(controllerArray) {\n  if (controllerArray.length !== 0) {\n    requestAnimationFrame.call(window, function() {\n      updateDisplays(controllerArray);\n    });\n  }\n\n  common.each(controllerArray, function(c) {\n    c.updateDisplay();\n  });\n}\n\nexport default GUI;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Color from './color/Color';\nimport math from './color/math';\nimport interpret from './color/interpret';\n\nimport Controller from './controllers/Controller';\nimport BooleanController from './controllers/BooleanController';\nimport OptionController from './controllers/OptionController';\nimport StringController from './controllers/StringController';\nimport NumberController from './controllers/NumberController';\nimport NumberControllerBox from './controllers/NumberControllerBox';\nimport NumberControllerSlider from './controllers/NumberControllerSlider';\nimport FunctionController from './controllers/FunctionController';\nimport ColorController from './controllers/ColorController';\n\nimport domImport from './dom/dom';\nimport GUIImport from './gui/GUI';\n\nexport const color = {\n  Color: Color,\n  math: math,\n  interpret: interpret\n};\n\nexport const controllers = {\n  Controller: Controller,\n  BooleanController: BooleanController,\n  OptionController: OptionController,\n  StringController: StringController,\n  NumberController: NumberController,\n  NumberControllerBox: NumberControllerBox,\n  NumberControllerSlider: NumberControllerSlider,\n  FunctionController: FunctionController,\n  ColorController: ColorController\n};\n\nexport const dom = { dom: domImport };\n\nexport const gui = { GUI: GUIImport };\n\nexport const GUI = GUIImport;\n\nexport default {\n  color,\n  controllers,\n  dom,\n  gui,\n  GUI\n};\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","/**\r\n * Common utilities\r\n * @module glMatrix\r\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\r\n * Sets the type of array used when creating new vectors and matrices\r\n *\r\n * @param {Type} type Array type, such as Float32Array or Array\r\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\r\n * Convert Degree To Radian\r\n *\r\n * @param {Number} a Angle in Degrees\r\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\r\n * Tests whether or not the arguments have approximately the same value, within an absolute\r\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\r\n * than or equal to 1.0, and a relative tolerance is used for larger values)\r\n *\r\n * @param {Number} a The first number to test.\r\n * @param {Number} b The second number to test.\r\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}","import * as glMatrix from \"./common.js\";\nimport * as mat2 from \"./mat2.js\";\nimport * as mat2d from \"./mat2d.js\";\nimport * as mat3 from \"./mat3.js\";\nimport * as mat4 from \"./mat4.js\";\nimport * as quat from \"./quat.js\";\nimport * as quat2 from \"./quat2.js\";\nimport * as vec2 from \"./vec2.js\";\nimport * as vec3 from \"./vec3.js\";\nimport * as vec4 from \"./vec4.js\";\nexport { glMatrix, mat2, mat2d, mat3, mat4, quat, quat2, vec2, vec3, vec4 };","import * as glMatrix from \"./common.js\";\n/**\r\n * 2x2 Matrix\r\n * @module mat2\r\n */\n\n/**\r\n * Creates a new identity mat2\r\n *\r\n * @returns {mat2} a new 2x2 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[0] = 1;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat2 initialized with values from an existing matrix\r\n *\r\n * @param {mat2} a matrix to clone\r\n * @returns {mat2} a new 2x2 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Copy the values from one mat2 to another\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the source matrix\r\n * @returns {mat2} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set a mat2 to the identity matrix\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @returns {mat2} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Create a new mat2 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 2)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 3)\r\n * @returns {mat2} out A new 2x2 matrix\r\n */\n\nexport function fromValues(m00, m01, m10, m11) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m10;\n  out[3] = m11;\n  return out;\n}\n/**\r\n * Set the components of a mat2 to the given values\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 2)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 3)\r\n * @returns {mat2} out\r\n */\n\nexport function set(out, m00, m01, m10, m11) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m10;\n  out[3] = m11;\n  return out;\n}\n/**\r\n * Transpose the values of a mat2\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the source matrix\r\n * @returns {mat2} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache\n  // some values\n  if (out === a) {\n    var a1 = a[1];\n    out[1] = a[2];\n    out[2] = a1;\n  } else {\n    out[0] = a[0];\n    out[1] = a[2];\n    out[2] = a[1];\n    out[3] = a[3];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat2\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the source matrix\r\n * @returns {mat2} out\r\n */\n\nexport function invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3]; // Calculate the determinant\n\n  var det = a0 * a3 - a2 * a1;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = a3 * det;\n  out[1] = -a1 * det;\n  out[2] = -a2 * det;\n  out[3] = a0 * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat2\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the source matrix\r\n * @returns {mat2} out\r\n */\n\nexport function adjoint(out, a) {\n  // Caching this value is nessecary if out == a\n  var a0 = a[0];\n  out[0] = a[3];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a0;\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat2\r\n *\r\n * @param {mat2} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  return a[0] * a[3] - a[2] * a[1];\n}\n/**\r\n * Multiplies two mat2's\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the first operand\r\n * @param {mat2} b the second operand\r\n * @returns {mat2} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = a0 * b0 + a2 * b1;\n  out[1] = a1 * b0 + a3 * b1;\n  out[2] = a0 * b2 + a2 * b3;\n  out[3] = a1 * b2 + a3 * b3;\n  return out;\n}\n/**\r\n * Rotates a mat2 by the given angle\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat2} out\r\n */\n\nexport function rotate(out, a, rad) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = a0 * c + a2 * s;\n  out[1] = a1 * c + a3 * s;\n  out[2] = a0 * -s + a2 * c;\n  out[3] = a1 * -s + a3 * c;\n  return out;\n}\n/**\r\n * Scales the mat2 by the dimensions in the given vec2\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the matrix to rotate\r\n * @param {vec2} v the vec2 to scale the matrix by\r\n * @returns {mat2} out\r\n **/\n\nexport function scale(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0 * v0;\n  out[1] = a1 * v0;\n  out[2] = a2 * v1;\n  out[3] = a3 * v1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2.identity(dest);\r\n *     mat2.rotate(dest, dest, rad);\r\n *\r\n * @param {mat2} out mat2 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat2} out\r\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = -s;\n  out[3] = c;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2.identity(dest);\r\n *     mat2.scale(dest, dest, vec);\r\n *\r\n * @param {mat2} out mat2 receiving operation result\r\n * @param {vec2} v Scaling vector\r\n * @returns {mat2} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = v[1];\n  return out;\n}\n/**\r\n * Returns a string representation of a mat2\r\n *\r\n * @param {mat2} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return 'mat2(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ')';\n}\n/**\r\n * Returns Frobenius norm of a mat2\r\n *\r\n * @param {mat2} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2));\n}\n/**\r\n * Returns L, D and U matrices (Lower triangular, Diagonal and Upper triangular) by factorizing the input matrix\r\n * @param {mat2} L the lower triangular matrix\r\n * @param {mat2} D the diagonal matrix\r\n * @param {mat2} U the upper triangular matrix\r\n * @param {mat2} a the input matrix to factorize\r\n */\n\nexport function LDU(L, D, U, a) {\n  L[2] = a[2] / a[0];\n  U[0] = a[0];\n  U[1] = a[1];\n  U[3] = a[3] - L[2] * U[1];\n  return [L, D, U];\n}\n/**\r\n * Adds two mat2's\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the first operand\r\n * @param {mat2} b the second operand\r\n * @returns {mat2} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the first operand\r\n * @param {mat2} b the second operand\r\n * @returns {mat2} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {mat2} a The first matrix.\r\n * @param {mat2} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {mat2} a The first matrix.\r\n * @param {mat2} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat2} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\r\n * Adds two mat2's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat2} out the receiving vector\r\n * @param {mat2} a the first operand\r\n * @param {mat2} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat2} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\r\n * Alias for {@link mat2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat2.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\r\n * 2x3 Matrix\r\n * @module mat2d\r\n *\r\n * @description\r\n * A mat2d contains six elements defined as:\r\n * <pre>\r\n * [a, c, tx,\r\n *  b, d, ty]\r\n * </pre>\r\n * This is a short form for the 3x3 matrix:\r\n * <pre>\r\n * [a, c, tx,\r\n *  b, d, ty,\r\n *  0, 0, 1]\r\n * </pre>\r\n * The last row is ignored so the array is shorter and operations are faster.\r\n */\n\n/**\r\n * Creates a new identity mat2d\r\n *\r\n * @returns {mat2d} a new 2x3 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(6);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[4] = 0;\n    out[5] = 0;\n  }\n\n  out[0] = 1;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat2d initialized with values from an existing matrix\r\n *\r\n * @param {mat2d} a matrix to clone\r\n * @returns {mat2d} a new 2x3 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(6);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  return out;\n}\n/**\r\n * Copy the values from one mat2d to another\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the source matrix\r\n * @returns {mat2d} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  return out;\n}\n/**\r\n * Set a mat2d to the identity matrix\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @returns {mat2d} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\r\n * Create a new mat2d with the given values\r\n *\r\n * @param {Number} a Component A (index 0)\r\n * @param {Number} b Component B (index 1)\r\n * @param {Number} c Component C (index 2)\r\n * @param {Number} d Component D (index 3)\r\n * @param {Number} tx Component TX (index 4)\r\n * @param {Number} ty Component TY (index 5)\r\n * @returns {mat2d} A new mat2d\r\n */\n\nexport function fromValues(a, b, c, d, tx, ty) {\n  var out = new glMatrix.ARRAY_TYPE(6);\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  out[3] = d;\n  out[4] = tx;\n  out[5] = ty;\n  return out;\n}\n/**\r\n * Set the components of a mat2d to the given values\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {Number} a Component A (index 0)\r\n * @param {Number} b Component B (index 1)\r\n * @param {Number} c Component C (index 2)\r\n * @param {Number} d Component D (index 3)\r\n * @param {Number} tx Component TX (index 4)\r\n * @param {Number} ty Component TY (index 5)\r\n * @returns {mat2d} out\r\n */\n\nexport function set(out, a, b, c, d, tx, ty) {\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  out[3] = d;\n  out[4] = tx;\n  out[5] = ty;\n  return out;\n}\n/**\r\n * Inverts a mat2d\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the source matrix\r\n * @returns {mat2d} out\r\n */\n\nexport function invert(out, a) {\n  var aa = a[0],\n      ab = a[1],\n      ac = a[2],\n      ad = a[3];\n  var atx = a[4],\n      aty = a[5];\n  var det = aa * ad - ab * ac;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = ad * det;\n  out[1] = -ab * det;\n  out[2] = -ac * det;\n  out[3] = aa * det;\n  out[4] = (ac * aty - ad * atx) * det;\n  out[5] = (ab * atx - aa * aty) * det;\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat2d\r\n *\r\n * @param {mat2d} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  return a[0] * a[3] - a[1] * a[2];\n}\n/**\r\n * Multiplies two mat2d's\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the first operand\r\n * @param {mat2d} b the second operand\r\n * @returns {mat2d} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5];\n  out[0] = a0 * b0 + a2 * b1;\n  out[1] = a1 * b0 + a3 * b1;\n  out[2] = a0 * b2 + a2 * b3;\n  out[3] = a1 * b2 + a3 * b3;\n  out[4] = a0 * b4 + a2 * b5 + a4;\n  out[5] = a1 * b4 + a3 * b5 + a5;\n  return out;\n}\n/**\r\n * Rotates a mat2d by the given angle\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat2d} out\r\n */\n\nexport function rotate(out, a, rad) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = a0 * c + a2 * s;\n  out[1] = a1 * c + a3 * s;\n  out[2] = a0 * -s + a2 * c;\n  out[3] = a1 * -s + a3 * c;\n  out[4] = a4;\n  out[5] = a5;\n  return out;\n}\n/**\r\n * Scales the mat2d by the dimensions in the given vec2\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the matrix to translate\r\n * @param {vec2} v the vec2 to scale the matrix by\r\n * @returns {mat2d} out\r\n **/\n\nexport function scale(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0 * v0;\n  out[1] = a1 * v0;\n  out[2] = a2 * v1;\n  out[3] = a3 * v1;\n  out[4] = a4;\n  out[5] = a5;\n  return out;\n}\n/**\r\n * Translates the mat2d by the dimensions in the given vec2\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the matrix to translate\r\n * @param {vec2} v the vec2 to translate the matrix by\r\n * @returns {mat2d} out\r\n **/\n\nexport function translate(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0;\n  out[1] = a1;\n  out[2] = a2;\n  out[3] = a3;\n  out[4] = a0 * v0 + a2 * v1 + a4;\n  out[5] = a1 * v0 + a3 * v1 + a5;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2d.identity(dest);\r\n *     mat2d.rotate(dest, dest, rad);\r\n *\r\n * @param {mat2d} out mat2d receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat2d} out\r\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = -s;\n  out[3] = c;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2d.identity(dest);\r\n *     mat2d.scale(dest, dest, vec);\r\n *\r\n * @param {mat2d} out mat2d receiving operation result\r\n * @param {vec2} v Scaling vector\r\n * @returns {mat2d} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = v[1];\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2d.identity(dest);\r\n *     mat2d.translate(dest, dest, vec);\r\n *\r\n * @param {mat2d} out mat2d receiving operation result\r\n * @param {vec2} v Translation vector\r\n * @returns {mat2d} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = v[0];\n  out[5] = v[1];\n  return out;\n}\n/**\r\n * Returns a string representation of a mat2d\r\n *\r\n * @param {mat2d} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return 'mat2d(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' + a[4] + ', ' + a[5] + ')';\n}\n/**\r\n * Returns Frobenius norm of a mat2d\r\n *\r\n * @param {mat2d} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2) + Math.pow(a[4], 2) + Math.pow(a[5], 2) + 1);\n}\n/**\r\n * Adds two mat2d's\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the first operand\r\n * @param {mat2d} b the second operand\r\n * @returns {mat2d} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the first operand\r\n * @param {mat2d} b the second operand\r\n * @returns {mat2d} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat2d} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  return out;\n}\n/**\r\n * Adds two mat2d's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat2d} out the receiving vector\r\n * @param {mat2d} a the first operand\r\n * @param {mat2d} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat2d} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {mat2d} a The first matrix.\r\n * @param {mat2d} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {mat2d} a The first matrix.\r\n * @param {mat2d} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5));\n}\n/**\r\n * Alias for {@link mat2d.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat2d.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\r\n * 3x3 Matrix\r\n * @module mat3\r\n */\n\n/**\r\n * Creates a new identity mat3\r\n *\r\n * @returns {mat3} a new 3x3 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Copies the upper-left 3x3 values into the given mat3.\r\n *\r\n * @param {mat3} out the receiving 3x3 matrix\r\n * @param {mat4} a   the source 4x4 matrix\r\n * @returns {mat3} out\r\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\r\n * Creates a new mat3 initialized with values from an existing matrix\r\n *\r\n * @param {mat3} a matrix to clone\r\n * @returns {mat3} a new 3x3 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Copy the values from one mat3 to another\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Create a new mat3 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\r\n * @returns {mat3} A new mat3\r\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\r\n * Set the components of a mat3 to the given values\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\r\n * @returns {mat3} out\r\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\r\n * Set a mat3 to the identity matrix\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @returns {mat3} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat3\r\n *\r\n * @param {mat3} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\r\n * Multiplies two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the first operand\r\n * @param {mat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\r\n * Translate a mat3 by the given vector\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the matrix to translate\r\n * @param {vec2} v vector to translate by\r\n * @returns {mat3} out\r\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\r\n * Rotates a mat3 by the given angle\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n;\n/**\r\n * Scales the mat3 by the dimensions in the given vec2\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the matrix to rotate\r\n * @param {vec2} v the vec2 to scale the matrix by\r\n * @returns {mat3} out\r\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.translate(dest, dest, vec);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {vec2} v Translation vector\r\n * @returns {mat3} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.rotate(dest, dest, rad);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.scale(dest, dest, vec);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {vec2} v Scaling vector\r\n * @returns {mat3} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Copies the values from a mat2d into a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat2d} a the matrix to copy\r\n * @returns {mat3} out\r\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\r\n* Calculates a 3x3 matrix from the given quaternion\r\n*\r\n* @param {mat3} out mat3 receiving operation result\r\n* @param {quat} q Quaternion to create matrix from\r\n*\r\n* @returns {mat3} out\r\n*/\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\r\n* Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\r\n*\r\n* @param {mat3} out mat3 receiving operation result\r\n* @param {mat4} a Mat4 to derive the normal matrix from\r\n*\r\n* @returns {mat3} out\r\n*/\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\r\n * Generates a 2D projection matrix with the given bounds\r\n *\r\n * @param {mat3} out mat3 frustum matrix will be written into\r\n * @param {number} width Width of your gl context\r\n * @param {number} height Height of gl context\r\n * @returns {mat3} out\r\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Returns a string representation of a mat3\r\n *\r\n * @param {mat3} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return 'mat3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' + a[4] + ', ' + a[5] + ', ' + a[6] + ', ' + a[7] + ', ' + a[8] + ')';\n}\n/**\r\n * Returns Frobenius norm of a mat3\r\n *\r\n * @param {mat3} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2) + Math.pow(a[4], 2) + Math.pow(a[5], 2) + Math.pow(a[6], 2) + Math.pow(a[7], 2) + Math.pow(a[8], 2));\n}\n/**\r\n * Adds two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the first operand\r\n * @param {mat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the first operand\r\n * @param {mat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat3} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\r\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat3} out the receiving vector\r\n * @param {mat3} a the first operand\r\n * @param {mat3} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat3} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {mat3} a The first matrix.\r\n * @param {mat3} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {mat3} a The first matrix.\r\n * @param {mat3} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\r\n * Alias for {@link mat3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\r\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\r\n * @module mat4\r\n */\n\n/**\r\n * Creates a new identity mat4\r\n *\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 initialized with values from an existing matrix\r\n *\r\n * @param {mat4} a matrix to clone\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Copy the values from one mat4 to another\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Create a new mat4 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} A new mat4\r\n */\n\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set the components of a mat4 to the given values\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} out\r\n */\n\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set a mat4 to the identity matrix\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @returns {mat4} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat4\r\n *\r\n * @param {mat4} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\r\n * Multiplies two mat4s\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the first operand\r\n * @param {mat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\r\n * Translate a mat4 by the given vector\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to translate\r\n * @param {vec3} v vector to translate by\r\n * @returns {mat4} out\r\n */\n\nexport function translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\r\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to scale\r\n * @param {vec3} v the vec3 to scale the matrix by\r\n * @returns {mat4} out\r\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Rotates a mat4 by the given angle around the given axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {vec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nexport function rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.sqrt(x * x + y * y + z * z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the X axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Y axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Z axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {vec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.scale(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {vec3} v Scaling vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle around a given axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotate(dest, dest, rad, axis);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {vec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.sqrt(x * x + y * y + z * z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the X axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateX(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Y axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateY(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Z axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateZ(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation and vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {vec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 from a dual quat.\r\n *\r\n * @param {mat4} out Matrix\r\n * @param {quat2} a Dual Quaternion\r\n * @returns {mat4} mat4 receiving operation result\r\n */\n\nexport function fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\r\n * Returns the translation vector component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslation,\r\n *  the returned vector will be the same as the translation vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive translation component\r\n * @param  {mat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\r\n * Returns the scaling factor component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslationScale\r\n *  with a normalized Quaternion paramter, the returned vector will be\r\n *  the same as the scaling vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive scaling factor component\r\n * @param  {mat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nexport function getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.sqrt(m11 * m11 + m12 * m12 + m13 * m13);\n  out[1] = Math.sqrt(m21 * m21 + m22 * m22 + m23 * m23);\n  out[2] = Math.sqrt(m31 * m31 + m32 * m32 + m33 * m33);\n  return out;\n}\n/**\r\n * Returns a quaternion representing the rotational component\r\n *  of a transformation matrix. If a matrix is built with\r\n *  fromRotationTranslation, the returned quaternion will be the\r\n *  same as the quaternion originally supplied.\r\n * @param {quat} out Quaternion to receive the rotation component\r\n * @param {mat4} mat Matrix to be decomposed (input)\r\n * @return {quat} out\r\n */\n\nexport function getRotation(out, mat) {\n  // Algorithm taken from http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n  var trace = mat[0] + mat[5] + mat[10];\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (mat[6] - mat[9]) / S;\n    out[1] = (mat[8] - mat[2]) / S;\n    out[2] = (mat[1] - mat[4]) / S;\n  } else if (mat[0] > mat[5] && mat[0] > mat[10]) {\n    S = Math.sqrt(1.0 + mat[0] - mat[5] - mat[10]) * 2;\n    out[3] = (mat[6] - mat[9]) / S;\n    out[0] = 0.25 * S;\n    out[1] = (mat[1] + mat[4]) / S;\n    out[2] = (mat[8] + mat[2]) / S;\n  } else if (mat[5] > mat[10]) {\n    S = Math.sqrt(1.0 + mat[5] - mat[0] - mat[10]) * 2;\n    out[3] = (mat[8] - mat[2]) / S;\n    out[0] = (mat[1] + mat[4]) / S;\n    out[1] = 0.25 * S;\n    out[2] = (mat[6] + mat[9]) / S;\n  } else {\n    S = Math.sqrt(1.0 + mat[10] - mat[0] - mat[5]) * 2;\n    out[3] = (mat[1] - mat[4]) / S;\n    out[0] = (mat[8] + mat[2]) / S;\n    out[1] = (mat[6] + mat[9]) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {vec3} v Translation vector\r\n * @param {vec3} s Scaling vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     mat4.translate(dest, origin);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *     mat4.translate(dest, negativeOrigin);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {vec3} v Translation vector\r\n * @param {vec3} s Scaling vector\r\n * @param {vec3} o The origin vector around which to scale and rotate\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Calculates a 4x4 matrix from the given quaternion\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat4} out\r\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a frustum matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Number} left Left bound of the frustum\r\n * @param {Number} right Right bound of the frustum\r\n * @param {Number} bottom Bottom bound of the frustum\r\n * @param {Number} top Top bound of the frustum\r\n * @param {Number} near Near bound of the frustum\r\n * @param {Number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given bounds.\r\n * Passing null/undefined/no value for far will generate infinite projection matrix.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} fovy Vertical field of view in radians\r\n * @param {number} aspect Aspect ratio. typically viewport width/height\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum, can be null or Infinity\r\n * @returns {mat4} out\r\n */\n\nexport function perspective(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given field of view.\r\n * This is primarily useful for generating projection matrices to be used\r\n * with the still experiemental WebVR API.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\r\n * Generates a orthogonal projection matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} left Left bound of the frustum\r\n * @param {number} right Right bound of the frustum\r\n * @param {number} bottom Bottom bound of the frustum\r\n * @param {number} top Top bound of the frustum\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function ortho(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\r\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {vec3} eye Position of the viewer\r\n * @param {vec3} center Point the viewer is looking at\r\n * @param {vec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nexport function lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.sqrt(z0 * z0 + z1 * z1 + z2 * z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.sqrt(x0 * x0 + x1 * x1 + x2 * x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.sqrt(y0 * y0 + y1 * y1 + y2 * y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a matrix that makes something look at something else.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {vec3} eye Position of the viewer\r\n * @param {vec3} center Point the viewer is looking at\r\n * @param {vec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nexport function targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n;\n/**\r\n * Returns a string representation of a mat4\r\n *\r\n * @param {mat4} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return 'mat4(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' + a[4] + ', ' + a[5] + ', ' + a[6] + ', ' + a[7] + ', ' + a[8] + ', ' + a[9] + ', ' + a[10] + ', ' + a[11] + ', ' + a[12] + ', ' + a[13] + ', ' + a[14] + ', ' + a[15] + ')';\n}\n/**\r\n * Returns Frobenius norm of a mat4\r\n *\r\n * @param {mat4} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2) + Math.pow(a[4], 2) + Math.pow(a[5], 2) + Math.pow(a[6], 2) + Math.pow(a[7], 2) + Math.pow(a[8], 2) + Math.pow(a[9], 2) + Math.pow(a[10], 2) + Math.pow(a[11], 2) + Math.pow(a[12], 2) + Math.pow(a[13], 2) + Math.pow(a[14], 2) + Math.pow(a[15], 2));\n}\n/**\r\n * Adds two mat4's\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the first operand\r\n * @param {mat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the first operand\r\n * @param {mat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat4} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\r\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat4} out the receiving vector\r\n * @param {mat4} a the first operand\r\n * @param {mat4} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat4} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {mat4} a The first matrix.\r\n * @param {mat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {mat4} a The first matrix.\r\n * @param {mat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\r\n * Alias for {@link mat4.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat4.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\nimport * as mat3 from \"./mat3.js\";\nimport * as vec3 from \"./vec3.js\";\nimport * as vec4 from \"./vec4.js\";\n/**\r\n * Quaternion\r\n * @module quat\r\n */\n\n/**\r\n * Creates a new identity quat\r\n *\r\n * @returns {quat} a new quaternion\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Set a quat to the identity quaternion\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @returns {quat} out\r\n */\n\nexport function identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Sets a quat from the given angle and rotation axis,\r\n * then returns it.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {vec3} axis the axis around which to rotate\r\n * @param {Number} rad the angle in radians\r\n * @returns {quat} out\r\n **/\n\nexport function setAxisAngle(out, axis, rad) {\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  out[0] = s * axis[0];\n  out[1] = s * axis[1];\n  out[2] = s * axis[2];\n  out[3] = Math.cos(rad);\n  return out;\n}\n/**\r\n * Gets the rotation axis and angle for a given\r\n *  quaternion. If a quaternion is created with\r\n *  setAxisAngle, this method will return the same\r\n *  values as providied in the original parameter list\r\n *  OR functionally equivalent values.\r\n * Example: The quaternion formed by axis [0, 0, 1] and\r\n *  angle -90 is the same as the quaternion formed by\r\n *  [0, 0, 1] and 270. This method favors the latter.\r\n * @param  {vec3} out_axis  Vector receiving the axis of rotation\r\n * @param  {quat} q     Quaternion to be decomposed\r\n * @return {Number}     Angle, in radians, of the rotation\r\n */\n\nexport function getAxisAngle(out_axis, q) {\n  var rad = Math.acos(q[3]) * 2.0;\n  var s = Math.sin(rad / 2.0);\n\n  if (s > glMatrix.EPSILON) {\n    out_axis[0] = q[0] / s;\n    out_axis[1] = q[1] / s;\n    out_axis[2] = q[2] / s;\n  } else {\n    // If s is zero, return any axis (no rotation - axis does not matter)\n    out_axis[0] = 1;\n    out_axis[1] = 0;\n    out_axis[2] = 0;\n  }\n\n  return rad;\n}\n/**\r\n * Multiplies two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @returns {quat} out\r\n */\n\nexport function multiply(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  out[0] = ax * bw + aw * bx + ay * bz - az * by;\n  out[1] = ay * bw + aw * by + az * bx - ax * bz;\n  out[2] = az * bw + aw * bz + ax * by - ay * bx;\n  out[3] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\r\n * Rotates a quaternion by the given angle about the X axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {quat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\n\nexport function rotateX(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + aw * bx;\n  out[1] = ay * bw + az * bx;\n  out[2] = az * bw - ay * bx;\n  out[3] = aw * bw - ax * bx;\n  return out;\n}\n/**\r\n * Rotates a quaternion by the given angle about the Y axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {quat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\n\nexport function rotateY(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var by = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw - az * by;\n  out[1] = ay * bw + aw * by;\n  out[2] = az * bw + ax * by;\n  out[3] = aw * bw - ay * by;\n  return out;\n}\n/**\r\n * Rotates a quaternion by the given angle about the Z axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {quat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\n\nexport function rotateZ(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bz = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + ay * bz;\n  out[1] = ay * bw - ax * bz;\n  out[2] = az * bw + aw * bz;\n  out[3] = aw * bw - az * bz;\n  return out;\n}\n/**\r\n * Calculates the W component of a quat from the X, Y, and Z components.\r\n * Assumes that quaternion is 1 unit in length.\r\n * Any existing W component will be ignored.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quat to calculate W component of\r\n * @returns {quat} out\r\n */\n\nexport function calculateW(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = Math.sqrt(Math.abs(1.0 - x * x - y * y - z * z));\n  return out;\n}\n/**\r\n * Performs a spherical linear interpolation between two quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat} out\r\n */\n\nexport function slerp(out, a, b, t) {\n  // benchmarks:\n  //    http://jsperf.com/quaternion-slerp-implementations\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  var omega, cosom, sinom, scale0, scale1; // calc cosine\n\n  cosom = ax * bx + ay * by + az * bz + aw * bw; // adjust signs (if necessary)\n\n  if (cosom < 0.0) {\n    cosom = -cosom;\n    bx = -bx;\n    by = -by;\n    bz = -bz;\n    bw = -bw;\n  } // calculate coefficients\n\n\n  if (1.0 - cosom > glMatrix.EPSILON) {\n    // standard case (slerp)\n    omega = Math.acos(cosom);\n    sinom = Math.sin(omega);\n    scale0 = Math.sin((1.0 - t) * omega) / sinom;\n    scale1 = Math.sin(t * omega) / sinom;\n  } else {\n    // \"from\" and \"to\" quaternions are very close\n    //  ... so we can do a linear interpolation\n    scale0 = 1.0 - t;\n    scale1 = t;\n  } // calculate final values\n\n\n  out[0] = scale0 * ax + scale1 * bx;\n  out[1] = scale0 * ay + scale1 * by;\n  out[2] = scale0 * az + scale1 * bz;\n  out[3] = scale0 * aw + scale1 * bw;\n  return out;\n}\n/**\r\n * Generates a random quaternion\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @returns {quat} out\r\n */\n\nexport function random(out) {\n  // Implementation of http://planning.cs.uiuc.edu/node198.html\n  // TODO: Calling random 3 times is probably not the fastest solution\n  var u1 = glMatrix.RANDOM();\n  var u2 = glMatrix.RANDOM();\n  var u3 = glMatrix.RANDOM();\n  var sqrt1MinusU1 = Math.sqrt(1 - u1);\n  var sqrtU1 = Math.sqrt(u1);\n  out[0] = sqrt1MinusU1 * Math.sin(2.0 * Math.PI * u2);\n  out[1] = sqrt1MinusU1 * Math.cos(2.0 * Math.PI * u2);\n  out[2] = sqrtU1 * Math.sin(2.0 * Math.PI * u3);\n  out[3] = sqrtU1 * Math.cos(2.0 * Math.PI * u3);\n  return out;\n}\n/**\r\n * Calculates the inverse of a quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quat to calculate inverse of\r\n * @returns {quat} out\r\n */\n\nexport function invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\n  var invDot = dot ? 1.0 / dot : 0; // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\n\n  out[0] = -a0 * invDot;\n  out[1] = -a1 * invDot;\n  out[2] = -a2 * invDot;\n  out[3] = a3 * invDot;\n  return out;\n}\n/**\r\n * Calculates the conjugate of a quat\r\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quat to calculate conjugate of\r\n * @returns {quat} out\r\n */\n\nexport function conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Creates a quaternion from the given 3x3 rotation matrix.\r\n *\r\n * NOTE: The resultant quaternion is not normalized, so you should be sure\r\n * to renormalize the quaternion yourself where necessary.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {mat3} m rotation matrix\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport function fromMat3(out, m) {\n  // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n  // article \"Quaternion Calculus and Fast Animation\".\n  var fTrace = m[0] + m[4] + m[8];\n  var fRoot;\n\n  if (fTrace > 0.0) {\n    // |w| > 1/2, may as well choose w > 1/2\n    fRoot = Math.sqrt(fTrace + 1.0); // 2w\n\n    out[3] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot; // 1/(4w)\n\n    out[0] = (m[5] - m[7]) * fRoot;\n    out[1] = (m[6] - m[2]) * fRoot;\n    out[2] = (m[1] - m[3]) * fRoot;\n  } else {\n    // |w| <= 1/2\n    var i = 0;\n    if (m[4] > m[0]) i = 1;\n    if (m[8] > m[i * 3 + i]) i = 2;\n    var j = (i + 1) % 3;\n    var k = (i + 2) % 3;\n    fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1.0);\n    out[i] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot;\n    out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;\n    out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;\n    out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;\n  }\n\n  return out;\n}\n/**\r\n * Creates a quaternion from the given euler angle x, y, z.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {x} Angle to rotate around X axis in degrees.\r\n * @param {y} Angle to rotate around Y axis in degrees.\r\n * @param {z} Angle to rotate around Z axis in degrees.\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport function fromEuler(out, x, y, z) {\n  var halfToRad = 0.5 * Math.PI / 180.0;\n  x *= halfToRad;\n  y *= halfToRad;\n  z *= halfToRad;\n  var sx = Math.sin(x);\n  var cx = Math.cos(x);\n  var sy = Math.sin(y);\n  var cy = Math.cos(y);\n  var sz = Math.sin(z);\n  var cz = Math.cos(z);\n  out[0] = sx * cy * cz - cx * sy * sz;\n  out[1] = cx * sy * cz + sx * cy * sz;\n  out[2] = cx * cy * sz - sx * sy * cz;\n  out[3] = cx * cy * cz + sx * sy * sz;\n  return out;\n}\n/**\r\n * Returns a string representation of a quatenion\r\n *\r\n * @param {quat} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return 'quat(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ')';\n}\n/**\r\n * Creates a new quat initialized with values from an existing quaternion\r\n *\r\n * @param {quat} a quaternion to clone\r\n * @returns {quat} a new quaternion\r\n * @function\r\n */\n\nexport var clone = vec4.clone;\n/**\r\n * Creates a new quat initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {quat} a new quaternion\r\n * @function\r\n */\n\nexport var fromValues = vec4.fromValues;\n/**\r\n * Copy the values from one quat to another\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the source quaternion\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var copy = vec4.copy;\n/**\r\n * Set the components of a quat to the given values\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var set = vec4.set;\n/**\r\n * Adds two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var add = vec4.add;\n/**\r\n * Alias for {@link quat.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Scales a quat by a scalar number\r\n *\r\n * @param {quat} out the receiving vector\r\n * @param {quat} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var scale = vec4.scale;\n/**\r\n * Calculates the dot product of two quat's\r\n *\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @returns {Number} dot product of a and b\r\n * @function\r\n */\n\nexport var dot = vec4.dot;\n/**\r\n * Performs a linear interpolation between two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var lerp = vec4.lerp;\n/**\r\n * Calculates the length of a quat\r\n *\r\n * @param {quat} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport var length = vec4.length;\n/**\r\n * Alias for {@link quat.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Calculates the squared length of a quat\r\n *\r\n * @param {quat} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n * @function\r\n */\n\nexport var squaredLength = vec4.squaredLength;\n/**\r\n * Alias for {@link quat.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Normalize a quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quaternion to normalize\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var normalize = vec4.normalize;\n/**\r\n * Returns whether or not the quaternions have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {quat} a The first quaternion.\r\n * @param {quat} b The second quaternion.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport var exactEquals = vec4.exactEquals;\n/**\r\n * Returns whether or not the quaternions have approximately the same elements in the same position.\r\n *\r\n * @param {quat} a The first vector.\r\n * @param {quat} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport var equals = vec4.equals;\n/**\r\n * Sets a quaternion to represent the shortest rotation from one\r\n * vector to another.\r\n *\r\n * Both vectors are assumed to be unit length.\r\n *\r\n * @param {quat} out the receiving quaternion.\r\n * @param {vec3} a the initial vector\r\n * @param {vec3} b the destination vector\r\n * @returns {quat} out\r\n */\n\nexport var rotationTo = function () {\n  var tmpvec3 = vec3.create();\n  var xUnitVec3 = vec3.fromValues(1, 0, 0);\n  var yUnitVec3 = vec3.fromValues(0, 1, 0);\n  return function (out, a, b) {\n    var dot = vec3.dot(a, b);\n\n    if (dot < -0.999999) {\n      vec3.cross(tmpvec3, xUnitVec3, a);\n      if (vec3.len(tmpvec3) < 0.000001) vec3.cross(tmpvec3, yUnitVec3, a);\n      vec3.normalize(tmpvec3, tmpvec3);\n      setAxisAngle(out, tmpvec3, Math.PI);\n      return out;\n    } else if (dot > 0.999999) {\n      out[0] = 0;\n      out[1] = 0;\n      out[2] = 0;\n      out[3] = 1;\n      return out;\n    } else {\n      vec3.cross(tmpvec3, a, b);\n      out[0] = tmpvec3[0];\n      out[1] = tmpvec3[1];\n      out[2] = tmpvec3[2];\n      out[3] = 1 + dot;\n      return normalize(out, out);\n    }\n  };\n}();\n/**\r\n * Performs a spherical linear interpolation with two control points\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @param {quat} c the third operand\r\n * @param {quat} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat} out\r\n */\n\nexport var sqlerp = function () {\n  var temp1 = create();\n  var temp2 = create();\n  return function (out, a, b, c, d, t) {\n    slerp(temp1, a, d, t);\n    slerp(temp2, b, c, t);\n    slerp(out, temp1, temp2, 2 * t * (1 - t));\n    return out;\n  };\n}();\n/**\r\n * Sets the specified quaternion with values corresponding to the given\r\n * axes. Each axis is a vec3 and is expected to be unit length and\r\n * perpendicular to all other specified axes.\r\n *\r\n * @param {vec3} view  the vector representing the viewing direction\r\n * @param {vec3} right the vector representing the local \"right\" direction\r\n * @param {vec3} up    the vector representing the local \"up\" direction\r\n * @returns {quat} out\r\n */\n\nexport var setAxes = function () {\n  var matr = mat3.create();\n  return function (out, view, right, up) {\n    matr[0] = right[0];\n    matr[3] = right[1];\n    matr[6] = right[2];\n    matr[1] = up[0];\n    matr[4] = up[1];\n    matr[7] = up[2];\n    matr[2] = -view[0];\n    matr[5] = -view[1];\n    matr[8] = -view[2];\n    return normalize(out, fromMat3(out, matr));\n  };\n}();","import * as glMatrix from \"./common.js\";\nimport * as quat from \"./quat.js\";\nimport * as mat4 from \"./mat4.js\";\n/**\r\n * Dual Quaternion<br>\r\n * Format: [real, dual]<br>\r\n * Quaternion format: XYZW<br>\r\n * Make sure to have normalized dual quaternions, otherwise the functions may not work as intended.<br>\r\n * @module quat2\r\n */\n\n/**\r\n * Creates a new identity dual quat\r\n *\r\n * @returns {quat2} a new dual quaternion [real -> rotation, dual -> translation]\r\n */\n\nexport function create() {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    dq[0] = 0;\n    dq[1] = 0;\n    dq[2] = 0;\n    dq[4] = 0;\n    dq[5] = 0;\n    dq[6] = 0;\n    dq[7] = 0;\n  }\n\n  dq[3] = 1;\n  return dq;\n}\n/**\r\n * Creates a new quat initialized with values from an existing quaternion\r\n *\r\n * @param {quat2} a dual quaternion to clone\r\n * @returns {quat2} new dual quaternion\r\n * @function\r\n */\n\nexport function clone(a) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = a[0];\n  dq[1] = a[1];\n  dq[2] = a[2];\n  dq[3] = a[3];\n  dq[4] = a[4];\n  dq[5] = a[5];\n  dq[6] = a[6];\n  dq[7] = a[7];\n  return dq;\n}\n/**\r\n * Creates a new dual quat initialized with the given values\r\n *\r\n * @param {Number} x1 X component\r\n * @param {Number} y1 Y component\r\n * @param {Number} z1 Z component\r\n * @param {Number} w1 W component\r\n * @param {Number} x2 X component\r\n * @param {Number} y2 Y component\r\n * @param {Number} z2 Z component\r\n * @param {Number} w2 W component\r\n * @returns {quat2} new dual quaternion\r\n * @function\r\n */\n\nexport function fromValues(x1, y1, z1, w1, x2, y2, z2, w2) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = x1;\n  dq[1] = y1;\n  dq[2] = z1;\n  dq[3] = w1;\n  dq[4] = x2;\n  dq[5] = y2;\n  dq[6] = z2;\n  dq[7] = w2;\n  return dq;\n}\n/**\r\n * Creates a new dual quat from the given values (quat and translation)\r\n *\r\n * @param {Number} x1 X component\r\n * @param {Number} y1 Y component\r\n * @param {Number} z1 Z component\r\n * @param {Number} w1 W component\r\n * @param {Number} x2 X component (translation)\r\n * @param {Number} y2 Y component (translation)\r\n * @param {Number} z2 Z component (translation)\r\n * @returns {quat2} new dual quaternion\r\n * @function\r\n */\n\nexport function fromRotationTranslationValues(x1, y1, z1, w1, x2, y2, z2) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = x1;\n  dq[1] = y1;\n  dq[2] = z1;\n  dq[3] = w1;\n  var ax = x2 * 0.5,\n      ay = y2 * 0.5,\n      az = z2 * 0.5;\n  dq[4] = ax * w1 + ay * z1 - az * y1;\n  dq[5] = ay * w1 + az * x1 - ax * z1;\n  dq[6] = az * w1 + ax * y1 - ay * x1;\n  dq[7] = -ax * x1 - ay * y1 - az * z1;\n  return dq;\n}\n/**\r\n * Creates a dual quat from a quaternion and a translation\r\n *\r\n * @param {quat2} dual quaternion receiving operation result\r\n * @param {quat} q quaternion\r\n * @param {vec3} t tranlation vector\r\n * @returns {quat2} dual quaternion receiving operation result\r\n * @function\r\n */\n\nexport function fromRotationTranslation(out, q, t) {\n  var ax = t[0] * 0.5,\n      ay = t[1] * 0.5,\n      az = t[2] * 0.5,\n      bx = q[0],\n      by = q[1],\n      bz = q[2],\n      bw = q[3];\n  out[0] = bx;\n  out[1] = by;\n  out[2] = bz;\n  out[3] = bw;\n  out[4] = ax * bw + ay * bz - az * by;\n  out[5] = ay * bw + az * bx - ax * bz;\n  out[6] = az * bw + ax * by - ay * bx;\n  out[7] = -ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\r\n * Creates a dual quat from a translation\r\n *\r\n * @param {quat2} dual quaternion receiving operation result\r\n * @param {vec3} t translation vector\r\n * @returns {quat2} dual quaternion receiving operation result\r\n * @function\r\n */\n\nexport function fromTranslation(out, t) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = t[0] * 0.5;\n  out[5] = t[1] * 0.5;\n  out[6] = t[2] * 0.5;\n  out[7] = 0;\n  return out;\n}\n/**\r\n * Creates a dual quat from a quaternion\r\n *\r\n * @param {quat2} dual quaternion receiving operation result\r\n * @param {quat} q the quaternion\r\n * @returns {quat2} dual quaternion receiving operation result\r\n * @function\r\n */\n\nexport function fromRotation(out, q) {\n  out[0] = q[0];\n  out[1] = q[1];\n  out[2] = q[2];\n  out[3] = q[3];\n  out[4] = 0;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  return out;\n}\n/**\r\n * Creates a new dual quat from a matrix (4x4)\r\n *\r\n * @param {quat2} out the dual quaternion\r\n * @param {mat4} a the matrix\r\n * @returns {quat2} dual quat receiving operation result\r\n * @function\r\n */\n\nexport function fromMat4(out, a) {\n  //TODO Optimize this\n  var outer = quat.create();\n  mat4.getRotation(outer, a);\n  var t = new glMatrix.ARRAY_TYPE(3);\n  mat4.getTranslation(t, a);\n  fromRotationTranslation(out, outer, t);\n  return out;\n}\n/**\r\n * Copy the values from one dual quat to another\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the source dual quaternion\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  return out;\n}\n/**\r\n * Set a dual quat to the identity dual quaternion\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @returns {quat2} out\r\n */\n\nexport function identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  return out;\n}\n/**\r\n * Set the components of a dual quat to the given values\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @param {Number} x1 X component\r\n * @param {Number} y1 Y component\r\n * @param {Number} z1 Z component\r\n * @param {Number} w1 W component\r\n * @param {Number} x2 X component\r\n * @param {Number} y2 Y component\r\n * @param {Number} z2 Z component\r\n * @param {Number} w2 W component\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function set(out, x1, y1, z1, w1, x2, y2, z2, w2) {\n  out[0] = x1;\n  out[1] = y1;\n  out[2] = z1;\n  out[3] = w1;\n  out[4] = x2;\n  out[5] = y2;\n  out[6] = z2;\n  out[7] = w2;\n  return out;\n}\n/**\r\n * Gets the real part of a dual quat\r\n * @param  {quat} out real part\r\n * @param  {quat2} a Dual Quaternion\r\n * @return {quat} real part\r\n */\n\nexport var getReal = quat.copy;\n/**\r\n * Gets the dual part of a dual quat\r\n * @param  {quat} out dual part\r\n * @param  {quat2} a Dual Quaternion\r\n * @return {quat} dual part\r\n */\n\nexport function getDual(out, a) {\n  out[0] = a[4];\n  out[1] = a[5];\n  out[2] = a[6];\n  out[3] = a[7];\n  return out;\n}\n/**\r\n * Set the real component of a dual quat to the given quaternion\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @param {quat} q a quaternion representing the real part\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport var setReal = quat.copy;\n/**\r\n * Set the dual component of a dual quat to the given quaternion\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @param {quat} q a quaternion representing the dual part\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function setDual(out, q) {\n  out[4] = q[0];\n  out[5] = q[1];\n  out[6] = q[2];\n  out[7] = q[3];\n  return out;\n}\n/**\r\n * Gets the translation of a normalized dual quat\r\n * @param  {vec3} out translation\r\n * @param  {quat2} a Dual Quaternion to be decomposed\r\n * @return {vec3} translation\r\n */\n\nexport function getTranslation(out, a) {\n  var ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3];\n  out[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n  out[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n  out[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  return out;\n}\n/**\r\n * Translates a dual quat by the given vector\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the dual quaternion to translate\r\n * @param {vec3} v vector to translate by\r\n * @returns {quat2} out\r\n */\n\nexport function translate(out, a, v) {\n  var ax1 = a[0],\n      ay1 = a[1],\n      az1 = a[2],\n      aw1 = a[3],\n      bx1 = v[0] * 0.5,\n      by1 = v[1] * 0.5,\n      bz1 = v[2] * 0.5,\n      ax2 = a[4],\n      ay2 = a[5],\n      az2 = a[6],\n      aw2 = a[7];\n  out[0] = ax1;\n  out[1] = ay1;\n  out[2] = az1;\n  out[3] = aw1;\n  out[4] = aw1 * bx1 + ay1 * bz1 - az1 * by1 + ax2;\n  out[5] = aw1 * by1 + az1 * bx1 - ax1 * bz1 + ay2;\n  out[6] = aw1 * bz1 + ax1 * by1 - ay1 * bx1 + az2;\n  out[7] = -ax1 * bx1 - ay1 * by1 - az1 * bz1 + aw2;\n  return out;\n}\n/**\r\n * Rotates a dual quat around the X axis\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the dual quaternion to rotate\r\n * @param {number} rad how far should the rotation be\r\n * @returns {quat2} out\r\n */\n\nexport function rotateX(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateX(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\r\n * Rotates a dual quat around the Y axis\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the dual quaternion to rotate\r\n * @param {number} rad how far should the rotation be\r\n * @returns {quat2} out\r\n */\n\nexport function rotateY(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateY(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\r\n * Rotates a dual quat around the Z axis\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the dual quaternion to rotate\r\n * @param {number} rad how far should the rotation be\r\n * @returns {quat2} out\r\n */\n\nexport function rotateZ(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateZ(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\r\n * Rotates a dual quat by a given quaternion (a * q)\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the dual quaternion to rotate\r\n * @param {quat} q quaternion to rotate by\r\n * @returns {quat2} out\r\n */\n\nexport function rotateByQuatAppend(out, a, q) {\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3],\n      ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  out[0] = ax * qw + aw * qx + ay * qz - az * qy;\n  out[1] = ay * qw + aw * qy + az * qx - ax * qz;\n  out[2] = az * qw + aw * qz + ax * qy - ay * qx;\n  out[3] = aw * qw - ax * qx - ay * qy - az * qz;\n  ax = a[4];\n  ay = a[5];\n  az = a[6];\n  aw = a[7];\n  out[4] = ax * qw + aw * qx + ay * qz - az * qy;\n  out[5] = ay * qw + aw * qy + az * qx - ax * qz;\n  out[6] = az * qw + aw * qz + ax * qy - ay * qx;\n  out[7] = aw * qw - ax * qx - ay * qy - az * qz;\n  return out;\n}\n/**\r\n * Rotates a dual quat by a given quaternion (q * a)\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat} q quaternion to rotate by\r\n * @param {quat2} a the dual quaternion to rotate\r\n * @returns {quat2} out\r\n */\n\nexport function rotateByQuatPrepend(out, q, a) {\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3],\n      bx = a[0],\n      by = a[1],\n      bz = a[2],\n      bw = a[3];\n  out[0] = qx * bw + qw * bx + qy * bz - qz * by;\n  out[1] = qy * bw + qw * by + qz * bx - qx * bz;\n  out[2] = qz * bw + qw * bz + qx * by - qy * bx;\n  out[3] = qw * bw - qx * bx - qy * by - qz * bz;\n  bx = a[4];\n  by = a[5];\n  bz = a[6];\n  bw = a[7];\n  out[4] = qx * bw + qw * bx + qy * bz - qz * by;\n  out[5] = qy * bw + qw * by + qz * bx - qx * bz;\n  out[6] = qz * bw + qw * bz + qx * by - qy * bx;\n  out[7] = qw * bw - qx * bx - qy * by - qz * bz;\n  return out;\n}\n/**\r\n * Rotates a dual quat around a given axis. Does the normalisation automatically\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the dual quaternion to rotate\r\n * @param {vec3} axis the axis to rotate around\r\n * @param {Number} rad how far the rotation should be\r\n * @returns {quat2} out\r\n */\n\nexport function rotateAroundAxis(out, a, axis, rad) {\n  //Special case for rad = 0\n  if (Math.abs(rad) < glMatrix.EPSILON) {\n    return copy(out, a);\n  }\n\n  var axisLength = Math.sqrt(axis[0] * axis[0] + axis[1] * axis[1] + axis[2] * axis[2]);\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  var bx = s * axis[0] / axisLength;\n  var by = s * axis[1] / axisLength;\n  var bz = s * axis[2] / axisLength;\n  var bw = Math.cos(rad);\n  var ax1 = a[0],\n      ay1 = a[1],\n      az1 = a[2],\n      aw1 = a[3];\n  out[0] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[1] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[2] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[3] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  var ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  out[4] = ax * bw + aw * bx + ay * bz - az * by;\n  out[5] = ay * bw + aw * by + az * bx - ax * bz;\n  out[6] = az * bw + aw * bz + ax * by - ay * bx;\n  out[7] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\r\n * Adds two dual quat's\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the first operand\r\n * @param {quat2} b the second operand\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  return out;\n}\n/**\r\n * Multiplies two dual quat's\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the first operand\r\n * @param {quat2} b the second operand\r\n * @returns {quat2} out\r\n */\n\nexport function multiply(out, a, b) {\n  var ax0 = a[0],\n      ay0 = a[1],\n      az0 = a[2],\n      aw0 = a[3],\n      bx1 = b[4],\n      by1 = b[5],\n      bz1 = b[6],\n      bw1 = b[7],\n      ax1 = a[4],\n      ay1 = a[5],\n      az1 = a[6],\n      aw1 = a[7],\n      bx0 = b[0],\n      by0 = b[1],\n      bz0 = b[2],\n      bw0 = b[3];\n  out[0] = ax0 * bw0 + aw0 * bx0 + ay0 * bz0 - az0 * by0;\n  out[1] = ay0 * bw0 + aw0 * by0 + az0 * bx0 - ax0 * bz0;\n  out[2] = az0 * bw0 + aw0 * bz0 + ax0 * by0 - ay0 * bx0;\n  out[3] = aw0 * bw0 - ax0 * bx0 - ay0 * by0 - az0 * bz0;\n  out[4] = ax0 * bw1 + aw0 * bx1 + ay0 * bz1 - az0 * by1 + ax1 * bw0 + aw1 * bx0 + ay1 * bz0 - az1 * by0;\n  out[5] = ay0 * bw1 + aw0 * by1 + az0 * bx1 - ax0 * bz1 + ay1 * bw0 + aw1 * by0 + az1 * bx0 - ax1 * bz0;\n  out[6] = az0 * bw1 + aw0 * bz1 + ax0 * by1 - ay0 * bx1 + az1 * bw0 + aw1 * bz0 + ax1 * by0 - ay1 * bx0;\n  out[7] = aw0 * bw1 - ax0 * bx1 - ay0 * by1 - az0 * bz1 + aw1 * bw0 - ax1 * bx0 - ay1 * by0 - az1 * bz0;\n  return out;\n}\n/**\r\n * Alias for {@link quat2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Scales a dual quat by a scalar number\r\n *\r\n * @param {quat2} out the receiving dual quat\r\n * @param {quat2} a the dual quat to scale\r\n * @param {Number} b amount to scale the dual quat by\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  return out;\n}\n/**\r\n * Calculates the dot product of two dual quat's (The dot product of the real parts)\r\n *\r\n * @param {quat2} a the first operand\r\n * @param {quat2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n * @function\r\n */\n\nexport var dot = quat.dot;\n/**\r\n * Performs a linear interpolation between two dual quats's\r\n * NOTE: The resulting dual quaternions won't always be normalized (The error is most noticeable when t = 0.5)\r\n *\r\n * @param {quat2} out the receiving dual quat\r\n * @param {quat2} a the first operand\r\n * @param {quat2} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat2} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var mt = 1 - t;\n  if (dot(a, b) < 0) t = -t;\n  out[0] = a[0] * mt + b[0] * t;\n  out[1] = a[1] * mt + b[1] * t;\n  out[2] = a[2] * mt + b[2] * t;\n  out[3] = a[3] * mt + b[3] * t;\n  out[4] = a[4] * mt + b[4] * t;\n  out[5] = a[5] * mt + b[5] * t;\n  out[6] = a[6] * mt + b[6] * t;\n  out[7] = a[7] * mt + b[7] * t;\n  return out;\n}\n/**\r\n * Calculates the inverse of a dual quat. If they are normalized, conjugate is cheaper\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a dual quat to calculate inverse of\r\n * @returns {quat2} out\r\n */\n\nexport function invert(out, a) {\n  var sqlen = squaredLength(a);\n  out[0] = -a[0] / sqlen;\n  out[1] = -a[1] / sqlen;\n  out[2] = -a[2] / sqlen;\n  out[3] = a[3] / sqlen;\n  out[4] = -a[4] / sqlen;\n  out[5] = -a[5] / sqlen;\n  out[6] = -a[6] / sqlen;\n  out[7] = a[7] / sqlen;\n  return out;\n}\n/**\r\n * Calculates the conjugate of a dual quat\r\n * If the dual quaternion is normalized, this function is faster than quat2.inverse and produces the same result.\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @param {quat2} a quat to calculate conjugate of\r\n * @returns {quat2} out\r\n */\n\nexport function conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  out[4] = -a[4];\n  out[5] = -a[5];\n  out[6] = -a[6];\n  out[7] = a[7];\n  return out;\n}\n/**\r\n * Calculates the length of a dual quat\r\n *\r\n * @param {quat2} a dual quat to calculate length of\r\n * @returns {Number} length of a\r\n * @function\r\n */\n\nexport var length = quat.length;\n/**\r\n * Alias for {@link quat2.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Calculates the squared length of a dual quat\r\n *\r\n * @param {quat2} a dual quat to calculate squared length of\r\n * @returns {Number} squared length of a\r\n * @function\r\n */\n\nexport var squaredLength = quat.squaredLength;\n/**\r\n * Alias for {@link quat2.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Normalize a dual quat\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a dual quaternion to normalize\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function normalize(out, a) {\n  var magnitude = squaredLength(a);\n\n  if (magnitude > 0) {\n    magnitude = Math.sqrt(magnitude);\n    var a0 = a[0] / magnitude;\n    var a1 = a[1] / magnitude;\n    var a2 = a[2] / magnitude;\n    var a3 = a[3] / magnitude;\n    var b0 = a[4];\n    var b1 = a[5];\n    var b2 = a[6];\n    var b3 = a[7];\n    var a_dot_b = a0 * b0 + a1 * b1 + a2 * b2 + a3 * b3;\n    out[0] = a0;\n    out[1] = a1;\n    out[2] = a2;\n    out[3] = a3;\n    out[4] = (b0 - a0 * a_dot_b) / magnitude;\n    out[5] = (b1 - a1 * a_dot_b) / magnitude;\n    out[6] = (b2 - a2 * a_dot_b) / magnitude;\n    out[7] = (b3 - a3 * a_dot_b) / magnitude;\n  }\n\n  return out;\n}\n/**\r\n * Returns a string representation of a dual quatenion\r\n *\r\n * @param {quat2} a dual quaternion to represent as a string\r\n * @returns {String} string representation of the dual quat\r\n */\n\nexport function str(a) {\n  return 'quat2(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' + a[4] + ', ' + a[5] + ', ' + a[6] + ', ' + a[7] + ')';\n}\n/**\r\n * Returns whether or not the dual quaternions have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {quat2} a the first dual quaternion.\r\n * @param {quat2} b the second dual quaternion.\r\n * @returns {Boolean} true if the dual quaternions are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7];\n}\n/**\r\n * Returns whether or not the dual quaternions have approximately the same elements in the same position.\r\n *\r\n * @param {quat2} a the first dual quat.\r\n * @param {quat2} b the second dual quat.\r\n * @returns {Boolean} true if the dual quats are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7));\n}","import * as glMatrix from \"./common.js\";\n/**\r\n * 2 Dimensional Vector\r\n * @module vec2\r\n */\n\n/**\r\n * Creates a new, empty vec2\r\n *\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with values from an existing vector\r\n *\r\n * @param {vec2} a vector to clone\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Copy the values from one vec2 to another\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the source vector\r\n * @returns {vec2} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Set the components of a vec2 to the given values\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} out\r\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Adds two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\r\n * Multiplies two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\r\n * Divides two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to ceil\r\n * @returns {vec2} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to floor\r\n * @returns {vec2} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to round\r\n * @returns {vec2} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\r\n * Scales a vec2 by a scalar number\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec2} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\r\n * Adds two vec2's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec2} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec2's\r\n *\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.sqrt(x * x + y * y);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec2's\r\n *\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\r\n * Calculates the length of a vec2\r\n *\r\n * @param {vec2} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.sqrt(x * x + y * y);\n}\n/**\r\n * Calculates the squared length of a vec2\r\n *\r\n * @param {vec2} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\r\n * Negates the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to negate\r\n * @returns {vec2} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to invert\r\n * @returns {vec2} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\r\n * Normalize a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to normalize\r\n * @returns {vec2} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec2's\r\n *\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\r\n * Computes the cross product of two vec2's\r\n * Note that the cross product must by definition produce a 3D vector\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec2} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec2} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat2} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2d\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat2d} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat3\r\n * 3rd vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat3} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat4\r\n * 3rd vector component is implicitly '0'\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat4} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\r\n * Rotate a 2D vector\r\n * @param {vec2} out The receiving vec2\r\n * @param {vec2} a The vec2 point to rotate\r\n * @param {vec2} b The origin of the rotation\r\n * @param {Number} c The angle of rotation\r\n * @returns {vec2} out\r\n */\n\nexport function rotate(out, a, b, c) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(c),\n      cosC = Math.cos(c); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\r\n * Get the angle between two 2D vectors\r\n * @param {vec2} a The first operand\r\n * @param {vec2} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1];\n  var len1 = x1 * x1 + y1 * y1;\n\n  if (len1 > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len1 = 1 / Math.sqrt(len1);\n  }\n\n  var len2 = x2 * x2 + y2 * y2;\n\n  if (len2 > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len2 = 1 / Math.sqrt(len2);\n  }\n\n  var cosine = (x1 * x2 + y1 * y2) * len1 * len2;\n\n  if (cosine > 1.0) {\n    return 0;\n  } else if (cosine < -1.0) {\n    return Math.PI;\n  } else {\n    return Math.acos(cosine);\n  }\n}\n/**\r\n * Set the components of a vec2 to zero\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @returns {vec2} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {vec2} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return 'vec2(' + a[0] + ', ' + a[1] + ')';\n}\n/**\r\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\r\n *\r\n * @param {vec2} a The first vector.\r\n * @param {vec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {vec2} a The first vector.\r\n * @param {vec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\r\n * Alias for {@link vec2.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec2.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec2.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec2.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec2.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec2.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec2s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\n/**\r\n * 3 Dimensional Vector\r\n * @module vec3\r\n */\n\n/**\r\n * Creates a new, empty vec3\r\n *\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec3 initialized with values from an existing vector\r\n *\r\n * @param {vec3} a vector to clone\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Calculates the length of a vec3\r\n *\r\n * @param {vec3} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.sqrt(x * x + y * y + z * z);\n}\n/**\r\n * Creates a new vec3 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Copy the values from one vec3 to another\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the source vector\r\n * @returns {vec3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Set the components of a vec3 to the given values\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} out\r\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Adds two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\r\n * Multiplies two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\r\n * Divides two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to ceil\r\n * @returns {vec3} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to floor\r\n * @returns {vec3} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to round\r\n * @returns {vec3} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\r\n * Scales a vec3 by a scalar number\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec3} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\r\n * Adds two vec3's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec3} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec3's\r\n *\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.sqrt(x * x + y * y + z * z);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec3's\r\n *\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Calculates the squared length of a vec3\r\n *\r\n * @param {vec3} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Negates the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to negate\r\n * @returns {vec3} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to invert\r\n * @returns {vec3} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\r\n * Normalize a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to normalize\r\n * @returns {vec3} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec3's\r\n *\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\r\n * Computes the cross product of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\r\n * Performs a hermite interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @param {vec3} c the third operand\r\n * @param {vec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Performs a bezier interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @param {vec3} c the third operand\r\n * @param {vec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec3} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat4.\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to transform\r\n * @param {mat4} m matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat3.\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to transform\r\n * @param {mat3} m the 3x3 matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\r\n * Transforms the vec3 with a quat\r\n * Can also be used for dual quaternions. (Multiply it with the real part)\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to transform\r\n * @param {quat} q quaternion to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the x-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {vec3} a The vec3 point to rotate\r\n * @param {vec3} b The origin of the rotation\r\n * @param {Number} c The angle of rotation\r\n * @returns {vec3} out\r\n */\n\nexport function rotateX(out, a, b, c) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(c) - p[2] * Math.sin(c);\n  r[2] = p[1] * Math.sin(c) + p[2] * Math.cos(c); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the y-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {vec3} a The vec3 point to rotate\r\n * @param {vec3} b The origin of the rotation\r\n * @param {Number} c The angle of rotation\r\n * @returns {vec3} out\r\n */\n\nexport function rotateY(out, a, b, c) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(c) + p[0] * Math.cos(c);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(c) - p[0] * Math.sin(c); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the z-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {vec3} a The vec3 point to rotate\r\n * @param {vec3} b The origin of the rotation\r\n * @param {Number} c The angle of rotation\r\n * @returns {vec3} out\r\n */\n\nexport function rotateZ(out, a, b, c) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(c) - p[1] * Math.sin(c);\n  r[1] = p[0] * Math.sin(c) + p[1] * Math.cos(c);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Get the angle between two 3D vectors\r\n * @param {vec3} a The first operand\r\n * @param {vec3} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var tempA = fromValues(a[0], a[1], a[2]);\n  var tempB = fromValues(b[0], b[1], b[2]);\n  normalize(tempA, tempA);\n  normalize(tempB, tempB);\n  var cosine = dot(tempA, tempB);\n\n  if (cosine > 1.0) {\n    return 0;\n  } else if (cosine < -1.0) {\n    return Math.PI;\n  } else {\n    return Math.acos(cosine);\n  }\n}\n/**\r\n * Set the components of a vec3 to zero\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @returns {vec3} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {vec3} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return 'vec3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ')';\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {vec3} a The first vector.\r\n * @param {vec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {vec3} a The first vector.\r\n * @param {vec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\r\n * Alias for {@link vec3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec3.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec3.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec3.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec3.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec3.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec3s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\n/**\r\n * 4 Dimensional Vector\r\n * @module vec4\r\n */\n\n/**\r\n * Creates a new, empty vec4\r\n *\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with values from an existing vector\r\n *\r\n * @param {vec4} a vector to clone\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function fromValues(x, y, z, w) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Copy the values from one vec4 to another\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the source vector\r\n * @returns {vec4} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to the given values\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} out\r\n */\n\nexport function set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Adds two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\r\n * Multiplies two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\r\n * Divides two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to ceil\r\n * @returns {vec4} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to floor\r\n * @returns {vec4} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to round\r\n * @returns {vec4} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\r\n * Scales a vec4 by a scalar number\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec4} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\r\n * Adds two vec4's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec4} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec4's\r\n *\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.sqrt(x * x + y * y + z * z + w * w);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec4's\r\n *\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Calculates the length of a vec4\r\n *\r\n * @param {vec4} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.sqrt(x * x + y * y + z * z + w * w);\n}\n/**\r\n * Calculates the squared length of a vec4\r\n *\r\n * @param {vec4} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Negates the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to negate\r\n * @returns {vec4} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to invert\r\n * @returns {vec4} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\r\n * Normalize a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to normalize\r\n * @returns {vec4} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec4's\r\n *\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\r\n * Returns the cross-product of three vectors in a 4-dimensional space\r\n *\r\n * @param {vec4} result the receiving vector\r\n * @param {vec4} U the first vector\r\n * @param {vec4} V the second vector\r\n * @param {vec4} W the third vector\r\n * @returns {vec4} result\r\n */\n\nexport function cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n;\n/**\r\n * Performs a linear interpolation between two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec4} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec4} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = glMatrix.RANDOM() * 2 - 1;\n    v2 = glMatrix.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = glMatrix.RANDOM() * 2 - 1;\n    v4 = glMatrix.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a mat4.\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the vector to transform\r\n * @param {mat4} m matrix to transform with\r\n * @returns {vec4} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a quat\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the vector to transform\r\n * @param {quat} q quaternion to transform with\r\n * @returns {vec4} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to zero\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @returns {vec4} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {vec4} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return 'vec4(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ')';\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {vec4} a The first vector.\r\n * @param {vec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {vec4} a The first vector.\r\n * @param {vec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\r\n * Alias for {@link vec4.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec4.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec4.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec4.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec4.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec4.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec4.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec4s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();","import {Viewer} from \"../../lib/viewer\";\r\nimport {EnvironmentScene} from \"./scenes/EnvironmentScene\";\r\nimport {ModelScene} from \"./scenes/ModelScene\";\r\nimport {GUIComponent} from \"../../lib/components/gui\";\r\nimport {ECS, IEntity} from \"curbl-ecs\";\r\nimport {CameraComponent, LookAtCameraComponent} from \"../../lib/components/camera\";\r\nimport {TransformComponent} from \"../../lib/components/transform\";\r\nimport {mat4} from \"gl-matrix\";\r\n\r\nconst sampleModels = {\r\n    \"BoxAnimated\": {\r\n        gltfJson: \"https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/BoxAnimated/glTF/BoxAnimated.gltf\",\r\n        gltfBin: \"https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/BoxAnimated/glTF/BoxAnimated0.bin\"\r\n    },\r\n    \"RiggedSimple\": {\r\n        gltfJson: \"https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/RiggedSimple/glTF/RiggedSimple.gltf\",\r\n        gltfBin: \"https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/RiggedSimple/glTF/RiggedSimple0.bin\"\r\n    },\r\n    \"BrainStem\": {\r\n        gltfJson: \"https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/BrainStem/glTF/BrainStem.gltf\",\r\n        gltfBin: \"https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/BrainStem/glTF/BrainStem0.bin\"\r\n    },\r\n    \"WaterBottle\": {\r\n        gltfJson: \"https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/WaterBottle/glTF/WaterBottle.gltf\",\r\n        gltfBin: \"https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/WaterBottle/glTF/WaterBottle.bin\"\r\n    },\r\n    \"Sponza\": {\r\n        gltfJson: \"https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/Sponza/glTF/Sponza.gltf\",\r\n        gltfBin: \"https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/Sponza/glTF/Sponza.bin\"\r\n    },\r\n    \"DamagedHelmet\": {\r\n        gltfJson: \"https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/DamagedHelmet/glTF/DamagedHelmet.gltf\",\r\n        gltfBin: \"https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/DamagedHelmet/glTF/DamagedHelmet.bin\"\r\n    },\r\n    \"MetalRoughSpheres\": {\r\n        gltfJson: \"https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/MetalRoughSpheres/glTF/MetalRoughSpheres.gltf\",\r\n        gltfBin: \"https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/MetalRoughSpheres/glTF/MetalRoughSpheres0.bin\"\r\n    }\r\n};\r\n\r\nexport class Example {\r\n    private camera:IEntity;\r\n    private viewer: Viewer;\r\n    private scene: string;\r\n\r\n    constructor() {\r\n        this.scene = \"DamagedHelmet\";\r\n        this.viewer = new Viewer({width:window.innerWidth, height:window.innerHeight});\r\n        this.viewer.init(()=>this.init());\r\n    }\r\n\r\n    private init() {\r\n        this.createSceneSelector();\r\n        this.createCamera();\r\n\r\n        this.viewer.world.addScene(new EnvironmentScene({name: \"Environment\"}));\r\n\r\n        this.viewer.world.addScene(new ModelScene({\r\n            name: \"ModelScene\",\r\n            gltfJson: sampleModels[this.scene].gltfJson,\r\n            gltfBin: sampleModels[this.scene].gltfBin,\r\n            shader: this.viewer.shader\r\n        }));\r\n\r\n        this.viewer.world.start(\"Environment\");\r\n        this.viewer.world.start(\"ModelScene\");\r\n    }\r\n\r\n    private reloadModelScene() {\r\n        this.viewer.loader.stop();\r\n        this.viewer.world.removeScene(\"ModelScene\");\r\n\r\n        this.viewer.world.addScene(new ModelScene({\r\n            name: \"ModelScene\",\r\n            gltfJson: sampleModels[this.scene].gltfJson,\r\n            gltfBin: sampleModels[this.scene].gltfBin,\r\n            shader: this.viewer.shader\r\n        }));\r\n\r\n        this.viewer.world.start(\"ModelScene\");\r\n    }\r\n\r\n    private createCamera() {\r\n        this.camera = ECS.createEntity();\r\n        this.camera.add(new CameraComponent({\r\n            aspect: (window.innerWidth/window.innerHeight),\r\n            fovy: 45.0 * Math.PI / 180.0,\r\n            near: 0.01,\r\n            far: 100.0\r\n        }));\r\n        this.camera.add(new TransformComponent({\r\n            position: {x:0,y:0,z:-4.00},\r\n            rotation: {x:0,y:0,z:0,w:1},\r\n            scale: {x:1,y:1,z:1}\r\n        }));\r\n        this.camera.add(new LookAtCameraComponent());\r\n        ECS.addEntity(this.camera);\r\n\r\n        window.addEventListener('resize', () => this.onResize());\r\n    }\r\n\r\n    private onResize() {\r\n        if(this.camera) {\r\n            mat4.perspective(\r\n                this.camera.get(CameraComponent).projMatrix,\r\n                45.0 * Math.PI / 180.0,\r\n                (window.innerWidth / window.innerHeight),\r\n                0.01,\r\n                100\r\n            );\r\n        }\r\n    }\r\n\r\n    private createSceneSelector() {\r\n        const entity = ECS.createEntity();\r\n        entity.add(new GUIComponent({\r\n            properties: [\r\n                {\r\n                    prop: this,\r\n                    propName: \"scene\",\r\n                    items: Object.keys(sampleModels),\r\n                    onChange: ()=>this.reloadModelScene()\r\n                }\r\n            ]\r\n        }));\r\n        ECS.addEntity(entity);\r\n    }\r\n}","import {Example} from \"./example\";\r\n\r\nwindow.onload = () => {new Example();};","import {\r\n    WorldScene,\r\n    CubemapLoader,\r\n    GLOBAL_TEXTURES,\r\n    GL_INTERNALFORMAT,\r\n    GL_TYPES,\r\n    MAG_FILTER,\r\n    MIN_FILTER,\r\n    TEXTURE_WRAP,\r\n    LightComponent,\r\n    GUIComponent,\r\n    TextureLoader\r\n} from \"../../../lib\";\r\nimport {ECS} from \"curbl-ecs\";\r\n\r\nexport class EnvironmentScene extends WorldScene {\r\n    preload(): void {\r\n        this.loader.get(CubemapLoader).add(GLOBAL_TEXTURES.SKYBOX,\r\n            [{\r\n                right:'https://raw.githubusercontent.com/Xan0C/curbl-gltf-viewer/master/assets/ibl/environment/environment_right_0.jpg',\r\n                left:'https://raw.githubusercontent.com/Xan0C/curbl-gltf-viewer/master/assets/ibl/environment/environment_left_0.jpg',\r\n                top:'https://raw.githubusercontent.com/Xan0C/curbl-gltf-viewer/master/assets/ibl/environment/environment_top_0.jpg',\r\n                bottom:'https://raw.githubusercontent.com/Xan0C/curbl-gltf-viewer/master/assets/ibl/environment/environment_bottom_0.jpg',\r\n                front:'https://raw.githubusercontent.com/Xan0C/curbl-gltf-viewer/master/assets/ibl/environment/environment_front_0.jpg',\r\n                back:'https://raw.githubusercontent.com/Xan0C/curbl-gltf-viewer/master/assets/ibl/environment/environment_back_0.jpg'\r\n            }]\r\n        );\r\n\r\n        this.loader.get(CubemapLoader).add(GLOBAL_TEXTURES.DIFFUSE_ENVIRONMENT,\r\n            [{\r\n                right:'https://raw.githubusercontent.com/Xan0C/curbl-gltf-viewer/master/assets/ibl/diffuse/diffuse_right_0.jpg',\r\n                left:'https://raw.githubusercontent.com/Xan0C/curbl-gltf-viewer/master/assets/ibl/diffuse/diffuse_left_0.jpg',\r\n                top:'https://raw.githubusercontent.com/Xan0C/curbl-gltf-viewer/master/assets/ibl/diffuse/diffuse_top_0.jpg',\r\n                bottom:'https://raw.githubusercontent.com/Xan0C/curbl-gltf-viewer/master/assets/ibl/diffuse/diffuse_bottom_0.jpg',\r\n                front:'https://raw.githubusercontent.com/Xan0C/curbl-gltf-viewer/master/assets/ibl/diffuse/diffuse_front_0.jpg',\r\n                back:'https://raw.githubusercontent.com/Xan0C/curbl-gltf-viewer/master/assets/ibl/diffuse/diffuse_back_0.jpg'\r\n            }],\r\n            {\r\n                premultiplyAlpha: false,\r\n                internalFormat: GL_INTERNALFORMAT.SRGB8_ALPHA8,\r\n                format: GL_INTERNALFORMAT.RGBA,\r\n                type:GL_TYPES.UNSIGNED_BYTE\r\n            }\r\n        );\r\n\r\n        let specular_map = [];\r\n        for(let i=0; i < 10; i++){\r\n            specular_map.push({\r\n                right:'https://raw.githubusercontent.com/Xan0C/curbl-gltf-viewer/master/assets/ibl/specular/specular_right_'+i+'.jpg',\r\n                left:'https://raw.githubusercontent.com/Xan0C/curbl-gltf-viewer/master/assets/ibl/specular/specular_left_'+i+'.jpg',\r\n                top:'https://raw.githubusercontent.com/Xan0C/curbl-gltf-viewer/master/assets/ibl/specular/specular_top_'+i+'.jpg',\r\n                bottom:'https://raw.githubusercontent.com/Xan0C/curbl-gltf-viewer/master/assets/ibl/specular/specular_bottom_'+i+'.jpg',\r\n                front:'https://raw.githubusercontent.com/Xan0C/curbl-gltf-viewer/master/assets/ibl/specular/specular_front_'+i+'.jpg',\r\n                back:'https://raw.githubusercontent.com/Xan0C/curbl-gltf-viewer/master/assets/ibl/specular/specular_back_'+i+'.jpg'\r\n            });\r\n        }\r\n\r\n        this.loader.get(CubemapLoader).add(GLOBAL_TEXTURES.SPECULAR_ENVIRONMENT, specular_map, {\r\n            premultiplyAlpha: false,\r\n            internalFormat: GL_INTERNALFORMAT.SRGB8_ALPHA8,\r\n            format: GL_INTERNALFORMAT.RGBA,\r\n            type:GL_TYPES.UNSIGNED_BYTE\r\n        });\r\n\r\n        this.loader.get(TextureLoader).add(\r\n            GLOBAL_TEXTURES.BRDF_LUT,\r\n            \"https://raw.githubusercontent.com/Xan0C/curbl-gltf-viewer/master/assets/ibl/brdfLUT.png\",\r\n            {\r\n                premultiplyAlpha: false,\r\n                internalFormat: GL_INTERNALFORMAT.SRGB8_ALPHA8,\r\n                format: GL_INTERNALFORMAT.RGBA,\r\n                type:GL_TYPES.UNSIGNED_BYTE,\r\n                sampler: {\r\n                    magFilter:MAG_FILTER.LINEAR,\r\n                    minFilter:MIN_FILTER.LINEAR,\r\n                    wrapS:TEXTURE_WRAP.CLAMP_TO_EDGE,\r\n                    wrapT:TEXTURE_WRAP.CLAMP_TO_EDGE\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n    create(): void {\r\n        const entity = ECS.createEntity();\r\n        const lightComponent = new LightComponent({\r\n            lightColor: [255, 255, 255],\r\n            lightScale: 1.0,\r\n            lightRotation: 75,\r\n            lightPitch: 40\r\n        });\r\n        entity.add(lightComponent);\r\n        entity.add(new GUIComponent({\r\n            folder: \"Directional Light\",\r\n            properties: [\r\n                {\r\n                    prop: lightComponent,\r\n                    propName: \"lightColor\",\r\n                    isColor: true,\r\n                    onChange: ()=>lightComponent.updateLight()\r\n                },\r\n                {\r\n                    prop: lightComponent,\r\n                    propName: \"lightScale\",\r\n                    min: 0,\r\n                    max: 10,\r\n                    onChange: ()=>lightComponent.updateLight()\r\n                },\r\n                {\r\n                    prop: lightComponent,\r\n                    propName: \"lightRotation\",\r\n                    min: 0,\r\n                    max: 360,\r\n                    onChange: ()=>lightComponent.updateLight()\r\n                },\r\n                {\r\n                    prop: lightComponent,\r\n                    propName: \"lightPitch\",\r\n                    min: -90,\r\n                    max: 90,\r\n                    onChange: ()=>lightComponent.updateLight()\r\n                }\r\n            ]\r\n        }));\r\n        this.add(entity);\r\n    }\r\n\r\n    shutdown(): void {\r\n    }\r\n\r\n    update(): void {\r\n    }\r\n}","import {\r\n    AnimationComponent,\r\n    CACHE_TYPE,\r\n    GLTFLoader,\r\n    KhronosPbrShader,\r\n    Scene,\r\n    SceneComponent,\r\n    SceneConfig,\r\n    TransformComponent,\r\n    WorldScene\r\n} from \"../../../lib\";\r\nimport {ECS} from \"curbl-ecs\";\r\n\r\nexport interface ModelSceneConfig extends SceneConfig {\r\n    gltfJson: string;\r\n    gltfBin: string;\r\n    shader: KhronosPbrShader\r\n}\r\n\r\nexport class ModelScene extends WorldScene {\r\n\r\n    private gltfJson:string;\r\n    private gltfBin:string;\r\n    private shader:KhronosPbrShader;\r\n\r\n    constructor(config: ModelSceneConfig) {\r\n        super(config);\r\n        this.gltfJson = config.gltfJson;\r\n        this.gltfBin = config.gltfBin;\r\n        this.shader = config.shader;\r\n    }\r\n\r\n    preload(): void {\r\n        this.loader.get(GLTFLoader).add(\r\n            \"ExampleScene\",\r\n            this.gltfJson,\r\n            this.gltfBin\r\n        );\r\n    }\r\n\r\n    create(): void {\r\n        const sceneObj = this.cache.get<Scene>(CACHE_TYPE.SCENE, \"ExampleScene\");\r\n\r\n        this.shader.unload();\r\n        this.shader.initializeDefines(sceneObj.meshes[0]);\r\n        this.shader.upload();\r\n\r\n        const scene = ECS.createEntity();\r\n        scene.add(new SceneComponent({key: \"ExampleScene\"}));\r\n        scene.add(new TransformComponent({\r\n            position: {x:0, y:0, z:0},\r\n            rotation: {x:0, y:0, z:0, w:1},\r\n            scale: {x:1, y:1, z:1}\r\n        }));\r\n        if(sceneObj.animations[0]) {\r\n            const animationKey = sceneObj.animations[0].name;\r\n            scene.add(new AnimationComponent({key: animationKey}));\r\n        }\r\n        this.add(scene);\r\n    }\r\n\r\n    shutdown(): void {\r\n    }\r\n\r\n    update(): void {\r\n    }\r\n\r\n}"],"sourceRoot":""}